"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{31184:function(oe,A,e){e.r(A);var Q=e(25359),b=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(37606),y=e(60096),Y=e(49188),L=e(25606),W=e(50959),_=e(11527),P=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(G){setTimeout(function(){G(!0)},c)})},F=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}];A.default=function(){var U=(0,W.useState)([]),c=x()(U,2),G=c[0],Z=c[1],M=(0,W.useState)([]),g=x()(M,2),u=g[0],J=g[1],I=(0,W.useState)("bottom"),m=x()(I,2),i=m[0],l=m[1],a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(r,o){var f=o.rowIndex;return{rules:f>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(r,o,f){return f!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(r,o){var f=o.rowKey,v=o.rowIndex;return r.getFieldValue([f||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:v>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(r,o,f,v){return[(0,_.jsx)("a",{onClick:function(){var B;v==null||(B=v.startEditable)===null||B===void 0||B.call(v,o.id)},children:"\u7F16\u8F91"},"editable"),(0,_.jsx)("a",{onClick:function(){J(u.filter(function(B){return B.id!==o.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(H.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:i!=="hidden"?{position:i,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,_.jsx)(y.Z.Group,{fieldProps:{value:i,onChange:function(o){return l(o.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:a,request:N()(b()().mark(function n(){return b()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:F,total:3,success:!0});case 1:case"end":return o.stop()}},n)})),value:u,onChange:J,editable:{type:"multiple",editableKeys:G,onSave:function(){var n=N()(b()().mark(function o(f,v,z){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(f,v,z),t.next=3,P(2e3);case 3:case"end":return t.stop()}},o)}));function r(o,f,v){return n.apply(this,arguments)}return r}(),onChange:Z}}),(0,_.jsx)(Y.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,_.jsx)(L.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(u)})})]})}},70707:function(oe,A,e){e.r(A);var Q=e(25359),b=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(57213),y=e.n(H),Y=e(42517),L=e(37606),W=e(49188),_=e(25606),P=e(50959),F=e(11527),U=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(g){setTimeout(function(){g(!0)},M)})},c=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3,children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],G=function Z(M,g){return M.map(function(u){if(u.id!==g){if(u.children){var J=Z(u.children,g);return y()(y()({},u),{},{children:J.length>0?J:void 0})}return u}return null}).filter(Boolean)};A.default=function(){var Z=(0,P.useState)([]),M=x()(Z,2),g=M[0],u=M[1],J=(0,P.useState)(function(){return c}),I=x()(J,2),m=I[0],i=I[1],l=(0,Y.J)(function(n){i(G(m,n.id))}),a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(r,o){var f=o.rowIndex;return{rules:f>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(r,o){var f=o.rowKey,v=o.rowIndex;return r.getFieldValue([f||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:v>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(r,o){return[(0,F.jsx)("a",{onClick:function(){l(o)},children:"\u5220\u9664"},"delete")]}}];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(L.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:a,value:m,onChange:i,editable:{type:"multiple",editableKeys:g,onSave:function(){var n=N()(b()().mark(function o(f,v,z){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(f,v,z),t.next=3,U(2e3);case 3:case"end":return t.stop()}},o)}));function r(o,f,v){return n.apply(this,arguments)}return r}(),onChange:u}}),(0,F.jsx)(W.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,F.jsx)(_.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(m)})})]})}},98463:function(oe,A,e){e.r(A);var Q=e(25359),b=e.n(Q),X=e(49811),N=e.n(X),k=e(57213),x=e.n(k),H=e(93525),y=e.n(H),Y=e(54306),L=e.n(Y),W=e(66020),_=e(37606),P=e(49188),F=e(25606),U=e(46680),c=e(7819),G=e(27466),Z=e(18240),M=e(36681),g=e(50959),u=e(11527),J=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},a)})},I=function(a){var n=a.value,r=a.onChange,o=(0,g.useRef)(null),f=(0,g.useState)([]),v=L()(f,2),z=v[0],B=v[1],t=(0,g.useState)(""),d=L()(t,2),D=d[0],R=d[1],T=function(K){R(K.target.value)},s=function(){var K=y()(n||[]);D&&K.filter(function(q){return q.label===D}).length===0&&(K=[].concat(y()(K),[{key:"new-".concat(K.length),label:D}])),r==null||r(K),B([]),R("")};return(0,u.jsxs)(U.Z,{children:[(n||[]).concat(z).map(function($){return(0,u.jsx)(c.Z,{children:$.label},$.key)}),(0,u.jsx)(G.Z,{ref:o,type:"text",size:"small",style:{width:78},value:D,onChange:T,onBlur:s,onPressEnter:s})]})},m=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:1590481162e3}],i=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(a,n){var r=n.isEditable;return r?(0,u.jsx)(I,{}):(0,u.jsx)(G.Z,{})},render:function(a,n){var r;return n==null||(r=n.labels)===null||r===void 0?void 0:r.map(function(o){return(0,u.jsx)(c.Z,{children:o.label},o.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(a,n,r,o){return[(0,u.jsx)("a",{onClick:function(){var v;o==null||(v=o.startEditable)===null||v===void 0||v.call(o,n.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)(_.Z.RecordCreator,{record:x()(x()({},n),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,u.jsx)("a",{children:"\u590D\u5236\u6B64\u9879\u5230\u672B\u5C3E"})},"copy")]}}];A.default=function(){var l=(0,g.useRef)(),a=(0,g.useState)([]),n=L()(a,2),r=n[0],o=n[1],f=(0,g.useState)([]),v=L()(f,2),z=v[0],B=v[1],t=Z.Z.useForm(),d=L()(t,1),D=d[0];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(U.Z,{children:[(0,u.jsx)(M.ZP,{type:"primary",onClick:function(){var T,s;(T=l.current)===null||T===void 0||(s=T.addEditRecord)===null||s===void 0||s.call(T,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,u.jsx)(W.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,u.jsx)(M.ZP,{onClick:function(){D.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,u.jsx)(_.Z,{rowKey:"id",scroll:{x:960},actionRef:l,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:i,request:N()(b()().mark(function R(){return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",{data:m,total:3,success:!0});case 1:case"end":return s.stop()}},R)})),value:z,onChange:B,editable:{form:D,editableKeys:r,onSave:function(){var R=N()(b()().mark(function s(){return b()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,J(2e3);case 2:case"end":return K.stop()}},s)}));function T(){return R.apply(this,arguments)}return T}(),onChange:o,actionRender:function(T,s,$){return[$.save,$.cancel]}}}),(0,u.jsx)(P.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(F.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(z)})})]})}},15337:function(oe,A,e){e.r(A);var Q=e(25359),b=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(97435),y=e(37606),Y=e(5765),L=e(46543),W=e(49188),_=e(58053),P=e(25606),F=e(36681),U=e(50959),c=e(11527),G=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],Z=0;A.default=function(){var M=(0,U.useState)(function(){return[]}),g=x()(M,2),u=g[0],J=g[1],I=(0,U.useState)("bottom"),m=x()(I,2),i=m[0],l=m[1],a=(0,U.useState)(!1),n=x()(a,2),r=n[0],o=n[1],f=(0,U.useRef)(),v=(0,U.useRef)(),z=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(t,d,D,R){return[(0,c.jsx)("a",{onClick:function(){var s;R==null||(s=R.startEditable)===null||s===void 0||s.call(R,d.id)},children:"\u7F16\u8F91"},"editable"),(0,c.jsx)("a",{onClick:function(){var s,$,K=(s=f.current)===null||s===void 0?void 0:s.getFieldValue("table");($=f.current)===null||$===void 0||$.setFieldsValue({table:K.filter(function(q){return q.id!==d.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,c.jsxs)(H.A,{formRef:f,initialValues:{table:G},validateTrigger:"onBlur",children:[(0,c.jsx)(y.Z,{rowKey:"id",scroll:{x:960},editableFormRef:v,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",controlled:r,recordCreatorProps:i!=="hidden"?{position:i,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,c.jsx)(Y.Z,{fieldProps:{style:{marginBlockEnd:0},checked:r,onChange:function(d){o(d)}},checkedChildren:"\u6570\u636E\u66F4\u65B0\u901A\u77E5 Form",unCheckedChildren:"\u4FDD\u5B58\u540E\u901A\u77E5 Form",noStyle:!0},"render"),(0,c.jsx)(L.Z,{fieldProps:{style:{marginBlockEnd:0},value:i,onChange:function(d){l(d)}},noStyle:!0,request:N()(b()().mark(function t(){return b()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]);case 1:case"end":return D.stop()}},t)}))},"render"),(0,c.jsx)(F.ZP,{onClick:function(){var d,D,R=(d=v.current)===null||d===void 0||(D=d.getRowsData)===null||D===void 0?void 0:D.call(d);console.log(R)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:z,editable:{type:"multiple",editableKeys:u,onChange:J,actionRender:function(t,d,D){return[D.save,D.delete||D.cancel,(0,c.jsx)("a",{onClick:function(){var T,s;console.log(d.index),Z++,(T=v.current)===null||T===void 0||(s=T.setRowData)===null||s===void 0||s.call(T,d.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+Z})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u9879"},"set")]}}}),(0,c.jsx)(H.A.Item,{children:(0,c.jsx)(W.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,c.jsx)(_.Z,{name:["table"],children:function(t){var d=t.table;return(0,c.jsx)(P.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(d)})}})})})]})}},17577:function(oe,A,e){e.r(A);var Q=e(25359),b=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(49188),y=e(97435),Y=e(58053),L=e(24184),W=e(37606),_=e(50959),P=e(11527),F=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];A.default=function(){var U=(0,_.useState)(function(){return[]}),c=x()(U,2),G=c[0],Z=c[1],M=(0,_.useRef)(),g=(0,_.useRef)(),u=(0,_.useRef)(),J=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var I=N()(b()().mark(function i(){return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return a.stop()}},i)}));function m(){return I.apply(this,arguments)}return m}(),fieldProps:function(m,i){var l=i.rowIndex;return{onSelect:function(){var n,r;(n=u.current)===null||n===void 0||(r=n.setRowData)===null||r===void 0||r.call(n,l,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(m){var i=m==null?void 0:m.scoringMethod;return i==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var I=N()(b()().mark(function i(){return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",["A","B","D","E","F"].map(function(n,r){return{label:n,value:r}}));case 1:case"end":return a.stop()}},i)}));function m(){return I.apply(this,arguments)}return m}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(m,i){return[(0,P.jsx)("a",{onClick:function(){var a,n,r=(a=M.current)===null||a===void 0?void 0:a.getFieldValue("table");(n=M.current)===null||n===void 0||n.setFieldsValue({table:r.filter(function(o){return o.id!==(i==null?void 0:i.id)})})},children:"\u79FB\u9664"},"delete"),(0,P.jsx)("a",{onClick:function(){var a;(a=g.current)===null||a===void 0||a.startEditable(i.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,P.jsx)(H.Z,{children:(0,P.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,P.jsxs)(y.A,{formRef:M,initialValues:{table:F},children:[(0,P.jsx)(Y.Z,{name:["table"],children:function(m){var i=m.table,l=i.reduce(function(a,n){return{totalScore:a.totalScore+parseInt(((n==null?void 0:n.fraction)||0).toString(),10),questions:a.questions+parseInt(((n==null?void 0:n.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,P.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",l.totalScore]}),(0,P.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",l.questions]}),(0,P.jsx)("div",{style:{flex:2},children:(0,P.jsx)(L.Z,{label:"\u53CA\u683C\u5206"})}),(0,P.jsx)("div",{style:{flex:2},children:(0,P.jsx)(L.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,P.jsx)(W.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:u,controlled:!0,actionRef:g,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var I=N()(b()().mark(function i(l,a){return b()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a.length<1)){r.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(a.length>5)){r.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return r.stop()}},i)}));function m(i,l){return I.apply(this,arguments)}return m}()}]},maxLength:10,name:"table",columns:J,recordCreatorProps:{record:function(m){return{id:m+1}}},editable:{type:"multiple",editableKeys:G,onChange:Z}})]})})})}},58616:function(oe,A,e){e.r(A);var Q=e(54306),b=e.n(Q),X=e(37606),N=e(49188),k=e(25606),x=e(36681),H=e(50959),y=e(11527),Y=new Array(20).fill(1).map(function(L,W){return{id:(Date.now()+W).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(W),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3}});A.default=function(){var L=(0,H.useState)(function(){return Y.map(function(M){return M.id})}),W=b()(L,2),_=W[0],P=W[1],F=(0,H.useState)(function(){return Y}),U=b()(F,2),c=U[0],G=U[1],Z=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:Z,rowKey:"id",scroll:{x:960},value:c,onChange:G,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,y.jsx)(x.ZP,{type:"primary",onClick:function(){console.log(c)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:_,actionRender:function(g,u,J){return[J.delete]},onValuesChange:function(g,u){G(u)},onChange:P}}),(0,y.jsx)(N.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,y.jsx)(k.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(c)})})]})}},37606:function(oe,A,e){var Q=e(52510),b=e.n(Q),X=e(54306),N=e.n(X),k=e(12342),x=e.n(k),H=e(25359),y=e.n(H),Y=e(49811),L=e.n(Y),W=e(57213),_=e.n(W),P=e(66020),F=e(58053),U=e(36866),c=e(72528),G=e(619),Z=e(41906),M=e(42517),g=e(8566),u=e(36681),J=e(18240),I=e(82526),m=e(42463),i=e(521),l=e(50959),a=e(33113),n=e(11527),r=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],o=["record","position","creatorButtonText","newRecordType","parentKey","style"],f=l.createContext(void 0);function v(t){var d=t.children,D=t.record,R=t.position,T=t.newRecordType,s=t.parentKey,$=(0,l.useContext)(f);return l.cloneElement(d,_()(_()({},d.props),{},{onClick:function(){var K=L()(y()().mark(function de(ce){var se,ie,te,ne;return y()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(se=(ie=d.props).onClick)===null||se===void 0?void 0:se.call(ie,ce);case 2:if(ne=V.sent,ne!==!1){V.next=5;break}return V.abrupt("return");case 5:$==null||(te=$.current)===null||te===void 0||te.addEditRecord(D,{position:R,newRecordType:T,parentKey:s});case 6:case"end":return V.stop()}},de)}));function q(de){return K.apply(this,arguments)}return q}()}))}function z(t){var d,D,R=(0,c.YB)(),T=t.onTableChange,s=t.maxLength,$=t.formItemProps,K=t.recordCreatorProps,q=t.rowKey,de=t.controlled,ce=t.defaultValue,se=t.onChange,ie=t.editableFormRef,te=x()(t,r),ne=(0,l.useRef)(void 0),ae=(0,l.useRef)(),V=(0,l.useRef)();(0,l.useImperativeHandle)(te.actionRef,function(){return ae.current},[ae.current]);var pe=(0,I.default)(function(){return t.value||ce||[]},{value:t.value,onChange:t.onChange}),he=N()(pe,2),C=he[0],De=he[1],_e=l.useMemo(function(){return typeof q=="function"?q:function(S,h){return S[q]||h}},[q]),fe=function(h){if(typeof h=="number"&&!t.name){if(h>=C.length)return h;var E=C&&C[h];return _e==null?void 0:_e(E,h)}if((typeof h=="string"||h>=C.length)&&t.name){var p=C.findIndex(function(O,j){var w;return(_e==null||(w=_e(O,j))===null||w===void 0?void 0:w.toString())===(h==null?void 0:h.toString())});if(p!==-1)return p}return h};(0,l.useImperativeHandle)(ie,function(){var S=function(p){var O,j;if(p==null)throw new Error("rowIndex is required");var w=fe(p),ee=[t.name,(O=w==null?void 0:w.toString())!==null&&O!==void 0?O:""].flat(1).filter(Boolean);return(j=V.current)===null||j===void 0?void 0:j.getFieldValue(ee)},h=function(){var p,O=[t.name].flat(1).filter(Boolean);if(Array.isArray(O)&&O.length===0){var j,w=(j=V.current)===null||j===void 0?void 0:j.getFieldsValue();return Array.isArray(w)?w:Object.keys(w).map(function(ee){return w[ee]})}return(p=V.current)===null||p===void 0?void 0:p.getFieldValue(O)};return _()(_()({},V.current),{},{getRowData:S,getRowsData:h,setRowData:function(p,O){var j,w;if(p==null)throw new Error("rowIndex is required");var ee=fe(p),le=[t.name,(j=ee==null?void 0:ee.toString())!==null&&j!==void 0?j:""].flat(1).filter(Boolean),ye=Object.assign({},_()(_()({},S(p)),O||{})),Ie=(0,i.default)({},le,ye);return(w=V.current)===null||w===void 0||w.setFieldsValue(Ie),!0}})},[t.name,V.current]),(0,l.useEffect)(function(){t.controlled&&C.forEach(function(S,h){var E;(E=V.current)===null||E===void 0||E.setFieldsValue(b()({},_e(S,h),S))},{})},[(0,G.ZP)(C),t.controlled]),(0,l.useEffect)(function(){if(t.name){var S;V.current=t==null||(S=t.editable)===null||S===void 0?void 0:S.form}},[(d=t.editable)===null||d===void 0?void 0:d.form,t.name]);var re=K||{},be=re.record,me=re.position,Pe=re.creatorButtonText,ge=re.newRecordType,Me=re.parentKey,Oe=re.style,Ce=x()(re,o),Ee=me==="top",ue=(0,l.useMemo)(function(){return typeof s=="number"&&s<=(C==null?void 0:C.length)?!1:K!==!1&&(0,n.jsx)(v,{record:(0,Z.h)(be,C==null?void 0:C.length,C)||{},position:me,parentKey:(0,Z.h)(Me,C==null?void 0:C.length,C),newRecordType:ge,children:(0,n.jsx)(u.ZP,_()(_()({type:"dashed",style:_()({display:"block",margin:"10px 0",width:"100%"},Oe),icon:(0,n.jsx)(P.Z,{})},Ce),{},{children:Pe||R.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[K,s,C==null?void 0:C.length]),Re=(0,l.useMemo)(function(){return ue?Ee?{components:{header:{wrapper:function(h){var E,p=h.className,O=h.children;return(0,n.jsxs)("thead",{className:p,children:[O,(0,n.jsxs)("tr",{style:{position:"relative"},children:[(0,n.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ue}),(0,n.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(E=te.columns)===null||E===void 0?void 0:E.length,children:ue})]})]})}}}}:{tableViewRender:function(h,E){var p,O;return(0,n.jsxs)(n.Fragment,{children:[(p=(O=t.tableViewRender)===null||O===void 0?void 0:O.call(t,h,E))!==null&&p!==void 0?p:E,ue]})}}:{}},[Ee,ue]),ve=_()({},t.editable),Te=(0,M.J)(function(S,h){var E,p,O;if((E=t.editable)===null||E===void 0||(p=E.onValuesChange)===null||p===void 0||p.call(E,S,h),(O=t.onValuesChange)===null||O===void 0||O.call(t,h,S),t.controlled){var j;t==null||(j=t.onChange)===null||j===void 0||j.call(t,h)}});return(t!=null&&t.onValuesChange||(D=t.editable)!==null&&D!==void 0&&D.onValuesChange||t.controlled&&t!==null&&t!==void 0&&t.onChange)&&(ve.onValuesChange=Te),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Provider,{value:ae,children:(0,n.jsx)(a.Z,_()(_()(_()({search:!1,options:!1,pagination:!1,rowKey:q,revalidateOnFocus:!1},te),Re),{},{tableLayout:"fixed",actionRef:ae,onChange:T,editable:_()(_()({},ve),{},{formProps:_()({formRef:V},ve.formProps)}),dataSource:C,onDataSourceChange:function(h){if(De(h),t.name&&me==="top"){var E,p=(0,i.default)({},[t.name].flat(1).filter(Boolean),h);(E=V.current)===null||E===void 0||E.setFieldsValue(p)}}}))}),t.name?(0,n.jsx)(F.Z,{name:[t.name],children:function(h){var E,p;if(!ne.current)return ne.current=C,null;var O=(0,m.default)(h,[t.name].flat(1)),j=O==null?void 0:O.find(function(w,ee){var le;return!(0,g.A)(w,(le=ne.current)===null||le===void 0?void 0:le[ee])});return ne.current=C,j&&(t==null||(E=t.editable)===null||E===void 0||(p=E.onValuesChange)===null||p===void 0||p.call(E,j,O)),null}}):null]})}function B(t){var d=U.ZP.useFormInstance();return t.name?(0,n.jsx)(J.Z.Item,_()(_()({style:{maxWidth:"100%"}},t==null?void 0:t.formItemProps),{},{name:t.name,shouldUpdate:function(R,T){var s=[t.name].flat(1);try{return JSON.stringify((0,m.default)(R,s))!==JSON.stringify((0,m.default)(T,s))}catch($){return!0}},children:(0,n.jsx)(z,_()(_()({},t),{},{editable:_()(_()({},t.editable),{},{form:d})}))})):(0,n.jsx)(z,_()({},t))}B.RecordCreator=v,A.Z=B}}]);
