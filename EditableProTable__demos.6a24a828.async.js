"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{36036:function(le,U,e){e.r(U);var k=e(25359),E=e.n(k),J=e(49811),c=e.n(J),X=e(54306),L=e.n(X),Q=e(52796),R=e(9111),Y=e(10691),T=e(24745),m=e(50959),u=e(11527),f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(K){setTimeout(function(){K(!0)},B)})},I=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}];U.default=function(){var Z=(0,m.useState)([]),B=L()(Z,2),K=B[0],N=B[1],D=(0,m.useState)([]),p=L()(D,2),i=p[0],A=p[1],C=(0,m.useState)("bottom"),v=L()(C,2),t=v[0],_=v[1],a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(o,l){var s=l.rowIndex;return{rules:s>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(o,l,s){return s!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(o,l){var s=l.rowKey,d=l.rowIndex;return o.getFieldValue([s||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:d>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(o,l,s,d){return[(0,u.jsx)("a",{onClick:function(){var M;d==null||(M=d.startEditable)===null||M===void 0||M.call(d,l.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)("a",{onClick:function(){A(i.filter(function(M){return M.id!==l.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Q.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:t!=="hidden"?{position:t,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,u.jsx)(R.Z.Group,{fieldProps:{value:t,onChange:function(l){return _(l.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:a,request:c()(E()().mark(function n(){return E()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",{data:I,total:3,success:!0});case 1:case"end":return l.stop()}},n)})),value:i,onChange:A,editable:{type:"multiple",editableKeys:K,onSave:function(){var n=c()(E()().mark(function l(s,d,x){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(s,d,x),r.next=3,f(2e3);case 3:case"end":return r.stop()}},l)}));function o(l,s,d){return n.apply(this,arguments)}return o}(),onChange:N}}),(0,u.jsx)(Y.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(T.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(i)})})]})}},670:function(le,U,e){e.r(U);var k=e(25359),E=e.n(k),J=e(49811),c=e.n(J),X=e(54306),L=e.n(X),Q=e(57213),R=e.n(Q),Y=e(11039),T=e(52796),m=e(10691),u=e(24745),f=e(50959),I=e(11527),Z=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(p){setTimeout(function(){p(!0)},D)})},B=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000",children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],K=function N(D,p){return D.map(function(i){if(i.id!==p){if(i.children){var A=N(i.children,p);return R()(R()({},i),{},{children:A.length>0?A:void 0})}return i}return null}).filter(Boolean)};U.default=function(){var N=(0,f.useState)([]),D=L()(N,2),p=D[0],i=D[1],A=(0,f.useState)(function(){return B}),C=L()(A,2),v=C[0],t=C[1],_=(0,Y.J)(function(n){t(K(v,n.id))}),a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(o,l){var s=l.rowIndex;return{rules:s>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(o,l){var s=l.rowKey,d=l.rowIndex;return o.getFieldValue([s||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:d>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(o,l){return[(0,I.jsx)("a",{onClick:function(){_(l)},children:"\u5220\u9664"},"delete")]}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(T.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:a,value:v,onChange:t,editable:{type:"multiple",editableKeys:p,onSave:function(){var n=c()(E()().mark(function l(s,d,x){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(s,d,x),r.next=3,Z(2e3);case 3:case"end":return r.stop()}},l)}));function o(l,s,d){return n.apply(this,arguments)}return o}(),onChange:i}}),(0,I.jsx)(m.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,I.jsx)(u.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(v)})})]})}},58094:function(le,U,e){e.r(U);var k=e(25359),E=e.n(k),J=e(49811),c=e.n(J),X=e(57213),L=e.n(X),Q=e(93525),R=e.n(Q),Y=e(54306),T=e.n(Y),m=e(33706),u=e(52796),f=e(10691),I=e(24745),Z=e(14301),B=e(53930),K=e(46048),N=e(16146),D=e(59649),p=e(50959),i=e(11527),A=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},a)})},C=function(a){var n=a.value,o=a.onChange,l=(0,p.useRef)(null),s=(0,p.useState)([]),d=T()(s,2),x=d[0],M=d[1],r=(0,p.useState)(""),w=T()(r,2),z=w[0],j=w[1],G=function(W){j(W.target.value)},y=function(){var W=R()(n||[]);z&&W.filter(function(te){return te.label===z}).length===0&&(W=[].concat(R()(W),[{key:"new-".concat(W.length),label:z}])),o==null||o(W),M([]),j("")};return(0,i.jsxs)(Z.Z,{children:[(n||[]).concat(x).map(function(S){return(0,i.jsx)(B.Z,{children:S.label},S.key)}),(0,i.jsx)(K.Z,{ref:l,type:"text",size:"small",style:{width:78},value:z,onChange:G,onBlur:y,onPressEnter:y})]})},v=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:"1590481162000"}],t=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(a,n){var o=n.isEditable;return o?(0,i.jsx)(C,{}):(0,i.jsx)(K.Z,{})},render:function(a,n){var o;return n==null||(o=n.labels)===null||o===void 0?void 0:o.map(function(l){return(0,i.jsx)(B.Z,{children:l.label},l.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(a,n,o,l){return[(0,i.jsx)("a",{onClick:function(){var d;l==null||(d=l.startEditable)===null||d===void 0||d.call(l,n.id)},children:"\u7F16\u8F91"},"editable"),(0,i.jsx)(u.Z.RecordCreator,{record:L()(L()({},n),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,i.jsx)("a",{children:"\u590D\u5236\u6B64\u884C\u5230\u672B\u5C3E"})},"copy")]}}];U.default=function(){var _=(0,p.useRef)(),a=(0,p.useState)([]),n=T()(a,2),o=n[0],l=n[1],s=(0,p.useState)([]),d=T()(s,2),x=d[0],M=d[1],r=N.Z.useForm(),w=T()(r,1),z=w[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Z.Z,{children:[(0,i.jsx)(D.ZP,{type:"primary",onClick:function(){var G,y;(G=_.current)===null||G===void 0||(y=G.addEditRecord)===null||y===void 0||y.call(G,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,i.jsx)(m.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,i.jsx)(D.ZP,{onClick:function(){z.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,i.jsx)(u.Z,{rowKey:"id",scroll:{x:960},actionRef:_,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:t,request:c()(E()().mark(function j(){return E()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",{data:v,total:3,success:!0});case 1:case"end":return y.stop()}},j)})),value:x,onChange:M,editable:{form:z,editableKeys:o,onSave:function(){var j=c()(E()().mark(function y(){return E()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,A(2e3);case 2:case"end":return W.stop()}},y)}));function G(){return j.apply(this,arguments)}return G}(),onChange:l,actionRender:function(G,y,S){return[S.save,S.cancel]}}}),(0,i.jsx)(f.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,i.jsx)(I.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(x)})})]})}},40201:function(le,U,e){e.r(U);var k=e(54306),E=e.n(k),J=e(695),c=e(52796),X=e(9111),L=e(10691),Q=e(16854),R=e(24745),Y=e(59649),T=e(50959),m=e(11527),u=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],f=0;U.default=function(){var I=(0,T.useState)(function(){return[]}),Z=E()(I,2),B=Z[0],K=Z[1],N=(0,T.useState)("bottom"),D=E()(N,2),p=D[0],i=D[1],A=(0,T.useRef)(),C=(0,T.useRef)(),v=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(_,a,n,o){return[(0,m.jsx)("a",{onClick:function(){var s;o==null||(s=o.startEditable)===null||s===void 0||s.call(o,a.id)},children:"\u7F16\u8F91"},"editable"),(0,m.jsx)("a",{onClick:function(){var s,d,x=(s=A.current)===null||s===void 0?void 0:s.getFieldValue("table");(d=A.current)===null||d===void 0||d.setFieldsValue({table:x.filter(function(M){return M.id!==a.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,m.jsxs)(J.A,{formRef:A,initialValues:{table:u},validateTrigger:"onBlur",children:[(0,m.jsx)(c.Z,{rowKey:"id",scroll:{x:960},editableFormRef:C,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",recordCreatorProps:p!=="hidden"?{position:p,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,m.jsx)(X.Z.Group,{fieldProps:{style:{marginBlockEnd:0},value:p,onChange:function(a){return i(a.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render"),(0,m.jsx)(Y.ZP,{type:"text",onClick:function(){var a,n,o=(a=C.current)===null||a===void 0||(n=a.getRowsData)===null||n===void 0?void 0:n.call(a);console.log(o)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:v,editable:{type:"multiple",editableKeys:B,onChange:K,actionRender:function(_,a,n){return[n.save,n.delete||n.cancel,(0,m.jsx)("a",{onClick:function(){var l,s;console.log(a.index),f++,(l=C.current)===null||l===void 0||(s=l.setRowData)===null||s===void 0||s.call(l,a.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+f})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u884C"},"set")]}}}),(0,m.jsx)(J.A.Item,{children:(0,m.jsx)(L.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,m.jsx)(Q.Z,{name:["table"],children:function(_){var a=_.table;return(0,m.jsx)(R.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(a)})}})})})]})}},77459:function(le,U,e){e.r(U);var k=e(25359),E=e.n(k),J=e(49811),c=e.n(J),X=e(54306),L=e.n(X),Q=e(10691),R=e(695),Y=e(16854),T=e(32741),m=e(52796),u=e(50959),f=e(11527),I=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];U.default=function(){var Z=(0,u.useState)(function(){return[]}),B=L()(Z,2),K=B[0],N=B[1],D=(0,u.useRef)(),p=(0,u.useRef)(),i=(0,u.useRef)(),A=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var C=c()(E()().mark(function t(){return E()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return a.stop()}},t)}));function v(){return C.apply(this,arguments)}return v}(),fieldProps:function(v,t){var _=t.rowIndex;return{onSelect:function(){var n,o;(n=i.current)===null||n===void 0||(o=n.setRowData)===null||o===void 0||o.call(n,_,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(v){var t=v==null?void 0:v.scoringMethod;return t==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var C=c()(E()().mark(function t(){return E()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",["A","B","D","E","F"].map(function(n,o){return{label:n,value:o}}));case 1:case"end":return a.stop()}},t)}));function v(){return C.apply(this,arguments)}return v}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(v,t){return[(0,f.jsx)("a",{onClick:function(){var a,n,o=(a=D.current)===null||a===void 0?void 0:a.getFieldValue("table");(n=D.current)===null||n===void 0||n.setFieldsValue({table:o.filter(function(l){return l.id!==(t==null?void 0:t.id)})})},children:"\u79FB\u9664"},"delete"),(0,f.jsx)("a",{onClick:function(){var a;(a=p.current)===null||a===void 0||a.startEditable(t.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,f.jsx)(Q.Z,{children:(0,f.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,f.jsxs)(R.A,{formRef:D,initialValues:{table:I},children:[(0,f.jsx)(Y.Z,{name:["table"],children:function(v){var t=v.table,_=t.reduce(function(a,n){return{totalScore:a.totalScore+parseInt(((n==null?void 0:n.fraction)||0).toString(),10),questions:a.questions+parseInt(((n==null?void 0:n.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,f.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",_.totalScore]}),(0,f.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",_.questions]}),(0,f.jsx)("div",{style:{flex:2},children:(0,f.jsx)(T.Z,{label:"\u53CA\u683C\u5206"})}),(0,f.jsx)("div",{style:{flex:2},children:(0,f.jsx)(T.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,f.jsx)(m.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:i,controlled:!0,actionRef:p,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var C=c()(E()().mark(function t(_,a){return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(a.length<1)){o.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(a.length>5)){o.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return o.stop()}},t)}));function v(t,_){return C.apply(this,arguments)}return v}()}]},maxLength:10,name:"table",columns:A,recordCreatorProps:{record:function(v){return{id:v+1}}},editable:{type:"multiple",editableKeys:K,onChange:N}})]})})})}},9832:function(le,U,e){e.r(U);var k=e(54306),E=e.n(k),J=e(52796),c=e(10691),X=e(24745),L=e(59649),Q=e(50959),R=e(11527),Y=new Array(20).fill(1).map(function(T,m){return{id:(Date.now()+m).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(m),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000"}});U.default=function(){var T=(0,Q.useState)(function(){return Y.map(function(D){return D.id})}),m=E()(T,2),u=m[0],f=m[1],I=(0,Q.useState)(function(){return Y}),Z=E()(I,2),B=Z[0],K=Z[1],N=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(J.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:N,rowKey:"id",scroll:{x:960},value:B,onChange:K,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,R.jsx)(L.ZP,{type:"primary",onClick:function(){console.log(B)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:u,actionRender:function(p,i,A){return[A.delete]},onValuesChange:function(p,i){K(i)},onChange:f}}),(0,R.jsx)(c.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,R.jsx)(X.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(B)})})]})}},52796:function(le,U,e){var k=e(52510),E=e.n(k),J=e(54306),c=e.n(J),X=e(12342),L=e.n(X),Q=e(25359),R=e.n(Q),Y=e(49811),T=e.n(Y),m=e(57213),u=e.n(m),f=e(33706),I=e(16854),Z=e(82082),B=e(94511),K=e(57647),N=e(11039),D=e(31527),p=e(59649),i=e(16146),A=e(66613),C=e(63594),v=e(35077),t=e(50959),_=e(37616),a=e(23207),n=e(11527),o=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],l=["record","position","creatorButtonText","newRecordType","parentKey","style"],s=t.createContext(void 0);function d(r){var w=r.children,z=r.record,j=r.position,G=r.newRecordType,y=r.parentKey,S=(0,t.useContext)(s);return t.cloneElement(w,u()(u()({},w.props),{},{onClick:function(){var W=T()(R()().mark(function _e(ie){var q,ue,ne,re;return R()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(q=(ue=w.props).onClick)===null||q===void 0?void 0:q.call(ue,ie);case 2:if(re=F.sent,re!==!1){F.next=5;break}return F.abrupt("return");case 5:S==null||(ne=S.current)===null||ne===void 0||ne.addEditRecord(z,{position:j,newRecordType:G,parentKey:y});case 6:case"end":return F.stop()}},_e)}));function te(_e){return W.apply(this,arguments)}return te}()}))}function x(r){var w,z,j=(0,B.YB)(),G=r.onTableChange,y=r.maxLength,S=r.formItemProps,W=r.recordCreatorProps,te=r.rowKey,_e=r.controlled,ie=r.defaultValue,q=r.onChange,ue=r.editableFormRef,ne=L()(r,o),re=(0,t.useRef)(void 0),ae=(0,t.useRef)(),F=(0,t.useRef)();(0,t.useImperativeHandle)(ne.actionRef,function(){return ae.current},[ae.current]);var he=(0,A.default)(function(){return r.value||ie||[]},{value:r.value,onChange:r.onChange}),de=c()(he,2),P=de[0],ve=de[1],ee=t.useMemo(function(){return typeof te=="function"?te:function(V,h){return V[te]||h}},[te]),Ee=function(h){if(typeof h=="number"&&!r.name){if(h>=P.length)return h;var g=P&&P[h];return ee==null?void 0:ee(g,h)}if((typeof h=="string"||h>=P.length)&&r.name){var b=P.findIndex(function(O,$){var H;return(ee==null||(H=ee(O,$))===null||H===void 0?void 0:H.toString())===(h==null?void 0:h.toString())});if(b!==-1)return b}return h};(0,t.useImperativeHandle)(ue,function(){var V=function(b){var O,$;if(b==null)throw new Error("rowIndex is required");var H=Ee(b),oe=[r.name,(O=H==null?void 0:H.toString())!==null&&O!==void 0?O:""].flat(1).filter(Boolean);return($=F.current)===null||$===void 0?void 0:$.getFieldValue(oe)},h=function(){var b,O=[r.name].flat(1).filter(Boolean);if(Array.isArray(O)&&O.length===0){var $,H=($=F.current)===null||$===void 0?void 0:$.getFieldsValue();return Array.isArray(H)?H:Object.keys(H).map(function(oe){return H[oe]})}return(b=F.current)===null||b===void 0?void 0:b.getFieldValue(O)};return u()(u()({},F.current),{},{getRowData:V,getRowsData:h,setRowData:function(b,O){var $,H;if(b==null)throw new Error("rowIndex is required");var oe=Ee(b),me=[r.name,($=oe==null?void 0:oe.toString())!==null&&$!==void 0?$:""].flat(1).filter(Boolean),Te=Object.assign({},u()(u()({},V(b)),O||{})),xe=(0,v.default)({},me,Te);return(H=F.current)===null||H===void 0||H.setFieldsValue(xe),!0}})},[r.name,F.current]),(0,t.useEffect)(function(){r.controlled&&P.forEach(function(V,h){var g;(g=F.current)===null||g===void 0||g.setFieldsValue(E()({},ee(V,h),V))},{})},[(0,_.P)(P),r.controlled]),(0,t.useEffect)(function(){if(r.name){var V;F.current=r==null||(V=r.editable)===null||V===void 0?void 0:V.form}},[(w=r.editable)===null||w===void 0?void 0:w.form,r.name]);var se=W||{},be=se.record,fe=se.position,De=se.creatorButtonText,Ce=se.newRecordType,Pe=se.parentKey,Oe=se.style,Me=L()(se,l),ge=fe==="top",ce=(0,t.useMemo)(function(){return typeof y=="number"&&y<=(P==null?void 0:P.length)?!1:W!==!1&&(0,n.jsx)(d,{record:(0,K.h)(be,P==null?void 0:P.length,P)||{},position:fe,parentKey:(0,K.h)(Pe,P==null?void 0:P.length,P),newRecordType:Ce,children:(0,n.jsx)(p.ZP,u()(u()({type:"dashed",style:u()({display:"block",margin:"10px 0",width:"100%"},Oe),icon:(0,n.jsx)(f.Z,{})},Me),{},{children:De||j.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[W,y,P==null?void 0:P.length]),ye=(0,t.useMemo)(function(){return ce?ge?{components:{header:{wrapper:function(h){var g,b=h.className,O=h.children;return(0,n.jsxs)("thead",{className:b,children:[O,(0,n.jsxs)("tr",{style:{position:"relative"},children:[(0,n.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ce}),(0,n.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(g=ne.columns)===null||g===void 0?void 0:g.length,children:ce})]})]})}}}}:{tableViewRender:function(h,g){var b,O;return(0,n.jsxs)(n.Fragment,{children:[(b=(O=r.tableViewRender)===null||O===void 0?void 0:O.call(r,h,g))!==null&&b!==void 0?b:g,ce]})}}:{}},[ge,ce]),pe=u()({},r.editable),Re=(0,N.J)(function(V,h){var g,b,O;if((g=r.editable)===null||g===void 0||(b=g.onValuesChange)===null||b===void 0||b.call(g,V,h),(O=r.onValuesChange)===null||O===void 0||O.call(r,h,V),r.controlled){var $;r==null||($=r.onChange)===null||$===void 0||$.call(r,h)}});return(r!=null&&r.onValuesChange||(z=r.editable)!==null&&z!==void 0&&z.onValuesChange||r.controlled&&r!==null&&r!==void 0&&r.onChange)&&(pe.onValuesChange=Re),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Provider,{value:ae,children:(0,n.jsx)(a.Z,u()(u()(u()({search:!1,options:!1,pagination:!1,rowKey:te,revalidateOnFocus:!1},ne),ye),{},{tableLayout:"fixed",actionRef:ae,onChange:G,editable:u()(u()({},pe),{},{formProps:u()({formRef:F},pe.formProps)}),dataSource:P,onDataSourceChange:function(h){if(ve(h),r.name&&fe==="top"){var g,b=(0,v.default)({},[r.name].flat(1).filter(Boolean),h);(g=F.current)===null||g===void 0||g.setFieldsValue(b)}}}))}),r.name?(0,n.jsx)(I.Z,{name:[r.name],children:function(h){var g,b;if(!re.current)return re.current=P,null;var O=(0,C.default)(h,[r.name].flat(1)),$=O==null?void 0:O.find(function(H,oe){var me;return!(0,D.A)(H,(me=re.current)===null||me===void 0?void 0:me[oe])});return re.current=P,$&&(r==null||(g=r.editable)===null||g===void 0||(b=g.onValuesChange)===null||b===void 0||b.call(g,$,O)),null}}):null]})}function M(r){var w=Z.ZP.useFormInstance();return r.name?(0,n.jsx)(i.Z.Item,u()(u()({style:{maxWidth:"100%"}},r==null?void 0:r.formItemProps),{},{name:r.name,shouldUpdate:function(j,G){var y=[r.name].flat(1);try{return JSON.stringify((0,C.default)(j,y))!==JSON.stringify((0,C.default)(G,y))}catch(S){return!0}},children:(0,n.jsx)(x,u()(u()({},r),{},{editable:u()(u()({},r.editable),{},{form:w})}))})):(0,n.jsx)(x,u()({},r))}M.RecordCreator=d,U.Z=M},53930:function(le,U,e){e.d(U,{Z:function(){return v}});var k=e(96524),E=e(84875),J=e.n(E),c=e(50959),X=e(93921),L=e(63984),Q=e(25335),R=e(59328);function Y(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}var T=e(17635),m=e(29),u=e(8681),f=e(61474);const I=(t,_,a)=>{const n=Y(a);return{[`${t.componentCls}-${_}`]:{color:t[`color${a}`],background:t[`color${n}Bg`],borderColor:t[`color${n}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}},Z=t=>(0,m.Z)(t,(_,a)=>{let{textColor:n,lightBorderColor:o,lightColor:l,darkColor:s}=a;return{[`${t.componentCls}-${_}`]:{color:n,background:l,borderColor:o,"&-inverse":{color:t.colorTextLightSolid,background:s,borderColor:s},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}}),B=t=>{const{paddingXXS:_,lineWidth:a,tagPaddingHorizontal:n,componentCls:o}=t,l=n-a,s=_-a;return{[o]:Object.assign(Object.assign({},(0,T.Wf)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:l,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${o}-close-icon`]:{marginInlineStart:s,color:t.colorTextDescription,fontSize:t.tagIconSize,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:l}}),[`${o}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}};var K=(0,u.Z)("Tag",t=>{const{lineWidth:_,fontSizeIcon:a}=t,n=t.fontSizeSM,o=`${t.lineHeightSM*n}px`,l=(0,f.TS)(t,{tagFontSize:n,tagLineHeight:o,tagIconSize:a-2*_,tagPaddingHorizontal:8,tagBorderlessBg:t.colorFillTertiary});return[B(l),Z(l),I(l,"success","Success"),I(l,"processing","Info"),I(l,"error","Error"),I(l,"warning","Warning")]},t=>({defaultBg:t.colorFillQuaternary,defaultColor:t.colorText})),N=function(t,_){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&_.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)_.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(a[n[o]]=t[n[o]]);return a},p=t=>{const{prefixCls:_,className:a,checked:n,onChange:o,onClick:l}=t,s=N(t,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:d}=c.useContext(R.E_),x=j=>{o==null||o(!n),l==null||l(j)},M=d("tag",_),[r,w]=K(M),z=J()(M,{[`${M}-checkable`]:!0,[`${M}-checkable-checked`]:n},a,w);return r(c.createElement("span",Object.assign({},s,{className:z,onClick:x})))},i=function(t,_){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&_.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)_.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(a[n[o]]=t[n[o]]);return a};const A=(t,_)=>{const{prefixCls:a,className:n,rootClassName:o,style:l,children:s,icon:d,color:x,onClose:M,closeIcon:r,closable:w,bordered:z=!0}=t,j=i(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:G,direction:y,tag:S}=c.useContext(R.E_),[W,te]=c.useState(!0);c.useEffect(()=>{"visible"in j&&te(j.visible)},[j.visible]);const _e=(0,X.o2)(x)||(0,X.yT)(x),ie=Object.assign(Object.assign({backgroundColor:x&&!_e?x:void 0},S==null?void 0:S.style),l),q=G("tag",a),[ue,ne]=K(q),re=J()(q,S==null?void 0:S.className,{[`${q}-${x}`]:_e,[`${q}-has-color`]:x&&!_e,[`${q}-hidden`]:!W,[`${q}-rtl`]:y==="rtl",[`${q}-borderless`]:!z},n,o,ne),ae=ee=>{ee.stopPropagation(),M==null||M(ee),!ee.defaultPrevented&&te(!1)},[,F]=(0,L.Z)(w,r,ee=>ee===null?c.createElement(k.Z,{className:`${q}-close-icon`,onClick:ae}):c.createElement("span",{className:`${q}-close-icon`,onClick:ae},ee),null,!1),he=typeof j.onClick=="function"||s&&s.type==="a",de=d||null,P=de?c.createElement(c.Fragment,null,de,c.createElement("span",null,s)):s,ve=c.createElement("span",Object.assign({},j,{ref:_,className:re,style:ie}),P,F);return ue(he?c.createElement(Q.Z,null,ve):ve)},C=c.forwardRef(A);C.CheckableTag=p;var v=C}}]);
