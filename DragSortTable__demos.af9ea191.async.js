"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5353],{74:function(k,x,e){e.d(x,{Z:function(){return I}});var j=e(24456),E=e(50959),K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},R=K,T=e(59985),n=function(B,v){return E.createElement(T.Z,(0,j.Z)({},B,{ref:v,icon:R}))},I=E.forwardRef(n)},27528:function(k,x,e){e.r(x);var j=e(54306),E=e.n(j),K=e(57213),R=e.n(K),T=e(25359),n=e.n(T),I=e(49811),A=e.n(I),B=e(74),v=e(76702),L=e(26548),U=e(50959),_=e(11527),D=[{key:"key1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",index:0},{key:"key2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",index:1},{key:"key3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",index:2}],Z=function(){var S=A()(n()().mark(function l(){var h,m=arguments;return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return h=m.length>0&&m[0]!==void 0?m[0]:1e3,C.abrupt("return",new Promise(function($){return setTimeout(function(){return $(void 0)},h)}));case 2:case"end":return C.stop()}},l)}));return function(){return S.apply(this,arguments)}}(),z=D.map(function(S){return R()(R()({},S),{},{name:"[remote data] ".concat(S.name)})}),q=function(){var S=A()(n()().mark(function l(){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Z(3e3);case 2:return m.abrupt("return",{data:z,total:z.length,success:!0});case 3:case"end":return m.stop()}},l)}));return function(){return S.apply(this,arguments)}}();x.default=function(){var S=[{title:"\u6392\u5E8F",dataIndex:"sort",render:function(g,P,de){return(0,_.jsx)("span",{className:"customRender",children:"\u81EA\u5B9A\u4E49Render[".concat(P.name,"-").concat(de,"]")})}},{title:"\u59D3\u540D",dataIndex:"name",className:"drag-visible"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5730\u5740",dataIndex:"address"}],l=[{title:"\u6392\u5E8F",dataIndex:"sort"},{title:"\u59D3\u540D",dataIndex:"name",className:"drag-visible"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5730\u5740",dataIndex:"address"}],h=(0,U.useRef)(),m=(0,U.useState)(D),o=E()(m,2),C=o[0],$=o[1],Y=(0,U.useState)(D),X=E()(Y,2),ee=X[0],ne=X[1],re=function(g){console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",g),$(g),L.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")},ae=function(g){console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",g),ne(g),L.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")},te=function(g){var P;console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",g),z=g,(P=h.current)===null||P===void 0||P.reload(),L.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")},oe=function(g,P){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(B.Z,{style:{cursor:"grab",color:"gold"}}),"\xA0",P+1," - ",g.name]})};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(v.Z,{headerTitle:"\u62D6\u62FD\u6392\u5E8F(\u9ED8\u8BA4\u628A\u624B)",columns:S,rowKey:"key",pagination:!1,dataSource:C,dragSortKey:"sort",onDragSortEnd:re}),(0,_.jsx)(v.Z,{headerTitle:"\u62D6\u62FD\u6392\u5E8F(\u81EA\u5B9A\u4E49\u628A\u624B)",columns:l,rowKey:"index",search:!1,pagination:!1,dataSource:ee,dragSortKey:"sort",dragSortHandlerRender:oe,onDragSortEnd:ae}),(0,_.jsx)(v.Z,{actionRef:h,headerTitle:"\u4F7F\u7528 request \u83B7\u53D6\u6570\u636E\u6E90",columns:l,rowKey:"index",search:!1,pagination:!1,request:q,dragSortKey:"sort",onDragSortEnd:te})]})}},62385:function(k,x,e){e.r(x);var j=e(54306),E=e.n(j),K=e(76702),R=e(26548),T=e(50959),n=e(11527),I=[{title:"\u6392\u5E8F",dataIndex:"sort",width:60,className:"drag-visible"},{title:"\u59D3\u540D",dataIndex:"name",className:"drag-visible"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5730\u5740",dataIndex:"address"}],A=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",index:0},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",index:1},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",index:2}];x.default=function(){var B=(0,T.useState)(A),v=E()(B,2),L=v[0],U=v[1],_=function(Z){console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",Z),U(Z),R.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")};return(0,n.jsx)(K.Z,{headerTitle:"\u62D6\u62FD\u6392\u5E8F(\u9ED8\u8BA4\u628A\u624B)",columns:I,rowKey:"key",pagination:!1,dataSource:L,dragSortKey:"sort",onDragSortEnd:_})}},76702:function(k,x,e){e.d(x,{Z:function(){return ie}});var j=e(25359),E=e.n(j),K=e(49811),R=e.n(K),T=e(57213),n=e.n(T),I=e(54306),A=e.n(I),B=e(12342),v=e.n(B),L=e(63611),U=e(91281),_=e(51060),D=e(50959),Z=e(23207),z=e(65854),q=e.n(z),S=e(11039),l=e(43089),h=e(79897),m=e(84341),o=e(11527),C=["DragHandle","dragSortKey"],$=["dragSortKey"],Y=(0,D.createContext)({handle:null}),X=function(a){var u=(0,h.nB)({id:a.id}),f=u.attributes,y=u.listeners,p=u.setNodeRef,H=u.transform,w=u.transition,J=n()({transform:m.ux.Transform.toString(H),transition:w},a==null?void 0:a.style),W=a.DragHandle,O=a.dragSortKey,b=v()(a,C);if(O){var i=[];return D.Children.forEach(b.children,function(t,c){if(t.key===O){var d,M;i.push((0,o.jsx)(Y.Provider,{value:{handle:(0,o.jsx)(W,n()(n()({rowData:t==null||(d=t.props)===null||d===void 0?void 0:d.record,index:t==null||(M=t.props)===null||M===void 0?void 0:M.index},y),f))},children:t},t.key||c));return}i.push(t)}),(0,o.jsx)("tr",n()(n()({},b),{},{ref:p,style:J,children:i}))}return(0,o.jsx)("tr",n()(n()(n()({},b),{},{ref:p,style:J},f),y))},ee=D.memo(function(r){var a=r.dragSortKey,u=v()(r,$),f=(0,D.useContext)(Y),y=f.handle;return y?(0,o.jsx)("td",n()(n()({},u),{},{children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[y," ",u.children]})})):(0,o.jsx)("td",n()({},u))}),ne=function(a){return(0,o.jsx)("tbody",n()({},a))};function re(r){var a=r.dataSource,u=a===void 0?[]:a,f=r.onDragSortEnd,y=r.DragHandle,p=r.dragSortKey,H=(0,l.Dy)((0,l.VT)(l.we),(0,l.VT)(l.MA));function w(i){var t,c=i.active,d=i.over;if(d!=null&&(t=d.id)!==null&&t!==void 0&&t.toString()&&c.id!==(d==null?void 0:d.id)){var M=(0,h.Rp)(u||[],parseInt(c.id),parseInt(d.id));f==null||f(M||[])}}var J=(0,S.J)(function(i){return(0,o.jsx)(h.Fo,{items:u.map(function(t,c){return c==null?void 0:c.toString()}),strategy:h.qw,children:(0,o.jsx)(ne,n()({},i))})}),W=(0,S.J)(function(i){var t,c=Object.assign({},(q()(i),i)),d=(t=u.findIndex(function(M){var G;return M[(G=r.rowKey)!==null&&G!==void 0?G:"index"]===c["data-row-key"]}))===null||t===void 0?void 0:t.toString();return(0,o.jsx)(X,n()({id:d,dragSortKey:p,DragHandle:y},c),d)}),O=r.components||{};if(p){var b;O.body=n()(n()({},((b=r.components)===null||b===void 0?void 0:b.body)||{}),{},{wrapper:J,row:W,cell:ee})}return{DndContext:function(t){return(0,o.jsx)(l.LB,{sensors:H,collisionDetection:l.pE,onDragEnd:w,children:t.children})},components:O}}var ae=e(52510),te=e.n(ae),oe=e(11070),F=function(a){return te()({},a.componentCls,{"&-icon":{marginInlineEnd:8,color:a.colorTextSecondary,cursor:"grab !important",padding:4,fontSize:12,borderRadius:a.borderRadius,"&:hover":{color:a.colorText,backgroundColor:a.colorInfoBg}}})};function g(r){return(0,oe.Xj)("DragSortTable",function(a){var u=n()(n()({},a),{},{componentCls:".".concat(r)});return[F(u)]})}var P=["rowKey","dragSortKey","dragSortHandlerRender","onDragSortEnd","onDataSourceChange","defaultData","dataSource","onLoad"],de=["rowData","index","className"];function le(r){var a,u=r.rowKey,f=r.dragSortKey,y=r.dragSortHandlerRender,p=r.onDragSortEnd,H=r.onDataSourceChange,w=r.defaultData,J=r.dataSource,W=r.onLoad,O=v()(r,P),b=(0,D.useContext)(U.ZP.ConfigContext),i=b.getPrefixCls,t=(0,_.Z)(function(){return w||[]},{value:J,onChange:H}),c=A()(t,2),d=c[0],M=c[1],G=g(i("pro-table-drag")),ce=G.wrapSSR,ve=G.hashId,_e=(0,D.useMemo)(function(){return function(s){var Q=s.rowData,V=s.index,ue=s.className,N=v()(s,de),De=(0,o.jsx)(L.Z,n()(n()({},N),{},{className:"".concat(i("pro-table-drag-icon")," ").concat(ue||""," ").concat(ve||"").trim()})),Se=y?y(s==null?void 0:s.rowData,s==null?void 0:s.index):De;return(0,o.jsx)("div",n()(n()({},N),{},{children:Se}))}},[i]),se=re({dataSource:d==null?void 0:d.slice(),dragSortKey:f,onDragSortEnd:p,components:r.components,rowKey:u,DragHandle:_e}),me=se.components,ge=se.DndContext,fe=function(){var s=R()(E()().mark(function Q(V){return E()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return M(V),N.abrupt("return",W==null?void 0:W(V));case 2:case"end":return N.stop()}},Q)}));return function(V){return s.apply(this,arguments)}}();return ce((0,o.jsx)(Z.Z,n()(n()({},O),{},{columns:(a=O.columns)===null||a===void 0?void 0:a.map(function(s){return(s.dataIndex==f||s.key===f)&&(s.render||(s.render=function(){return null})),s}),onLoad:fe,rowKey:u,tableViewRender:function(Q,V){return(0,o.jsx)(ge,{children:V})},dataSource:d,components:me,onDataSourceChange:H})))}var ie=le}}]);
