<!DOCTYPE html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta property="og:site_name" content="ProComponents">
<meta data-rh="keywords" property="og:image" content="https://procomponents.ant.design/icon.png">
<meta property="og:description" content="🏆 让中后台开发更简单">
<meta name="keywords" content="中后台,admin,Ant Design,ant design,Table,react,alibaba">
<meta name="description" content="🏆 让中后台开发更简单 包含 table form 等多个组件。">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#1890ff">
<meta name="google-site-verification" content="9LDp--DeEC-xOggsHl_t1MlR_1_2O972JpSUu8NZKMU">
<style>
    .dumi-default-sidebar {
      min-width: 260px;
    }
    .dumi-default-previewer-demo {
      min-height: 500px;
      max-height: 500px;
      display: flex;
      overflow: auto;
      flex-direction: column;
    }
    .dumi-default-previewer-demo > iframe {
      height: 100%!important;
      flex:1;
    }
    .dumi-default-header:not([data-static]){
      border-bottom: 1px solid #ddd;
    }
    .dumi-default-header-left {
      min-width: 230px;
      margin-right: 32px;
  }
  </style>
<link rel="stylesheet" href="/umi.d77ad6e0.css">
<title data-rh="true">Pro Components</title>
</head>
<body>
<noscript><b>Enable JavaScript to run this app.</b></noscript><div id="root"><!--$?--><template id="B:0"></template><div></div><!--/$--></div><script>window.__UMI_LOADER_DATA__ = {}</script>
<script src="/umi.6693b78d.js"></script>

</body></html><div hidden id="S:0"><!--$?--><template id="B:1"></template><div></div><!--/$--></div><script>function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><div class="css-1wvdt9x site-app"><style data-emotion="css-global lmk32a">body{margin:0;padding:0;background-color:hsl(220,23%,97%);}@font-face{font-family:AliPuHui;font-weight:normal;src:url('//at.alicdn.com/t/webfont_exesdog9toj.woff2') format('woff2'),url('//at.alicdn.com/t/webfont_exesdog9toj.woff') format('woff'),url('//at.alicdn.com/t/webfont_exesdog9toj.ttf') format('truetype');font-display:swap;}@font-face{font-family:AliPuHui;font-weight:bold;src:url('https://at.alicdn.com/wf/webfont/exMpJIukiCms/Gsw2PSKrftc1yNWMNlXgw.woff2') format('woff2'),url('https://at.alicdn.com/wf/webfont/exMpJIukiCms/vtu73by4O2gEBcvBuLgeu.woff') format('woff');font-display:swap;}</style><div class="site-fkk8f8"><div class="site-17ygpcn"><div class="layoutkit-flexbox site-a7f7o lk-1m1d4dx"><div class="layoutkit-flexbox site-0 lk-xw4y9"><a class="site-1k4qizt" href="/"><img/></a></div><div style="margin-left:48px;align-self:end" class="layoutkit-flexbox lk-tye08"><div class="site-tabs site-tabs-top site-ysmi4b css-1wvdt9x"><div role="tablist" class="site-tabs-nav"><div class="site-tabs-nav-wrap"><div class="site-tabs-nav-list" style="transform:translate(0px, 0px)"><div class="site-tabs-ink-bar site-tabs-ink-bar-animated"></div></div></div><div class="site-tabs-nav-operations site-tabs-nav-operations-hidden"><button type="button" class="site-tabs-nav-more" style="visibility:hidden;order:1" tabindex="-1" aria-hidden="true" aria-haspopup="listbox" aria-controls="null-more-popup" id="null-more" aria-expanded="false"><span role="img" aria-label="ellipsis" class="anticon anticon-ellipsis"><svg viewBox="64 64 896 896" focusable="false" data-icon="ellipsis" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"></path></svg></span></button></div></div><div class="site-tabs-content-holder"><div class="site-tabs-content site-tabs-content-top"></div></div></div></div><section class="site-189uz55"><div></div><div class="layoutkit-flexbox dumi-default-header-right-aside lk-236ozx"><div class="site-122g3s8"><span role="img" aria-label="search" class="anticon anticon-search site-1yumf7i"><svg viewBox="64 64 896 896" focusable="false" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></span><input class="site-16bt2sw" placeholder="输入关键字搜索..."/><span class="site-header-shortcut site-1q3h4pf">⌘<!-- --> K</span></div><a class="dumi-default-lang-switch" href="/en-US/docs/intro">English</a><span><button class="native-select-button site-u56bfp" aria-expanded="false" aria-haspopup="listbox" role="combobox"><svg viewBox="0 0 16 16" width="1em" height="1em" fill="currentColor"><path d="M14.595 8a6.595 6.595 0 1 1-13.19 0 6.595 6.595 0 0 1 13.19 0ZM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0Zm0 2.014v11.972A5.986 5.986 0 0 0 8 2.014Z"></path></svg></button></span></div></section></div></div><div class="site-105tvbu"><h4>目录</h4><div><div class=""><div class="css-1wvdt9x site-anchor-wrapper" style="max-height:100vh"><div class="site-anchor"><div class="site-anchor-ink"><span class="site-anchor-ink-ball"></span></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#procomponents-的理念" title="ProComponents 的理念">ProComponents 的理念</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#设计思路" title="设计思路">设计思路</a><div class="site-anchor-link"><a class="site-anchor-link-title" href="#一个状态加一系列行为" title="一个状态加一系列行为">一个状态加一系列行为</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#一个组件--一个页面" title="一个组件 ≈ 一个页面">一个组件 ≈ 一个页面</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#设计与样式" title="设计与样式">设计与样式</a></div></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#参与贡献" title="参与贡献">参与贡献</a><div class="site-anchor-link"><a class="site-anchor-link-title" href="#脚手架概览" title="脚手架概览">脚手架概览</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#源码概览" title="源码概览">源码概览</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#风格指南" title="风格指南">风格指南</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#开发工作流" title="开发工作流">开发工作流</a></div><div class="site-anchor-link"><a class="site-anchor-link-title" href="#一些约定" title="一些约定">一些约定</a></div></div></div></div></div></div></div><div class="site-65uhw3"></div><div style="z-index:10;grid-area:main;min-width:0;margin:24px;margin-bottom:48px" class="layoutkit-flexbox lk-tye08"><div class="layoutkit-center lk-s8lhdl"><div class="layoutkit-flexbox site-11jwm3e lk-tye08"><div class="layoutkit-flexbox lk-xw4y9"><div class="dumi-default-content site-1vcs60"><!--$?--><template id="B:2"></template><div></div><!--/$--></div></div></div></div></div><div class="layoutkit-center site-p9euem lk-d7augi">Powered by<div style="margin-left:8px" class="layoutkit-flexbox lk-138xqp5"><a class="site-typography css-1wvdt9x" href="https://d.umijs.org/">Dumi</a><div class="site-divider css-1wvdt9x site-divider-vertical" style="margin:0 8px" role="separator"></div><a class="site-typography css-1wvdt9x" href="https://ant.design/">Ant Design</a><div class="site-divider css-1wvdt9x site-divider-vertical" style="margin:0 8px" role="separator"></div><a class="site-typography css-1wvdt9x" href="https://kitchen.alipay.com/">kitchen</a></div></div></div></div></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><div class="markdown"><p><img src="https://gw.alipayobjects.com/zos/antfincdn/7VBnGHwjaW/bianzu%2525202.svg" alt="banner"/></p><h2 id="procomponents-的理念"><a aria-hidden="true" tabindex="-1" href="#procomponents-的理念"><span class="icon icon-link"></span></a>ProComponents 的理念</h2><p>Ant Design 定义了基础的设计规范，对应也提供了大量的基础组件。但是对于中后台类应用，我们希望提供更高程度的抽象，提供更上层的设计规范，并且对应提供相应的组件使得开发者可以快速搭建出高质量的页面。</p><p>在 ProComponents 中我们内置了一系列的设计规范，预设了常用的逻辑。在这个基础上我们同样提供了灵活的支持，比如对于 ProTable 来说你也可以把它完全当做 Ant Design 的 Table 来用，对于 ProForm 来说你也可以直接使用 Ant Design 的基础组件或者你的自定义组件。我们希望通过 Pro 系列组件提供快速高效搭建高质量中后台应用的能力，进一步扩展 Ant Design 的能力，欢迎使用并提出宝贵的意见。</p><h2 id="设计思路"><a aria-hidden="true" tabindex="-1" href="#设计思路"><span class="icon icon-link"></span></a>设计思路</h2><p>对于几乎所有的业务来说，我们做的其实就是根据一个状态定义一系列的行为，以上面的 table 为例，首先我们需要一个状态 <code>dataSource</code> 用于存储从服务器请求的数据，为了优化体验，我们还需要一个 <code>loading</code>。于是我们就有了一系列的行为，我们需要先设置 <code>loading=true</code>，然后发起网络请求，网络请求完成之后就 设置 <code>dataSource</code> 为请求回来的数据，<code>loading=false</code>，一个网络请求就完成了，虽然非常简单，但是一个业务系统有相当多的表格，每个表格都定义这么一次，这个工作量就非常大了。</p><p>如果要重新请求网络，我们就需要封装一下行为，将以上的行为封装成一个方法，点击一下重新加载数据，如果你有分页，那么就需要新的变量 page，我们在重新请求之前需要去根据需要来判断一下是否将页面重置为第一页，这又引入了一个变量。如果你的表格还要控制每页的数量，那么将会更加繁杂。这种重复性的劳动会浪费掉我们的很多时间。</p><h3 id="一个状态加一系列行为"><a aria-hidden="true" tabindex="-1" href="#一个状态加一系列行为"><span class="icon icon-link"></span></a>一个状态加一系列行为</h3><p>以上的逻辑几乎存在于所有中后台开发中，每增加一个状态我们就需要一系列的行为来进行管理，每个行为如果耦合了太多的状态也会复杂到无以复加。</p><p>碰上这种情况，几乎所有程序员都会想办法进行分层，基于同样的思路，ProTable 希望抽象出一层来解决掉复杂状态的问题，table 中最常用的状态就是 <code>loading</code> 和 <code>dataSource</code>，包括扩展的 <code>page</code>,<code>pageSize</code> 其实都是服务于网络状态，于是 table 抽象出了一个 <code>request</code> 的 api，在其中封装了 loading 和 dataSource 状态以及他们所有的行为，上一页，下一页，重新刷新，修改每页大小等行为。</p><p>这种封装模式可以让前端从各种状态管理中脱身出来，专注于业务开发，也不需要 dva，redux 等数据流的方案，更加符合直觉。开发者只需要定义一个状态，重型组件会自动生成一系列行为。</p><blockquote><p>为了渐进式使用我们也提供了与 Ant Design 相同的 api，完全可以降级成为一个 Ant Design 的 table 使用。</p></blockquote><h3 id="一个组件--一个页面"><a aria-hidden="true" tabindex="-1" href="#一个组件--一个页面"><span class="icon icon-link"></span></a>一个组件 ≈ 一个页面</h3><p>重型组件区别于传统组件有个很大的不同，重型组件在抽象时是将其当成一 个页面来进行处理，所以 ProTable 会支持网络请求和自动生成查询表单，而 ProLayout 会支持自动生成菜单，两者都基于同样的思想也就是提供页面级别的抽象。</p><p>一个列表页应该可以用 ProLayout + ProTable 完成，一个编辑页应该使用 ProLayout + ProForm 完成，详情页可以用 ProLayout + ProDescriptions 完成。 一个页面在开发工程中只需要关注几个重型组件，降低心智负担，专注于更核心的业务逻辑。</p><h3 id="设计与样式"><a aria-hidden="true" tabindex="-1" href="#设计与样式"><span class="icon icon-link"></span></a>设计与样式</h3><p>在实际开发中我们也经常会碰到一些设计问题，比如经典的按钮应该放在左面还是右面，查询表单怎么布局，日期怎么格式化，数字的对齐问题，在重型组件中都进行了抽象，对于各种行为与样式我们都经过了设计师的讨论与设计可以达到默认好看及好用。</p><p>如果你还是想自定义相关渲染可以通过自定义 valueType 的方式来实现。默认的不一定是最好的，但是一定不差，如果你要自定义最好考虑一下投入产出比，毛坯房里雕花真的好吗？</p><h2 id="参与贡献"><a aria-hidden="true" tabindex="-1" href="#参与贡献"><span class="icon icon-link"></span></a>参与贡献</h2><p>我们非常欢迎你的贡献，你可以通过以下方式和我们一起共建 😊 ：</p><ul><li>在你的公司或个人项目中使用 Ant Design Pro，umi 和 ProComponents。</li><li>通过 <a href="http://github.com/ant-design/pro-components/issues">Issue</a> 报告 bug 或进行咨询。</li><li>提交 <a href="http://github.com/ant-design/pro-components/pulls">Pull Request</a> 改进 ProComponents 的代码。</li></ul><h3 id="脚手架概览"><a aria-hidden="true" tabindex="-1" href="#脚手架概览"><span class="icon icon-link"></span></a>脚手架概览</h3><p>当我们 clone 完项目之后会看到如下的目录结构。</p><div class="source-code site-1eje5p0"><button type="button" class="site-btn css-1tndgub site-btn-default site-btn-icon-only source-code-hover-btn site-m1w53z"><span role="img" aria-label="copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></span></button><pre style="display:block;background:white;padding:0.5em;color:#333333;overflow-x:auto"><code style="white-space:pre"><span style="color:#0086b3">-</span><span> .dumi              </span><span style="color:#df5000">* dumi 的相关配置，主要是主题等
</span><span style="color:#df5000">- .github            *</span><span> github 的 action 和相关的 issue 配置
</span><span></span><span style="color:#0086b3">-</span><span> docs               </span><span style="color:#df5000">* 存放公用的文档
</span><span style="color:#df5000">- packages           *</span><span> 我们维护的包, 如果你想贡献代码，这里是你最需要关注的
</span><span></span><span style="color:#0086b3">-</span><span> README.md          </span><span style="color:#df5000">* 展示在 github 主页的代码
</span><span style="color:#df5000">- tests              *</span><span> 编写测试用例的地方
</span><span></span><span style="color:#0086b3">-</span><span> public             </span><span style="color:#df5000">* 部署官网所用的静态文件
</span><span style="color:#df5000">- scripts            *</span><span> 开发或者部署所用的脚本
</span><span></span><span style="color:#0086b3">-</span><span> .prettierrc.js     </span><span style="color:#df5000">* prettier 的相关配置
</span><span style="color:#df5000">- .eslintrc.js       *</span><span> eslint 的配置
</span><span></span><span style="color:#0086b3">-</span><span> .fatherrc.ts       </span><span style="color:#df5000">* 编译脚手架的配置
</span><span style="color:#df5000">- .umirc.js          *</span><span> dumi 的核心配置
</span><span></span><span style="color:#0086b3">-</span><span> webpack.config.js  </span><span style="color:#df5000">* 编译 umd 包的配置文件
</span><span style="color:#df5000">- jest.config.js     *</span><span> 测试环境的配置
</span><span></span><span style="color:#0086b3">-</span><span> lerna.json         </span><span style="color:#df5000">* 多包的配置
</span><span style="color:#df5000">- package.json       *</span><span> 项目的配置
</span><span></span><span style="color:#0086b3">-</span><span> tsconfig.json      </span><span style="color:#df5000">* typescript 的配置
</span><span style="color:#df5000">- yarn.lock          *</span><span> 依赖 lock 文件
</span></code></pre></div><p><code>coverage</code> 和 <code>.umi</code> 这两个文件夹比较特殊，<code>coverage</code> 是测试覆盖率文件，在跑完测试覆盖率后才会出现，<code>.umi</code> 是运行时的一些临时文件，在执行 <code>npm run start</code> 时生成。</p><h3 id="源码概览"><a aria-hidden="true" tabindex="-1" href="#源码概览"><span class="icon icon-link"></span></a>源码概览</h3><p>在 packages 文件夹中包含了我们所有的组件，每个组件一般都有一个 <code>src</code>，<code>package.json</code> 和 <code>README.md</code>。<code>package.json</code> 和 <code>README.md</code> 可以在新建文件夹后通过执行 <code>npm run bootstrap</code> 来生成。</p><p><code>src</code> 中就是我们真正的源码，我们约定 <code>src</code> 下会有 demos 文件夹里面会存储所有的 demo，并且 <code>${包名}.md</code> 的文件用于介绍这个组件，同时引入 demo 和 API 文档。</p><blockquote><p>我们使用了 dumi 的语法，要求全部使用外置组件，用 code 引入，调试起来会更加方便。</p></blockquote><h3 id="风格指南"><a aria-hidden="true" tabindex="-1" href="#风格指南"><span class="icon icon-link"></span></a>风格指南</h3><p>我们使用自动化代码格式化软件 <a href="https://prettier.io/"><code>Prettier</code></a>。 对代码做出更改后，运行 <code>npm run prettier</code>。当然我们更推荐 prettier 的插件，随时格式化代码。</p><blockquote><p>我们的 CI 会检查代码是否被 prettier，在提交代码前最好执行一下 <code>npm run prettier</code>。</p></blockquote><p>之后，<code>linter</code> 会捕获代码中可能出现的多数问题。 你可以运行 <code>npm run lint</code> 来检查代码风格状态。</p><p>不过，<code>linter</code> 也有不能搞定的一些风格。如果有些东西不确定，请查看 <a href="https://github.com/airbnb/javascript">Airbnb’s Style Guide</a> 来指导自己。</p><h3 id="开发工作流"><a aria-hidden="true" tabindex="-1" href="#开发工作流"><span class="icon icon-link"></span></a>开发工作流</h3><p>我们使用了 <a href="https://danluu.com/monorepo/">monorepo</a> 的方式来管理我们的仓库，仓库中包含多个独立的包，以便于更改可以一起联调，这样可以一起跑测试用例，如果变更出现问题，我们可以很快的定位到问题。</p><p>因为使用了 monorepo ,我们要求必须要使用 yarn 来安装依赖。<a href="https://classic.yarnpkg.com/en/docs/workspaces#search"><code>workspace</code></a> 可以帮助我们在多个包中共享依赖。</p><p>安装完成后你可以使用以下命令：</p><ul><li><code>yarn start</code> 预览你的改动</li><li><code>yarn lint</code> 检查代码风格</li><li><code>yarn tsc</code> 检查 TypeScript 是否符合规范</li><li><code>yarn test</code> 测试代码是否可以通过测试用例</li><li><code>yarn test:coverage</code> 测试仓库的测试覆盖率</li><li><code>yarn build</code> 编译当前组件库</li></ul><p>我们建议运行 <code>yarn test</code> 或前文提及的 linter 以确保你的代码变更有没有影响原有功能，同时保证你写的每行代码都被正确的测试到，不管怎样这样都会提升组件库的整体质量。</p><p>如果你增加了一个新功能，请添加测试后再提交 pr，这样我们能确保以后你的代码不出问题。</p><h3 id="一些约定"><a aria-hidden="true" tabindex="-1" href="#一些约定"><span class="icon icon-link"></span></a>一些约定</h3><p>ProComponents 基于 antd 之上来开发，为了与 antd 的生态保持兼容性，我们要求覆盖 antd 的样式必须要使用 <code>${token.antCls}</code> 变量来生成类名，在 js 中使用如下代码来配置实现。</p><div class="source-code site-1eje5p0"><button type="button" class="site-btn css-1tndgub site-btn-default site-btn-icon-only source-code-hover-btn site-m1w53z"><span role="img" aria-label="copy" class="anticon anticon-copy"><svg viewBox="64 64 896 896" focusable="false" data-icon="copy" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></span></button><pre style="display:block;background:white;padding:0.5em;color:#333333;overflow-x:auto"><code style="white-space:pre"><span style="color:#d73a49">const</span><span> { getPrefixCls } = useContext(ConfigProvider.ConfigContext);
</span><span></span><span style="color:#d73a49">const</span><span> prefixCls = getPrefixCls(</span><span style="color:#032f62">&#x27;pro-${包名}&#x27;</span><span>);
</span></code></pre></div></div></div><script>$RC("B:2","S:2")</script>