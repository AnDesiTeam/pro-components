"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5528],{82193:function(G,v,n){n.r(v);var x=n(25359),t=n.n(x),M=n(49811),f=n.n(M),h=n(38738),E=n(45299),s=n(11527),g={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},D=[{title:"\u6807\u9898",dataIndex:"title",initialValue:"\u5FC5\u586B",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:g,width:"m",tooltip:"\u5F53title\u4E3Adisabled\u65F6\u72B6\u6001\u65E0\u6CD5\u9009\u62E9",dependencies:["title"],fieldProps:function(o){return o.getFieldValue("title")==="disabled"?{disabled:!0,placeholder:"disabled"}:{placeholder:"normal"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"m",tooltip:"\u5F53title\u4E3A\u5FC5\u586B\u65F6\u6B64\u9879\u5C06\u4E3A\u5FC5\u586B",dependencies:["title"],formItemProps:function(o){return o.getFieldValue("title")==="\u5FC5\u586B"?{rules:[{required:!0}]}:{}}},{valueType:"dependency",name:["title"],columns:function(o){var l=o.title;return l!=="hidden"?[{title:"title\u4E3Ahidden\u65F6\u9690\u85CF",dataIndex:"hidden",valueType:"date",renderFormItem:function(){return(0,s.jsx)(E.Z,{})}}]:[]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{valueType:"divider"}];v.default=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.default,{shouldUpdate:!1,layoutType:"Form",onFinish:function(){var u=f()(t()().mark(function o(l){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log(l);case 1:case"end":return d.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),columns:D})})}},45372:function(G,v,n){n.r(v);var x=n(25359),t=n.n(x),M=n(49811),f=n.n(M),h=n(48134),E=n(38738),s=n(11527),g={money:{text:"\u6309\u91D1\u989D"},discount:{text:"\u6309\u6298\u6263"}},D=[{title:"\u4F18\u60E0\u65B9\u5F0F",dataIndex:"type",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},valueType:"select",valueEnum:g,width:"m"},{valueType:"dependency",name:["type"],columns:function(o){var l=o.type;return l==="money"?[{dataIndex:"money",title:"\u4F18\u60E0\u91D1\u989D",width:"m",valueType:"money"}]:l==="discount"?[{dataIndex:"discount",title:"\u6298\u6263",valueType:"digit",width:"m",fieldProps:{precision:2}}]:[]}}];v.default=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{children:"\u666E\u901Ajson\u8868\u5355"}),(0,s.jsx)(E.default,{onFinish:function(){var u=f()(t()().mark(function o(l){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log(l);case 1:case"end":return d.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),columns:D}),(0,s.jsx)("h1",{children:"\u5D4C\u5957json\u8868\u5355"}),(0,s.jsx)(h.A,{initialValues:{type:"money"},children:(0,s.jsx)(E.default,{layoutType:"Embed",onFinish:function(){var u=f()(t()().mark(function o(l){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log(l);case 1:case"end":return d.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),columns:D})})]})}},68842:function(G,v,n){n.r(v);var x=n(25359),t=n.n(x),M=n(49811),f=n.n(M),h=n(38738),E=n(45299),s=n(11527),g={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},D=[{title:"\u6807\u9898",dataIndex:"title",initialValue:"\u5FC5\u586B",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:g,width:"m",tooltip:"\u5F53title\u4E3Adisabled\u65F6\u72B6\u6001\u65E0\u6CD5\u9009\u62E9",fieldProps:function(o){return o.getFieldValue("title")==="disabled"?{disabled:!0,placeholder:"disabled"}:{placeholder:"normal"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"m",tooltip:"\u5F53title\u4E3A\u5FC5\u586B\u65F6\u6B64\u9879\u5C06\u4E3A\u5FC5\u586B",dependencies:["title"],formItemProps:function(o){return o.getFieldValue("title")==="\u5FC5\u586B"?{rules:[{required:!0}]}:{}}},{valueType:"dependency",name:["title"],columns:function(o){var l=o.title;return l!=="hidden"?[{title:"title\u4E3Ahidden\u65F6\u9690\u85CF",dataIndex:"hidden",valueType:"date",renderFormItem:function(){return(0,s.jsx)(E.Z,{})}}]:[]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"}];v.default=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.default,{shouldUpdate:function(o,l){return o.title!==(l==null?void 0:l.title)},layoutType:"Form",onFinish:function(){var u=f()(t()().mark(function o(l){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log(l);case 1:case"end":return d.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),columns:D})})}},76703:function(G,v,n){n.r(v);var x=n(48134),t=n(61313),M=n(19080),f=n(38738),h=n(11527),E={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},s=[{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:E,width:"m"}];v.default=function(){return(0,h.jsxs)(x.A,{children:[(0,h.jsx)("h1",{children:"ProForm "}),(0,h.jsx)(t.Z,{name:"username"}),(0,h.jsx)(M.Z,{name:"select-multiple",label:"\u591A\u9009",valueEnum:{red:"Red",green:"Green",blue:"Blue"},fieldProps:{mode:"multiple"},placeholder:"Please select favorite colors",rules:[{required:!0,message:"Please select your favorite colors!",type:"array"}]}),(0,h.jsx)("h1",{children:"\u8868\u53551 "}),(0,h.jsx)(f.default,{layoutType:"Embed",columns:s}),(0,h.jsx)("h1",{children:"\u8868\u53552"}),(0,h.jsx)(f.default,{layoutType:"Embed",columns:[{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{title:"\u5206\u7EC4",valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",valueEnum:E},{title:"\u6807\u9898",width:"md",dataIndex:"groupTitle",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]}]})]})}},17341:function(G,v,n){n.r(v);var x=n(25359),t=n.n(x),M=n(49811),f=n.n(M),h=n(38738),E=n(45299),s=n(11527),g={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},D=[{title:"\u6807\u9898",dataIndex:"title",initialValue:"\u5FC5\u586B",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u5FC5\u586B\u4F46\u6CA1\u663E\u793A*",dataIndex:"list",valueType:"formList",formItemProps:{rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5217\u8868"}]},columns:[{dataIndex:"isSettlement",valueType:"switch",formItemProps:{rules:[{required:!0,message:"\u8BF7\u586B\u51991"}]}}]},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:g,width:"m",tooltip:"\u5F53title\u4E3Adisabled\u65F6\u72B6\u6001\u65E0\u6CD5\u9009\u62E9",dependencies:["title"],fieldProps:function(o){return o.getFieldValue("title")==="disabled"?{disabled:!0,placeholder:"disabled"}:{placeholder:"normal"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"m",tooltip:"\u5F53title\u4E3A\u5FC5\u586B\u65F6\u6B64\u9879\u5C06\u4E3A\u5FC5\u586B",dependencies:["title"],formItemProps:function(o){return o.getFieldValue("title")==="\u5FC5\u586B"?{rules:[{required:!0}]}:{}}},{valueType:"dependency",name:["title"],columns:function(o){var l=o.title;return l!=="hidden"?[{title:"title\u4E3Ahidden\u65F6\u9690\u85CF",dataIndex:"hidden",valueType:"date",renderFormItem:function(){return(0,s.jsx)(E.Z,{})}}]:[]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{valueType:"divider"}];v.default=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.default,{shouldUpdate:!1,layoutType:"Form",onFinish:function(){var u=f()(t()().mark(function o(l){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log(l);case 1:case"end":return d.stop()}},o)}));return function(o){return u.apply(this,arguments)}}(),columns:D})})}},54467:function(G,v,n){n.r(v);var x=n(25359),t=n.n(x),M=n(49811),f=n.n(M),h=n(54306),E=n.n(h),s=n(19080),g=n(38738),D=n(1579),u=n(98949),o=n(89965),l=n(74637),P=n.n(l),d=n(50959),F=n(11527),U={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},N=[{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"md",colProps:{xs:24,md:12},initialValue:"\u9ED8\u8BA4\u503C",convertValue:function(T){return"\u6807\u9898\uFF1A".concat(T)},transform:function(T){return{title:"".concat(T,"-\u8F6C\u6362")}}},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:U,width:"md",colProps:{xs:24,md:12}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"md",colProps:{xs:12,md:4}},{valueType:"switch",title:"\u5F00\u5173",dataIndex:"Switch",fieldProps:{style:{width:"200px"}},width:"md",colProps:{xs:12,md:20}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",initialValue:[P()().add(-1,"m"),P()()],renderFormItem:function(){return(0,F.jsx)(D.Z.RangePicker,{})},width:"md",colProps:{xs:24,md:12}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateName",initialValue:[P()().add(-1,"m"),P()()],renderFormItem:function(){return(0,F.jsx)(D.Z.RangePicker,{})},width:"md",colProps:{xs:24,md:12}},{title:"\u5206\u7EC4",valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",colProps:{xs:12},valueEnum:U},{title:"\u6807\u9898",width:"md",dataIndex:"groupTitle",colProps:{xs:12},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]},{title:"\u5217\u8868",valueType:"formList",dataIndex:"list",initialValue:[{state:"all",title:"\u6807\u9898"}],colProps:{xs:24,sm:12},columns:[{valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",colProps:{xs:24,sm:12},width:"xs",valueEnum:U},{title:"\u6807\u9898",dataIndex:"title",width:"md",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},colProps:{xs:24,sm:12}}]},{valueType:"dateTime",initialValue:new Date,dataIndex:"currentTime",width:"md"}]},{title:"FormSet",valueType:"formSet",dataIndex:"formSet",colProps:{xs:24,sm:12},rowProps:{gutter:[16,0]},columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"md",valueEnum:U},{width:"xs",title:"\u6807\u9898",dataIndex:"groupTitle",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateRange",width:"md",colProps:{span:24},transform:function(T){return{startTime:T[0],endTime:T[1]}}}];v.default=function(){var O=(0,d.useState)("Form"),T=E()(O,2),W=T[0],q=T[1];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(u.Z,{style:{width:"100%"},direction:"vertical",children:[(0,F.jsx)(o.Z,{type:"warning",message:"QueryFilter \u548C lightFilter \u6682\u4E0D\u652F\u6301grid\u6A21\u5F0F",style:{marginBlockEnd:24}}),(0,F.jsx)(s.Z,{label:"\u5E03\u5C40\u65B9\u5F0F",options:["Form","ModalForm","DrawerForm","LightFilter","QueryFilter","StepsForm","StepForm","Embed"],fieldProps:{value:W,onChange:function(p){return q(p)}}})]}),(0,F.jsx)(g.default,{trigger:(0,F.jsx)("a",{children:"\u70B9\u51FB\u6211"}),layoutType:W,steps:[{title:"ProComponent"}],rowProps:{gutter:[16,16]},colProps:{span:12},grid:W!=="LightFilter"&&W!=="QueryFilter",onFinish:function(){var R=f()(t()().mark(function p(z){return t()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:console.log(z);case 1:case"end":return b.stop()}},p)}));return function(p){return R.apply(this,arguments)}}(),columns:W==="StepsForm"?[N]:N})]})}},84690:function(G,v,n){n.r(v);var x=n(25359),t=n.n(x),M=n(49811),f=n.n(M),h=n(38738),E=n(59168),s=n(50959),g=n(11527),D={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},u=[[{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:D,width:"m"}],[{title:"\u6807\u7B7E",dataIndex:"labels",width:"m"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{title:"\u5206\u7EC4",valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",valueEnum:D},{title:"\u6807\u9898",width:"md",dataIndex:"groupTitle",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]}],[{title:"\u5217\u8868",valueType:"formList",dataIndex:"list",initialValue:[{state:"all",title:"\u6807\u9898"}],columns:[{valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",width:"xs",valueEnum:D},{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"}]}]},{title:"FormSet",valueType:"formSet",dataIndex:"formSet",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",valueEnum:D},{title:"\u6807\u9898",dataIndex:"groupTitle",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"}]},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateRange",transform:function(l){return{startTime:l[0],endTime:l[1]}}}]];v.default=function(){var o=(0,s.useRef)();return(0,g.jsx)(h.default,{layoutType:"StepsForm",steps:[{title:"\u7B2C\u4E00\u6B65"},{title:"\u7B2C\u4E8C\u6B65"},{title:"\u7B2C\u4E09\u6B65"}],onCurrentChange:function(P){console.log("current: ",P)},formRef:o,onFinish:function(){var l=f()(t()().mark(function P(d){return t()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",new Promise(function(N){console.log(d),E.ZP.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){var O;N(!0),(O=o.current)===null||O===void 0||O.resetFields()},2e3)}));case 1:case"end":return U.stop()}},P)}));return function(P){return l.apply(this,arguments)}}(),columns:u})}},70285:function(G,v,n){var x=n(57213),t=n.n(x),M=n(93525),f=n.n(M),h=n(12342),E=n.n(h),s=n(93962),g=n(98949),D=n(45299),u=n(9960),o=n(50959),l=n(67629),P=n(16555),d=n(11527),F=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue"],U=["children","space","valuePropName"],N={space:g.Z,group:D.Z.Group};function O(R){var p=arguments.length<=1?void 0:arguments[1];return p&&p.target&&R in p.target?p.target[R]:p}var T=function(p){var z=p.children,w=p.value,b=w===void 0?[]:w,X=p.valuePropName,ee=p.onChange,k=p.fieldProps,re=p.space,ne=p.type,te=ne===void 0?"space":ne,ve=p.transform,he=p.convertValue,de=E()(p,F),oe=(0,s.J)(function(y,L){var _,e=f()(b);e[L]=O(X||"value",y),ee==null||ee(e),k==null||(_=k.onChange)===null||_===void 0||_.call(k,e)}),le=-1,_e=(0,u.Z)(z).map(function(y){if(o.isValidElement(y)){var L,_,e;le+=1;var a=le,c=(y==null||(L=y.type)===null||L===void 0?void 0:L.displayName)==="ProFormComponent"||(y==null||(_=y.props)===null||_===void 0?void 0:_.readonly),i=c?t()(t()({key:a,ignoreFormItem:!0},y.props||{}),{},{fieldProps:t()(t()({},y==null||(e=y.props)===null||e===void 0?void 0:e.fieldProps),{},{onChange:function(){oe(arguments.length<=0?void 0:arguments[0],a)}}),value:b==null?void 0:b[a],onChange:void 0}):t()(t()({key:a},y.props||{}),{},{value:b==null?void 0:b[a],onChange:function(I){var C,j;oe(I,a),(C=(j=y.props).onChange)===null||C===void 0||C.call(j,I)}});return o.cloneElement(y,i)}return y}),ae=N[te],se=(0,P.zx)(de),ie=se.RowWrapper,ue=(0,o.useMemo)(function(){return t()({},te==="group"?{compact:!0}:{})},[te]),me=(0,o.useCallback)(function(y){var L=y.children;return(0,d.jsx)(ae,t()(t()(t()({},ue),re),{},{align:"start",children:L}))},[ae,re,ue]);return(0,d.jsx)(ie,{Wrapper:me,children:_e})},W=o.forwardRef(function(R,p){var z=R.children,w=R.space,b=R.valuePropName,X=E()(R,U);return(0,o.useImperativeHandle)(p,function(){return{}}),(0,d.jsx)(T,t()(t()(t()({space:w,valuePropName:b},X.fieldProps),{},{onChange:void 0},X),{},{children:z}))}),q=(0,l.G)(W);v.Z=q},38738:function(G,v,n){n.d(v,{default:function(){return L}});var x=n(57213),t=n.n(x),M=n(54306),f=n.n(M),h=n(12342),E=n.n(h),s=n(22568),g=n(42311),D=n(56527),u=n(94552),o=n(56684),l=n(50959),P=n(74844),d=n(18828),F=n(55246),U=n(48134),N=n(76894),O=n(45177),T=n(11527),W=["steps","columns","forceUpdate","grid"],q=function(e){var a=e.steps,c=e.columns,i=e.forceUpdate,m=e.grid,I=E()(e,W),C=(0,s.d)(I),j=(0,l.useCallback)(function(Q){var A,$;(A=($=C.current).onCurrentChange)===null||A===void 0||A.call($,Q),i([])},[i,C]),K=(0,l.useMemo)(function(){return a==null?void 0:a.map(function(Q,A){return(0,l.createElement)(L,t()(t()({grid:m},Q),{},{key:A,layoutType:"StepForm",columns:c[A]}))})},[c,m,a]);return(0,T.jsx)(O.L,t()(t()({},I),{},{onCurrentChange:j,children:K}))},R=q,p=function(e){var a=e.children;return(0,T.jsx)(T.Fragment,{children:a})},z=p,w=n(26994),b=n(5276),X=function(e,a){if(e.valueType==="dependency"){var c,i,m,I=(c=e.getFieldProps)===null||c===void 0?void 0:c.call(e);return(0,w.noteOnce)(Array.isArray((i=e.name)!==null&&i!==void 0?i:I==null?void 0:I.name),'SchemaForm: fieldProps.name should be NamePath[] when valueType is "dependency"'),(0,w.noteOnce)(typeof e.columns=="function",'SchemaForm: columns should be a function when valueType is "dependency"'),Array.isArray((m=e.name)!==null&&m!==void 0?m:I==null?void 0:I.name)?(0,l.createElement)(b.Z,t()(t()({name:e.name},I),{},{key:e.key}),function(C){return!e.columns||typeof e.columns!="function"?null:a.genItems(e.columns(C))}):null}return!0},ee=n(24174),k=function(e){if(e.valueType==="divider"){var a;return(0,l.createElement)(ee.Z,t()(t()({},(a=e.getFieldProps)===null||a===void 0?void 0:a.call(e)),{},{key:e.key}))}return!0},re=n(71770),ne=n(42339),te=function(e,a){var c=a.action,i=a.formRef,m=a.type,I=a.originItem,C=t()(t()({},(0,re.Z)(e,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{name:e.name||e.key||e.dataIndex,width:e.width,render:e!=null&&e.render?function(A,$,Y){var B,S,V,H;return e==null||(B=e.render)===null||B===void 0?void 0:B.call(e,A,$,Y,c==null?void 0:c.current,t()(t()({type:m},e),{},{key:(S=e.key)===null||S===void 0?void 0:S.toString(),formItemProps:(V=e.getFormItemProps)===null||V===void 0?void 0:V.call(e),fieldProps:(H=e.getFieldProps)===null||H===void 0?void 0:H.call(e)}))}:void 0}),j=function(){return(0,T.jsx)(ne.Z,t()(t()({},C),{},{ignoreFormItem:!0}))},K=e!=null&&e.renderFormItem?function(A,$){var Y,B,S,V,H=(0,u.Y)(t()(t()({},$),{},{onChange:void 0}));return e==null||(Y=e.renderFormItem)===null||Y===void 0?void 0:Y.call(e,t()(t()({type:m},e),{},{key:(B=e.key)===null||B===void 0?void 0:B.toString(),formItemProps:(S=e.getFormItemProps)===null||S===void 0?void 0:S.call(e),fieldProps:(V=e.getFieldProps)===null||V===void 0?void 0:V.call(e),originProps:I}),t()(t()({},H),{},{defaultRender:j,type:m}),i.current)}:void 0;if(e!=null&&e.renderFormItem){var Q=K==null?void 0:K(null,{});if(!Q||e.ignoreFormItem)return Q}return(0,l.createElement)(ne.Z,t()(t()({},C),{},{key:[e.key,e.index||0].join("-"),renderFormItem:K}))},ve=n(56486),he=function(e,a){var c=a.genItems;if(e.valueType==="formList"&&e.dataIndex){var i,m;return!e.columns||!Array.isArray(e.columns)?null:(0,l.createElement)(ve.u,t()(t()({},(i=e.getFormItemProps)===null||i===void 0?void 0:i.call(e)),{},{key:e.key,name:e.dataIndex,label:e.label,initialValue:e.initialValue,colProps:e.colProps,rowProps:e.rowProps},(m=e.getFieldProps)===null||m===void 0?void 0:m.call(e)),c(e.columns))}return!0},de=n(70285),oe=function(e,a){var c=a.genItems;if(e.valueType==="formSet"&&e.dataIndex){var i,m;return!e.columns||!Array.isArray(e.columns)?null:(0,l.createElement)(de.Z,t()(t()({},(i=e.getFormItemProps)===null||i===void 0?void 0:i.call(e)),{},{key:e.key,initialValue:e.initialValue,name:e.dataIndex,label:e.label,colProps:e.colProps,rowProps:e.rowProps},(m=e.getFieldProps)===null||m===void 0?void 0:m.call(e)),c(e.columns))}return!0},le=n(4766),_e=function(e,a){var c=a.genItems;if(e.valueType==="group"){var i;return!e.columns||!Array.isArray(e.columns)?null:(0,T.jsx)(le.UW,t()(t()({label:e.label,colProps:e.colProps,rowProps:e.rowProps},(i=e.getFieldProps)===null||i===void 0?void 0:i.call(e)),{},{children:c(e.columns)}),e.key)}return!0},ae=function(e){return e.valueType&&typeof e.valueType=="string"&&["index","indexBorder","option"].includes(e==null?void 0:e.valueType)?null:!0},se=[ae,_e,he,oe,k,X],ie=function(e,a){for(var c=0;c<se.length;c++){var i=se[c],m=i(e,a);if(m!==!0)return m}return te(e,a)},ue=["columns","layoutType","type","action","shouldUpdate","formRef"],me={DrawerForm:P.a,QueryFilter:N.t,LightFilter:d.M,StepForm:O.L.StepForm,StepsForm:R,ModalForm:F.Y,Embed:z};function y(_){var e=_.columns,a=_.layoutType,c=a===void 0?"Form":a,i=_.type,m=i===void 0?"form":i,I=_.action,C=_.shouldUpdate,j=C===void 0?!0:C,K=_.formRef,Q=E()(_,ue),A=me[c]||U.A,$=o.Z.useForm(),Y=f()($,1),B=Y[0],S=o.Z.useFormInstance(),V=(0,l.useState)([]),H=f()(V,2),De=H[1],Te=(0,l.useState)([]),fe=f()(Te,2),ge=fe[0],Ie=fe[1],J=(0,l.useRef)(_.form||S||B),Ee=(0,l.useRef)(),Pe=(0,s.d)(_);K&&(K.current=J.current);var ce=(0,l.useCallback)(function(pe){return pe.filter(function(r){return!(r.hideInForm&&m==="form")}).sort(function(r,Z){return Z.order||r.order?(Z.order||0)-(r.order||0):(Z.index||0)-(r.index||0)}).map(function(r,Z){var ye=(0,g.h)(r.title,r,"form",(0,T.jsx)(D.G,{label:r.title,tooltip:r.tooltip||r.tip})),be=(0,u.Y)({title:ye,label:ye,name:r.name,valueType:(0,g.h)(r.valueType,{}),key:r.key||r.dataIndex||Z,columns:r.columns,valueEnum:r.valueEnum,dataIndex:r.dataIndex||r.key,initialValue:r.initialValue,width:r.width,index:r.index,readonly:r.readonly,colSize:r.colSize,colProps:r.colProps,rowProps:r.rowProps,className:r.className,tooltip:r.tooltip||r.tip,dependencies:r.dependencies,proFieldProps:r.proFieldProps,ignoreFormItem:r.ignoreFormItem,getFieldProps:r.fieldProps?function(){return(0,g.h)(r.fieldProps,J.current,r)}:void 0,getFormItemProps:r.formItemProps?function(){return(0,g.h)(r.formItemProps,J.current,r)}:void 0,render:r.render,renderFormItem:r.renderFormItem,renderText:r.renderText,request:r.request,params:r.params,transform:r.transform,convertValue:r.convertValue,debounceTime:r.debounceTime});return ie(be,{action:I,type:m,originItem:r,formRef:J,genItems:ce})}).filter(function(r){return Boolean(r)})},[I,J,m]),xe=(0,l.useCallback)(function(pe,r){var Z=Pe.current.onValuesChange;(j===!0||typeof j=="function"&&j(r,Ee.current))&&Ie([]),Ee.current=r,Z==null||Z(pe,r)},[Pe,j]),Me=(0,l.useMemo)(function(){if(J.current&&!(e.length&&Array.isArray(e[0])))return ce(e)},[e,ce,ge]),Oe=(0,l.useMemo)(function(){return c==="StepsForm"?{forceUpdate:De,columns:e}:{}},[e,c]);return(0,T.jsx)(A,t()(t()(t()({},Oe),Q),{},{form:_.form||B,formRef:J,onValuesChange:xe,children:Me}))}var L=y}}]);
