"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5528],{74835:function(L,c,n){n.r(c);var T=n(25359),t=n.n(T),g=n(49811),h=n.n(g),i=n(88224),P=n(17854),a=n(11527),D={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},_=[{title:"\u6807\u9898",dataIndex:"title",initialValue:"\u5FC5\u586B",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:D,width:"m",tooltip:"\u5F53title\u4E3Adisabled\u65F6\u72B6\u6001\u65E0\u6CD5\u9009\u62E9",dependencies:["title"],fieldProps:function(r){return r.getFieldValue("title")==="disabled"?{disabled:!0,placeholder:"disabled"}:{placeholder:"normal"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"m",tooltip:"\u5F53title\u4E3A\u5FC5\u586B\u65F6\u6B64\u9879\u5C06\u4E3A\u5FC5\u586B",dependencies:["title"],formItemProps:function(r){return r.getFieldValue("title")==="\u5FC5\u586B"?{rules:[{required:!0}]}:{}}},{valueType:"dependency",name:["title"],columns:function(r){var u=r.title;return u!=="hidden"?[{title:"title\u4E3Ahidden\u65F6\u9690\u85CF",dataIndex:"hidden",valueType:"date",renderFormItem:function(){return(0,a.jsx)(P.Z,{})}}]:[]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{valueType:"divider"}];c.default=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.default,{shouldUpdate:!1,layoutType:"Form",onFinish:function(){var s=h()(t()().mark(function r(u){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:console.log(u);case 1:case"end":return m.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),columns:_})})}},22370:function(L,c,n){n.r(c);var T=n(25359),t=n.n(T),g=n(49811),h=n.n(g),i=n(36607),P=n(88224),a=n(11527),D={money:{text:"\u6309\u91D1\u989D"},discount:{text:"\u6309\u6298\u6263"}},_=[{title:"\u4F18\u60E0\u65B9\u5F0F",dataIndex:"type",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},valueType:"select",valueEnum:D,width:"m"},{valueType:"dependency",name:["type"],columns:function(r){var u=r.type;return u==="money"?[{dataIndex:"money",title:"\u4F18\u60E0\u91D1\u989D",width:"m",valueType:"money"}]:u==="discount"?[{dataIndex:"discount",title:"\u6298\u6263",valueType:"digit",width:"m",fieldProps:{precision:2}}]:[]}}];c.default=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{children:"\u666E\u901Ajson\u8868\u5355"}),(0,a.jsx)(P.default,{onFinish:function(){var s=h()(t()().mark(function r(u){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:console.log(u);case 1:case"end":return m.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),columns:_}),(0,a.jsx)("h1",{children:"\u5D4C\u5957json\u8868\u5355"}),(0,a.jsx)(i.A,{initialValues:{type:"money"},children:(0,a.jsx)(P.default,{layoutType:"Embed",onFinish:function(){var s=h()(t()().mark(function r(u){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:console.log(u);case 1:case"end":return m.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),columns:_})})]})}},16817:function(L,c,n){n.r(c);var T=n(25359),t=n.n(T),g=n(49811),h=n.n(g),i=n(88224),P=n(17854),a=n(11527),D={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},_=[{title:"\u6807\u9898",dataIndex:"title",initialValue:"\u5FC5\u586B",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:D,width:"m",tooltip:"\u5F53title\u4E3Adisabled\u65F6\u72B6\u6001\u65E0\u6CD5\u9009\u62E9",fieldProps:function(r){return r.getFieldValue("title")==="disabled"?{disabled:!0,placeholder:"disabled"}:{placeholder:"normal"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"m",tooltip:"\u5F53title\u4E3A\u5FC5\u586B\u65F6\u6B64\u9879\u5C06\u4E3A\u5FC5\u586B",dependencies:["title"],formItemProps:function(r){return r.getFieldValue("title")==="\u5FC5\u586B"?{rules:[{required:!0}]}:{}}},{valueType:"dependency",name:["title"],columns:function(r){var u=r.title;return u!=="hidden"?[{title:"title\u4E3Ahidden\u65F6\u9690\u85CF",dataIndex:"hidden",valueType:"date",renderFormItem:function(){return(0,a.jsx)(P.Z,{})}}]:[]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"}];c.default=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.default,{shouldUpdate:function(r,u){return r.title!==(u==null?void 0:u.title)},layoutType:"Form",onFinish:function(){var s=h()(t()().mark(function r(u){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:console.log(u);case 1:case"end":return m.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),columns:_})})}},81737:function(L,c,n){n.r(c);var T=n(36607),t=n(62689),g=n(5958),h=n(88224),i=n(11527),P={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},a=[{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:P,width:"m"}];c.default=function(){return(0,i.jsxs)(T.A,{children:[(0,i.jsx)("h1",{children:"ProForm "}),(0,i.jsx)(t.Z,{name:"username"}),(0,i.jsx)(g.Z,{name:"select-multiple",label:"\u591A\u9009",valueEnum:{red:"Red",green:"Green",blue:"Blue"},fieldProps:{mode:"multiple"},placeholder:"Please select favorite colors",rules:[{required:!0,message:"Please select your favorite colors!",type:"array"}]}),(0,i.jsx)("h1",{children:"\u8868\u53551 "}),(0,i.jsx)(h.default,{layoutType:"Embed",columns:a}),(0,i.jsx)("h1",{children:"\u8868\u53552"}),(0,i.jsx)(h.default,{layoutType:"Embed",columns:[{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{title:"\u5206\u7EC4",valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",valueEnum:P},{title:"\u6807\u9898",width:"md",dataIndex:"groupTitle",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]}]})]})}},3886:function(L,c,n){n.r(c);var T=n(25359),t=n.n(T),g=n(49811),h=n.n(g),i=n(88224),P=n(17854),a=n(11527),D={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},_=[{title:"\u6807\u9898",dataIndex:"title",initialValue:"\u5FC5\u586B",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u5FC5\u586B\u4F46\u6CA1\u663E\u793A*",dataIndex:"list",valueType:"formList",formItemProps:{rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5217\u8868"}]},columns:[{dataIndex:"isSettlement",valueType:"switch",formItemProps:{rules:[{required:!0,message:"\u8BF7\u586B\u51991"}]}}]},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:D,width:"m",tooltip:"\u5F53title\u4E3Adisabled\u65F6\u72B6\u6001\u65E0\u6CD5\u9009\u62E9",dependencies:["title"],fieldProps:function(r){return r.getFieldValue("title")==="disabled"?{disabled:!0,placeholder:"disabled"}:{placeholder:"normal"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"m",tooltip:"\u5F53title\u4E3A\u5FC5\u586B\u65F6\u6B64\u9879\u5C06\u4E3A\u5FC5\u586B",dependencies:["title"],formItemProps:function(r){return r.getFieldValue("title")==="\u5FC5\u586B"?{rules:[{required:!0}]}:{}}},{valueType:"dependency",name:["title"],columns:function(r){var u=r.title;return u!=="hidden"?[{title:"title\u4E3Ahidden\u65F6\u9690\u85CF",dataIndex:"hidden",valueType:"date",renderFormItem:function(){return(0,a.jsx)(P.Z,{})}}]:[]}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{valueType:"divider"}];c.default=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.default,{shouldUpdate:!1,layoutType:"Form",onFinish:function(){var s=h()(t()().mark(function r(u){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:console.log(u);case 1:case"end":return m.stop()}},r)}));return function(r){return s.apply(this,arguments)}}(),columns:_})})}},43490:function(L,c,n){n.r(c);var T=n(25359),t=n.n(T),g=n(49811),h=n.n(g),i=n(54306),P=n.n(i),a=n(5958),D=n(88224),_=n(20753),s=n(2905),r=n(98202),u=n(74637),l=n.n(u),m=n(50959),b=n(11527),R={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},Q=[{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"md",colProps:{xs:24,md:12},initialValue:"\u9ED8\u8BA4\u503C",convertValue:function(C){return"\u6807\u9898\uFF1A".concat(C)},transform:function(C){return{title:"".concat(C,"-\u8F6C\u6362")}}},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:R,width:"md",colProps:{xs:24,md:12}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"md",colProps:{xs:12,md:4}},{valueType:"switch",title:"\u5F00\u5173",dataIndex:"Switch",fieldProps:{style:{width:"200px"}},width:"md",colProps:{xs:12,md:20}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",initialValue:[l()().add(-1,"m"),l()()],renderFormItem:function(){return(0,b.jsx)(_.Z.RangePicker,{})},width:"md",colProps:{xs:24,md:12}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateName",initialValue:[l()().add(-1,"m"),l()()],renderFormItem:function(){return(0,b.jsx)(_.Z.RangePicker,{})},width:"md",colProps:{xs:24,md:12}},{title:"\u5206\u7EC4",valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",colProps:{xs:12},valueEnum:R},{title:"\u6807\u9898",width:"md",dataIndex:"groupTitle",colProps:{xs:12},formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]},{title:"\u5217\u8868",valueType:"formList",dataIndex:"list",initialValue:[{state:"all",title:"\u6807\u9898"}],colProps:{xs:24,sm:12},columns:[{valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",colProps:{xs:24,sm:12},width:"xs",valueEnum:R},{title:"\u6807\u9898",dataIndex:"title",width:"md",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},colProps:{xs:24,sm:12}}]},{valueType:"dateTime",initialValue:new Date,dataIndex:"currentTime",width:"md"}]},{title:"FormSet",valueType:"formSet",dataIndex:"formSet",colProps:{xs:24,sm:12},rowProps:{gutter:[16,0]},columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"md",valueEnum:R},{width:"xs",title:"\u6807\u9898",dataIndex:"groupTitle",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateRange",width:"md",colProps:{span:24},transform:function(C){return{startTime:C[0],endTime:C[1]}}}];c.default=function(){var F=(0,m.useState)("Form"),C=P()(F,2),O=C[0],ne=C[1];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.Z,{style:{width:"100%"},direction:"vertical",children:[(0,b.jsx)(r.Z,{type:"warning",message:"QueryFilter \u548C lightFilter \u6682\u4E0D\u652F\u6301grid\u6A21\u5F0F",style:{marginBlockEnd:24}}),(0,b.jsx)(a.Z,{label:"\u5E03\u5C40\u65B9\u5F0F",options:["Form","ModalForm","DrawerForm","LightFilter","QueryFilter","StepsForm","StepForm","Embed"],fieldProps:{value:O,onChange:function(y){return ne(y)}}})]}),(0,b.jsx)(D.default,{trigger:(0,b.jsx)("a",{children:"\u70B9\u51FB\u6211"}),layoutType:O,steps:[{title:"ProComponent"}],rowProps:{gutter:[16,16]},colProps:{span:12},grid:O!=="LightFilter"&&O!=="QueryFilter",onFinish:function(){var U=h()(t()().mark(function y(Y){return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:console.log(Y);case 1:case"end":return M.stop()}},y)}));return function(y){return U.apply(this,arguments)}}(),columns:O==="StepsForm"?[Q]:Q})]})}},61490:function(L,c,n){n.r(c);var T=n(25359),t=n.n(T),g=n(49811),h=n.n(g),i=n(88224),P=n(77753),a=n(50959),D=n(11527),_={all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}},s=[[{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"},{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",valueEnum:_,width:"m"}],[{title:"\u6807\u7B7E",dataIndex:"labels",width:"m"},{title:"\u521B\u5EFA\u65F6\u95F4",key:"showTime",dataIndex:"createName",valueType:"date"},{title:"\u5206\u7EC4",valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",valueEnum:_},{title:"\u6807\u9898",width:"md",dataIndex:"groupTitle",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}}]}],[{title:"\u5217\u8868",valueType:"formList",dataIndex:"list",initialValue:[{state:"all",title:"\u6807\u9898"}],columns:[{valueType:"group",columns:[{title:"\u72B6\u6001",dataIndex:"state",valueType:"select",width:"xs",valueEnum:_},{title:"\u6807\u9898",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"}]}]},{title:"FormSet",valueType:"formSet",dataIndex:"formSet",columns:[{title:"\u72B6\u6001",dataIndex:"groupState",valueType:"select",width:"xs",valueEnum:_},{title:"\u6807\u9898",dataIndex:"groupTitle",tip:"\u6807\u9898\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"m"}]},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"created_at",valueType:"dateRange",transform:function(u){return{startTime:u[0],endTime:u[1]}}}]];c.default=function(){var r=(0,a.useRef)();return(0,D.jsx)(i.default,{layoutType:"StepsForm",steps:[{title:"\u7B2C\u4E00\u6B65"},{title:"\u7B2C\u4E8C\u6B65"},{title:"\u7B2C\u4E09\u6B65"}],onCurrentChange:function(l){console.log("current: ",l)},formRef:r,onFinish:function(){var u=h()(t()().mark(function l(m){return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",new Promise(function(Q){console.log(m),P.ZP.success("\u63D0\u4EA4\u6210\u529F"),setTimeout(function(){var F;Q(!0),(F=r.current)===null||F===void 0||F.resetFields()},2e3)}));case 1:case"end":return R.stop()}},l)}));return function(l){return u.apply(this,arguments)}}(),columns:s})}},96670:function(L,c,n){var T=n(57213),t=n.n(T),g=n(93525),h=n.n(g),i=n(12342),P=n.n(i),a=n(10213),D=n(2905),_=n(17854),s=n(1302),r=n(50959),u=n(18849),l=n(26119),m=n(11527),b=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue"],R=["children","space","valuePropName"],Q={space:D.Z,group:_.Z.Group};function F(U){var y=arguments.length<=1?void 0:arguments[1];return y&&y.target&&U in y.target?y.target[U]:y}var C=function(y){var Y=y.children,H=y.value,M=H===void 0?[]:H,k=y.valuePropName,te=y.onChange,q=y.fieldProps,re=y.space,oe=y.type,ee=oe===void 0?"space":oe,fe=y.transform,he=y.convertValue,_e=P()(y,b),ae=(0,a.J)(function(I,K){var B,p=h()(M);p[K]=F(k||"value",I),te==null||te(p),q==null||(B=q.onChange)===null||B===void 0||B.call(q,p)}),le=-1,ie=(0,s.Z)(Y).map(function(I){if(r.isValidElement(I)){var K,B,p;le+=1;var e=le,d=(I==null||(K=I.type)===null||K===void 0?void 0:K.displayName)==="ProFormComponent"||(I==null||(B=I.props)===null||B===void 0?void 0:B.readonly),E=d?t()(t()({key:e,ignoreFormItem:!0},I.props||{}),{},{fieldProps:t()(t()({},I==null||(p=I.props)===null||p===void 0?void 0:p.fieldProps),{},{onChange:function(){ae(arguments.length<=0?void 0:arguments[0],e)}}),value:M==null?void 0:M[e],onChange:void 0}):t()(t()({key:e},I.props||{}),{},{value:M==null?void 0:M[e],onChange:function(v){var x,A;ae(v,e),(x=(A=I.props).onChange)===null||x===void 0||x.call(A,v)}});return r.cloneElement(I,E)}return I}),ue=Q[ee],me=(0,l.zx)(_e),se=me.RowWrapper,de=(0,r.useMemo)(function(){return t()({},ee==="group"?{compact:!0}:{})},[ee]),ce=(0,r.useCallback)(function(I){var K=I.children;return(0,m.jsx)(ue,t()(t()(t()({},de),re),{},{align:"start",children:K}))},[ue,re,de]);return(0,m.jsx)(se,{Wrapper:ce,children:ie})},O=r.forwardRef(function(U,y){var Y=U.children,H=U.space,M=U.valuePropName,k=P()(U,R);return(0,r.useImperativeHandle)(y,function(){return{}}),(0,m.jsx)(C,t()(t()(t()({space:H,valuePropName:M},k.fieldProps),{},{onChange:void 0},k),{},{children:Y}))}),ne=(0,u.G)(O);c.Z=ne},88224:function(L,c,n){n.d(c,{default:function(){return B}});var T=n(57213),t=n.n(T),g=n(54306),h=n.n(g),i=n(12342),P=n.n(i),a=n(47692),D=n(87600),_=n(34972),s=n(80380),r=n(1987),u=n(85202),l=n(50959),m=n(95943),b=n(37914),R=n(3851),Q=n(36607),F=n(46203),C=n(84541),O=n(11527),ne=["steps","columns","forceUpdate","grid"],U=function(e){var d=e.steps,E=e.columns,f=e.forceUpdate,v=e.grid,x=P()(e,ne),A=(0,D.d)(x),$=(0,l.useCallback)(function(w){var j,z;(j=(z=A.current).onCurrentChange)===null||j===void 0||j.call(z,w),f([])},[f,A]),S=(0,l.useMemo)(function(){return d==null?void 0:d.map(function(w,j){return(0,l.createElement)(B,t()(t()({grid:v},w),{},{key:j,layoutType:"StepForm",columns:E[j]}))})},[E,v,d]);return(0,O.jsx)(C.L,t()(t()({},x),{},{onCurrentChange:$,children:S}))},y=U,Y=function(e){var d=e.children;return(0,O.jsx)(O.Fragment,{children:d})},H=Y,M=n(38821),k=n(81553),te=function(e,d){if(e.valueType==="dependency"){var E,f,v,x=(E=e.getFieldProps)===null||E===void 0?void 0:E.call(e);return(0,M.noteOnce)(Array.isArray((f=e.name)!==null&&f!==void 0?f:x==null?void 0:x.name),'SchemaForm: fieldProps.name should be NamePath[] when valueType is "dependency"'),(0,M.noteOnce)(typeof e.columns=="function",'SchemaForm: columns should be a function when valueType is "dependency"'),Array.isArray((v=e.name)!==null&&v!==void 0?v:x==null?void 0:x.name)?(0,l.createElement)(k.Z,t()(t()({name:e.name},x),{},{key:e.key}),function(A){return!e.columns||typeof e.columns!="function"?null:d.genItems(e.columns(A))}):null}return!0},q=n(41511),re=function(e){if(e.valueType==="divider"){var d;return(0,l.createElement)(q.Z,t()(t()({},(d=e.getFieldProps)===null||d===void 0?void 0:d.call(e)),{},{key:e.key}))}return!0},oe=n(71770),ee=n(36039),fe=function(e,d){var E=d.action,f=d.formRef,v=d.type,x=d.originItem,A=t()(t()({},(0,oe.Z)(e,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{name:e.name||e.key||e.dataIndex,width:e.width,render:e!=null&&e.render?function(j,z,J){var W,V,Z,X;return e==null||(W=e.render)===null||W===void 0?void 0:W.call(e,j,z,J,E==null?void 0:E.current,t()(t()({type:v},e),{},{key:(V=e.key)===null||V===void 0?void 0:V.toString(),formItemProps:(Z=e.getFormItemProps)===null||Z===void 0?void 0:Z.call(e),fieldProps:(X=e.getFieldProps)===null||X===void 0?void 0:X.call(e)}))}:void 0}),$=function(){return(0,O.jsx)(ee.Z,t()(t()({},A),{},{ignoreFormItem:!0}))},S=e!=null&&e.renderFormItem?function(j,z){var J,W,V,Z,X=(0,r.Y)(t()(t()({},z),{},{onChange:void 0}));return e==null||(J=e.renderFormItem)===null||J===void 0?void 0:J.call(e,t()(t()({type:v},e),{},{key:(W=e.key)===null||W===void 0?void 0:W.toString(),formItemProps:(V=e.getFormItemProps)===null||V===void 0?void 0:V.call(e),fieldProps:(Z=e.getFieldProps)===null||Z===void 0?void 0:Z.call(e),originProps:x}),t()(t()({},X),{},{defaultRender:$,type:v}),f.current)}:void 0;if(e!=null&&e.renderFormItem){var w=S==null?void 0:S(null,{});if(!w||e.ignoreFormItem)return w}return(0,l.createElement)(ee.Z,t()(t()({},A),{},{key:[e.key,e.index||0].join("-"),renderFormItem:S}))},he=n(53523),_e=function(e,d){var E=d.genItems;if(e.valueType==="formList"&&e.dataIndex){var f,v;return!e.columns||!Array.isArray(e.columns)?null:(0,l.createElement)(he.u,t()(t()({},(f=e.getFormItemProps)===null||f===void 0?void 0:f.call(e)),{},{key:e.key,name:e.dataIndex,label:e.label,initialValue:e.initialValue,colProps:e.colProps,rowProps:e.rowProps},(v=e.getFieldProps)===null||v===void 0?void 0:v.call(e)),E(e.columns))}return!0},ae=n(96670),le=function(e,d){var E=d.genItems;if(e.valueType==="formSet"&&e.dataIndex){var f,v;return!e.columns||!Array.isArray(e.columns)?null:(0,l.createElement)(ae.Z,t()(t()({},(f=e.getFormItemProps)===null||f===void 0?void 0:f.call(e)),{},{key:e.key,initialValue:e.initialValue,name:e.dataIndex,label:e.label,colProps:e.colProps,rowProps:e.rowProps},(v=e.getFieldProps)===null||v===void 0?void 0:v.call(e)),E(e.columns))}return!0},ie=n(84798),ue=function(e,d){var E=d.genItems;if(e.valueType==="group"){var f;return!e.columns||!Array.isArray(e.columns)?null:(0,O.jsx)(ie.UW,t()(t()({label:e.label,colProps:e.colProps,rowProps:e.rowProps},(f=e.getFieldProps)===null||f===void 0?void 0:f.call(e)),{},{children:E(e.columns)}),e.key)}return!0},me=function(e){return e.valueType&&typeof e.valueType=="string"&&["index","indexBorder","option"].includes(e==null?void 0:e.valueType)?null:!0},se=[me,ue,_e,le,re,te],de=function(e,d){for(var E=0;E<se.length;E++){var f=se[E],v=f(e,d);if(v!==!0)return v}return fe(e,d)},ce=["columns","layoutType","type","action","shouldUpdate","formRef"],I={DrawerForm:m.a,QueryFilter:F.t,LightFilter:b.M,StepForm:C.L.StepForm,StepsForm:y,ModalForm:R.Y,Embed:H};function K(p){var e=p.columns,d=p.layoutType,E=d===void 0?"Form":d,f=p.type,v=f===void 0?"form":f,x=p.action,A=p.shouldUpdate,$=A===void 0?!0:A,S=p.formRef,w=P()(p,ce),j=I[E]||Q.A,z=u.Z.useForm(),J=h()(z,1),W=J[0],V=u.Z.useFormInstance(),Z=(0,l.useState)([]),X=h()(Z,2),Te=X[1],ge=(0,l.useState)([]),Ee=h()(ge,2),Ie=Ee[0],xe=Ee[1],G=(0,a.y)(p.form||V||W),Pe=(0,l.useRef)(),ye=(0,D.d)(p);(0,l.useEffect)(function(){S&&G.current&&(S.current=G.current)},[G.current]);var pe=(0,l.useCallback)(function(ve){return ve.filter(function(o){return!(o.hideInForm&&v==="form")}).sort(function(o,N){return N.order||o.order?(N.order||0)-(o.order||0):(N.index||0)-(o.index||0)}).map(function(o,N){var De=(0,_.h)(o.title,o,"form",(0,O.jsx)(s.G,{label:o.title,tooltip:o.tooltip||o.tip})),Fe=(0,r.Y)({title:De,label:De,name:o.name,valueType:(0,_.h)(o.valueType,{}),key:o.key||o.dataIndex||N,columns:o.columns,valueEnum:o.valueEnum,dataIndex:o.dataIndex||o.key,initialValue:o.initialValue,width:o.width,index:o.index,readonly:o.readonly,colSize:o.colSize,colProps:o.colProps,rowProps:o.rowProps,className:o.className,tooltip:o.tooltip||o.tip,dependencies:o.dependencies,proFieldProps:o.proFieldProps,ignoreFormItem:o.ignoreFormItem,getFieldProps:o.fieldProps?function(){return(0,_.h)(o.fieldProps,G.current,o)}:void 0,getFormItemProps:o.formItemProps?function(){return(0,_.h)(o.formItemProps,G.current,o)}:void 0,render:o.render,renderFormItem:o.renderFormItem,renderText:o.renderText,request:o.request,params:o.params,transform:o.transform,convertValue:o.convertValue,debounceTime:o.debounceTime});return de(Fe,{action:x,type:v,originItem:o,formRef:G,genItems:pe})}).filter(function(o){return Boolean(o)})},[x,G,v]),Me=(0,l.useCallback)(function(ve,o){var N=ye.current.onValuesChange;($===!0||typeof $=="function"&&$(o,Pe.current))&&xe([]),Pe.current=o,N==null||N(ve,o)},[ye,$]),Oe=(0,l.useMemo)(function(){if(G.current&&!(e.length&&Array.isArray(e[0])))return pe(e)},[e,pe,Ie]),be=(0,l.useMemo)(function(){return E==="StepsForm"?{forceUpdate:Te,columns:e}:{}},[e,E]);return(0,O.jsx)(j,t()(t()(t()({},be),w),{},{form:p.form||W,formRef:G,onValuesChange:Me,children:Oe}))}var B=K},47692:function(L,c,n){n.d(c,{y:function(){return P}});var T=n(10432),t=n(54306),g=n.n(t),h=n(50959);function i(){var a=(0,h.useState)(!0),D=g()(a,2),_=D[1],s=(0,h.useCallback)(function(){return _(function(r){return!r})},[]);return s}function P(a){var D=i(),_=(0,T.C)(D,a);return _}},10432:function(L,c,n){n.d(c,{C:function(){return t}});var T=n(50959);function t(g,h){var i=(0,T.useMemo)(function(){var P={current:h};return new Proxy(P,{set:function(D,_,s){return Object.is(D[_],s)||(D[_]=s,g(i)),!0}})},[]);return i}}}]);
