"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{57964:function(re,U,e){e.r(U);var Y=e(25359),E=e.n(Y),N=e(49811),v=e.n(N),X=e(54306),S=e.n(X),z=e(50916),x=e(66254),Q=e(7166),y=e(34103),f=e(50959),u=e(11527),m=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(W){setTimeout(function(){W(!0)},I)})},L=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}];U.default=function(){var Z=(0,f.useState)([]),I=S()(Z,2),W=I[0],G=I[1],g=(0,f.useState)([]),p=S()(g,2),i=p[0],j=p[1],P=(0,f.useState)("bottom"),n=S()(P,2),l=n[0],s=n[1],t=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(a,_){var d=_.rowIndex;return{rules:d>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(a,_,d){return d!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(a,_){var d=_.rowKey,c=_.rowIndex;return a.getFieldValue([d||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,_,d,c){return[(0,u.jsx)("a",{onClick:function(){var o;c==null||(o=c.startEditable)===null||o===void 0||o.call(c,_.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)("a",{onClick:function(){j(i.filter(function(o){return o.id!==_.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(z.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:l!=="hidden"?{position:l,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,u.jsx)(x.Z.Group,{fieldProps:{value:l,onChange:function(_){return s(_.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:t,request:v()(E()().mark(function r(){return E()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",{data:L,total:3,success:!0});case 1:case"end":return _.stop()}},r)})),value:i,onChange:j,editable:{type:"multiple",editableKeys:W,onSave:function(){var r=v()(E()().mark(function _(d,c,R){return E()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return console.log(d,c,R),D.next=3,m(2e3);case 3:case"end":return D.stop()}},_)}));function a(_,d,c){return r.apply(this,arguments)}return a}(),onChange:G}}),(0,u.jsx)(Q.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(y.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(i)})})]})}},96464:function(re,U,e){e.r(U);var Y=e(25359),E=e.n(Y),N=e(49811),v=e.n(N),X=e(54306),S=e.n(X),z=e(57213),x=e.n(z),Q=e(21885),y=e(50916),f=e(7166),u=e(34103),m=e(50959),L=e(11527),Z=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(p){setTimeout(function(){p(!0)},g)})},I=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000",children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],W=function G(g,p){return g.map(function(i){if(i.id!==p){if(i.children){var j=G(i.children,p);return x()(x()({},i),{},{children:j.length>0?j:void 0})}return i}return null}).filter(Boolean)};U.default=function(){var G=(0,m.useState)([]),g=S()(G,2),p=g[0],i=g[1],j=(0,m.useState)(function(){return I}),P=S()(j,2),n=P[0],l=P[1],s=(0,Q.J)(function(r){l(W(n,r.id))}),t=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(a,_){var d=_.rowIndex;return{rules:d>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(a,_){var d=_.rowKey,c=_.rowIndex;return a.getFieldValue([d||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,_){return[(0,L.jsx)("a",{onClick:function(){s(_)},children:"\u5220\u9664"},"delete")]}}];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(y.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:t,value:n,onChange:l,editable:{type:"multiple",editableKeys:p,onSave:function(){var r=v()(E()().mark(function _(d,c,R){return E()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return console.log(d,c,R),D.next=3,Z(2e3);case 3:case"end":return D.stop()}},_)}));function a(_,d,c){return r.apply(this,arguments)}return a}(),onChange:i}}),(0,L.jsx)(f.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,L.jsx)(u.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(n)})})]})}},87917:function(re,U,e){e.r(U);var Y=e(25359),E=e.n(Y),N=e(49811),v=e.n(N),X=e(57213),S=e.n(X),z=e(93525),x=e.n(z),Q=e(54306),y=e.n(Q),f=e(81939),u=e(50916),m=e(7166),L=e(34103),Z=e(40158),I=e(36325),W=e(87330),G=e(55061),g=e(60597),p=e(50959),i=e(11527),j=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(r){setTimeout(function(){r(!0)},t)})},P=function(t){var r=t.value,a=t.onChange,_=(0,p.useRef)(null),d=(0,p.useState)([]),c=y()(d,2),R=c[0],o=c[1],D=(0,p.useState)(""),k=y()(D,2),K=k[0],H=k[1],A=function(T){H(T.target.value)},B=function(){var T=x()(r||[]);K&&T.filter(function(oe){return oe.label===K}).length===0&&(T=[].concat(x()(T),[{key:"new-".concat(T.length),label:K}])),a==null||a(T),o([]),H("")};return(0,i.jsxs)(Z.Z,{children:[(r||[]).concat(R).map(function(J){return(0,i.jsx)(I.Z,{children:J.label},J.key)}),(0,i.jsx)(W.Z,{ref:_,type:"text",size:"small",style:{width:78},value:K,onChange:A,onBlur:B,onPressEnter:B})]})},n=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:"1590481162000"}],l=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(t,r){var a=r.isEditable;return a?(0,i.jsx)(P,{}):(0,i.jsx)(W.Z,{})},render:function(t,r){var a;return r==null||(a=r.labels)===null||a===void 0?void 0:a.map(function(_){return(0,i.jsx)(I.Z,{children:_.label},_.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(t,r,a,_){return[(0,i.jsx)("a",{onClick:function(){var c;_==null||(c=_.startEditable)===null||c===void 0||c.call(_,r.id)},children:"\u7F16\u8F91"},"editable"),(0,i.jsx)(u.Z.RecordCreator,{record:S()(S()({},r),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,i.jsx)("a",{children:"\u590D\u5236\u6B64\u884C\u5230\u672B\u5C3E"})},"copy")]}}];U.default=function(){var s=(0,p.useRef)(),t=(0,p.useState)([]),r=y()(t,2),a=r[0],_=r[1],d=(0,p.useState)([]),c=y()(d,2),R=c[0],o=c[1],D=G.Z.useForm(),k=y()(D,1),K=k[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Z.Z,{children:[(0,i.jsx)(g.ZP,{type:"primary",onClick:function(){var A,B;(A=s.current)===null||A===void 0||(B=A.addEditRecord)===null||B===void 0||B.call(A,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,i.jsx)(f.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,i.jsx)(g.ZP,{onClick:function(){K.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,i.jsx)(u.Z,{rowKey:"id",scroll:{x:960},actionRef:s,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:l,request:v()(E()().mark(function H(){return E()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",{data:n,total:3,success:!0});case 1:case"end":return B.stop()}},H)})),value:R,onChange:o,editable:{form:K,editableKeys:a,onSave:function(){var H=v()(E()().mark(function B(){return E()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,j(2e3);case 2:case"end":return T.stop()}},B)}));function A(){return H.apply(this,arguments)}return A}(),onChange:_,actionRender:function(A,B,J){return[J.save,J.cancel]}}}),(0,i.jsx)(m.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,i.jsx)(L.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(R)})})]})}},98510:function(re,U,e){e.r(U);var Y=e(54306),E=e.n(Y),N=e(80704),v=e(50916),X=e(66254),S=e(7166),z=e(28960),x=e(34103),Q=e(60597),y=e(50959),f=e(11527),u=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],m=0;U.default=function(){var L=(0,y.useState)(function(){return[]}),Z=E()(L,2),I=Z[0],W=Z[1],G=(0,y.useState)("bottom"),g=E()(G,2),p=g[0],i=g[1],j=(0,y.useRef)(),P=(0,y.useRef)(),n=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(s,t,r,a){return[(0,f.jsx)("a",{onClick:function(){var d;a==null||(d=a.startEditable)===null||d===void 0||d.call(a,t.id)},children:"\u7F16\u8F91"},"editable"),(0,f.jsx)("a",{onClick:function(){var d,c,R=(d=j.current)===null||d===void 0?void 0:d.getFieldValue("table");(c=j.current)===null||c===void 0||c.setFieldsValue({table:R.filter(function(o){return o.id!==t.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,f.jsxs)(N.A,{formRef:j,initialValues:{table:u},validateTrigger:"onBlur",children:[(0,f.jsx)(v.Z,{rowKey:"id",scroll:{x:960},editableFormRef:P,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",recordCreatorProps:p!=="hidden"?{position:p,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,f.jsx)(X.Z.Group,{fieldProps:{style:{marginBlockEnd:0},value:p,onChange:function(t){return i(t.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render"),(0,f.jsx)(Q.ZP,{type:"text",onClick:function(){var t,r,a=(t=P.current)===null||t===void 0||(r=t.getRowsData)===null||r===void 0?void 0:r.call(t);console.log(a)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:n,editable:{type:"multiple",editableKeys:I,onChange:W,actionRender:function(s,t,r){return[r.save,r.delete||r.cancel,(0,f.jsx)("a",{onClick:function(){var _,d;m++,(_=P.current)===null||_===void 0||(d=_.setRowData)===null||d===void 0||d.call(_,t.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+m})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u884C"},"set")]}}}),(0,f.jsx)(N.A.Item,{children:(0,f.jsx)(S.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,f.jsx)(z.Z,{name:["table"],children:function(s){var t=s.table;return(0,f.jsx)(x.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(t)})}})})})]})}},25613:function(re,U,e){e.r(U);var Y=e(25359),E=e.n(Y),N=e(49811),v=e.n(N),X=e(54306),S=e.n(X),z=e(7166),x=e(80704),Q=e(28960),y=e(79544),f=e(50916),u=e(50959),m=e(11527),L=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];U.default=function(){var Z=(0,u.useState)(function(){return[]}),I=S()(Z,2),W=I[0],G=I[1],g=(0,u.useRef)(),p=(0,u.useRef)(),i=(0,u.useRef)(),j=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var P=v()(E()().mark(function l(){return E()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return t.stop()}},l)}));function n(){return P.apply(this,arguments)}return n}(),fieldProps:function(n,l){var s=l.rowIndex;return{onSelect:function(){var r,a;(r=i.current)===null||r===void 0||(a=r.setRowData)===null||a===void 0||a.call(r,s,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(n){var l=n==null?void 0:n.scoringMethod;return l==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var P=v()(E()().mark(function l(){return E()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",["A","B","D","E","F"].map(function(r,a){return{label:r,value:a}}));case 1:case"end":return t.stop()}},l)}));function n(){return P.apply(this,arguments)}return n}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,l){return[(0,m.jsx)("a",{onClick:function(){var t,r,a=(t=g.current)===null||t===void 0?void 0:t.getFieldValue("table");(r=g.current)===null||r===void 0||r.setFieldsValue({table:a.filter(function(_){return _.id!==(l==null?void 0:l.id)})})},children:"\u79FB\u9664"},"delete"),(0,m.jsx)("a",{onClick:function(){var t;(t=p.current)===null||t===void 0||t.startEditable(l.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,m.jsx)(z.Z,{children:(0,m.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,m.jsxs)(x.A,{formRef:g,initialValues:{table:L},children:[(0,m.jsx)(Q.Z,{name:["table"],children:function(n){var l=n.table,s=l.reduce(function(t,r){return{totalScore:t.totalScore+parseInt(((r==null?void 0:r.fraction)||0).toString(),10),questions:t.questions+parseInt(((r==null?void 0:r.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,m.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",s.totalScore]}),(0,m.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",s.questions]}),(0,m.jsx)("div",{style:{flex:2},children:(0,m.jsx)(y.Z,{label:"\u53CA\u683C\u5206"})}),(0,m.jsx)("div",{style:{flex:2},children:(0,m.jsx)(y.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,m.jsx)(f.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:i,controlled:!0,actionRef:p,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var P=v()(E()().mark(function l(s,t){return E()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t.length<1)){a.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(t.length>5)){a.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return a.stop()}},l)}));function n(l,s){return P.apply(this,arguments)}return n}()}]},maxLength:10,name:"table",columns:j,recordCreatorProps:{record:function(n){return{id:n+1}}},editable:{type:"multiple",editableKeys:W,onChange:G}})]})})})}},97882:function(re,U,e){e.r(U);var Y=e(54306),E=e.n(Y),N=e(50916),v=e(7166),X=e(34103),S=e(60597),z=e(50959),x=e(11527),Q=new Array(20).fill(1).map(function(y,f){return{id:(Date.now()+f).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(f),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000"}});U.default=function(){var y=(0,z.useState)(function(){return Q.map(function(g){return g.id})}),f=E()(y,2),u=f[0],m=f[1],L=(0,z.useState)(function(){return Q}),Z=E()(L,2),I=Z[0],W=Z[1],G=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(N.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:G,rowKey:"id",scroll:{x:960},value:I,onChange:W,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,x.jsx)(S.ZP,{type:"primary",onClick:function(){console.log(I)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:u,actionRender:function(p,i,j){return[j.delete]},onValuesChange:function(p,i){W(i)},onChange:m}}),(0,x.jsx)(v.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,x.jsx)(X.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(I)})})]})}},50916:function(re,U,e){var Y=e(52510),E=e.n(Y),N=e(54306),v=e.n(N),X=e(12342),S=e.n(X),z=e(25359),x=e.n(z),Q=e(49811),y=e.n(Q),f=e(57213),u=e.n(f),m=e(81939),L=e(28960),Z=e(11287),I=e(53222),W=e(83540),G=e(21885),g=e(98744),p=e(60597),i=e(55061),j=e(2782),P=e(77200),n=e(23870),l=e(50959),s=e(73011),t=e(11527),r=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],a=["record","position","creatorButtonText","newRecordType","parentKey","style"],_=l.createContext(void 0);function d(o){var D=o.children,k=o.record,K=o.position,H=o.newRecordType,A=o.parentKey,B=(0,l.useContext)(_);return l.cloneElement(D,u()(u()({},D.props),{},{onClick:function(){var J=y()(x()().mark(function oe(q){var se,ue,te,ee;return x()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(se=(ue=D.props).onClick)===null||se===void 0?void 0:se.call(ue,q);case 2:if(ee=F.sent,ee!==!1){F.next=5;break}return F.abrupt("return");case 5:B==null||(te=B.current)===null||te===void 0||te.addEditRecord(k,{position:K,newRecordType:H,parentKey:A});case 6:case"end":return F.stop()}},oe)}));function T(oe){return J.apply(this,arguments)}return T}()}))}function c(o){var D,k,K=(0,I.YB)(),H=o.onTableChange,A=o.maxLength,B=o.formItemProps,J=o.recordCreatorProps,T=o.rowKey,oe=o.controlled,q=o.defaultValue,se=o.onChange,ue=o.editableFormRef,te=S()(o,r),ee=(0,l.useRef)(void 0),ie=(0,l.useRef)(),F=(0,l.useRef)();(0,l.useImperativeHandle)(te.actionRef,function(){return ie.current});var me=(0,j.default)(function(){return o.value||q||[]},{value:o.value,onChange:o.onChange}),ve=v()(me,2),O=ve[0],de=ve[1];ee.current=O;var ae=l.useMemo(function(){return typeof T=="function"?T:function(V,h){return V[T]||h}},[T]),pe=function(h){if(typeof h=="number"&&!o.name){if(h>=O.length)return h;var b=O&&O[h];return ae==null?void 0:ae(b,h)}if((typeof h=="string"||h>=O.length)&&o.name){var C=O.findIndex(function(M,$){var w;return(ae==null||(w=ae(M,$))===null||w===void 0?void 0:w.toString())===(h==null?void 0:h.toString())});return C}return h};(0,l.useImperativeHandle)(ue,function(){var V=function(C){var M,$;if(C==null)throw new Error("rowIndex is required");var w=pe(C),ne=[o.name,(M=w==null?void 0:w.toString())!==null&&M!==void 0?M:""].flat(1).filter(Boolean);return($=F.current)===null||$===void 0?void 0:$.getFieldValue(ne)},h=function(){var C,M=[o.name].flat(1).filter(Boolean);if(Array.isArray(M)&&M.length===0){var $,w=($=F.current)===null||$===void 0?void 0:$.getFieldsValue();return Array.isArray(w)?w:Object.keys(w).map(function(ne){return w[ne]})}return(C=F.current)===null||C===void 0?void 0:C.getFieldValue(M)};return u()(u()({},F.current),{},{getRowData:V,getRowsData:h,setRowData:function(C,M){var $,w,ne;if(C==null)throw new Error("rowIndex is required");var _e=pe(C),Re=[o.name,($=_e==null?void 0:_e.toString())!==null&&$!==void 0?$:""].flat(1).filter(Boolean),Te=Object.assign({},u()(u()({},V(C)),M||{})),xe=(0,n.default)({},Re,Te);return(w=F.current)===null||w===void 0||w.setFieldsValue(xe),console.log((ne=F.current)===null||ne===void 0?void 0:ne.getFieldsValue()),!0}})},[o.name]),(0,l.useEffect)(function(){o.controlled&&O.forEach(function(V,h){var b;(b=F.current)===null||b===void 0||b.setFieldsValue(E()({},ae(V,h),V))},{})},[O,o.controlled]),(0,l.useEffect)(function(){if(o.name){var V;F.current=o==null||(V=o.editable)===null||V===void 0?void 0:V.form}},[(D=o.editable)===null||D===void 0?void 0:D.form,o.name]);var le=J||{},ge=le.record,fe=le.position,be=le.creatorButtonText,De=le.newRecordType,Ce=le.parentKey,Pe=le.style,Oe=S()(le,a),Ee=fe==="top",ce=(0,l.useMemo)(function(){return typeof A=="number"&&A<=(O==null?void 0:O.length)?!1:J!==!1&&(0,t.jsx)(d,{record:(0,W.h)(ge,O==null?void 0:O.length,O)||{},position:fe,parentKey:(0,W.h)(Ce,O==null?void 0:O.length,O),newRecordType:De,children:(0,t.jsx)(p.ZP,u()(u()({type:"dashed",style:u()({display:"block",margin:"10px 0",width:"100%"},Pe),icon:(0,t.jsx)(m.Z,{})},Oe),{},{children:be||K.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[J,A,O==null?void 0:O.length]),Me=(0,l.useMemo)(function(){return ce?Ee?{components:{header:{wrapper:function(h){var b,C=h.className,M=h.children;return(0,t.jsxs)("thead",{className:C,children:[M,(0,t.jsxs)("tr",{style:{position:"relative"},children:[(0,t.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ce}),(0,t.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(b=te.columns)===null||b===void 0?void 0:b.length,children:ce})]})]})}}}}:{tableViewRender:function(h,b){var C,M;return(0,t.jsxs)(t.Fragment,{children:[(C=(M=o.tableViewRender)===null||M===void 0?void 0:M.call(o,h,b))!==null&&C!==void 0?C:b,ce]})}}:{}},[Ee,ce]),he=u()({},o.editable),ye=(0,G.J)(function(V,h){var b,C,M;if((b=o.editable)===null||b===void 0||(C=b.onValuesChange)===null||C===void 0||C.call(b,V,h),(M=o.onValuesChange)===null||M===void 0||M.call(o,h,V),o.controlled){var $;o==null||($=o.onChange)===null||$===void 0||$.call(o,h)}});return(o!=null&&o.onValuesChange||(k=o.editable)!==null&&k!==void 0&&k.onValuesChange||o.controlled&&o!==null&&o!==void 0&&o.onChange)&&(he.onValuesChange=ye),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Provider,{value:ie,children:(0,t.jsx)(s.Z,u()(u()(u()({search:!1,options:!1,pagination:!1,rowKey:T,revalidateOnFocus:!1},te),Me),{},{tableLayout:"fixed",actionRef:ie,onChange:H,editable:u()(u()({},he),{},{formProps:u()({formRef:F},he.formProps)}),dataSource:O,onDataSourceChange:function(h){if(de(h),o.name&&fe==="top"){var b,C=(0,n.default)({},[o.name].flat(1).filter(Boolean),h);(b=F.current)===null||b===void 0||b.setFieldsValue(C)}}}))}),o.name?(0,t.jsx)(L.Z,{name:[o.name],children:function(h){var b,C,M=(0,P.default)(h,[o.name].flat(1)),$=M==null?void 0:M.find(function(w,ne){var _e;return!(0,g.A)(w,(_e=ee.current)===null||_e===void 0?void 0:_e[ne])});return $&&ee.current&&(o==null||(b=o.editable)===null||b===void 0||(C=b.onValuesChange)===null||C===void 0||C.call(b,$,M)),null}}):null]})}function R(o){var D=Z.ZP.useFormInstance();return o.name?(0,t.jsx)(i.Z.Item,u()(u()({style:{maxWidth:"100%"}},o==null?void 0:o.formItemProps),{},{name:o.name,shouldUpdate:function(K,H){var A=[o.name].flat(1);try{return JSON.stringify((0,P.default)(K,A))===JSON.stringify((0,P.default)(H,A))}catch(B){return!0}},children:(0,t.jsx)(c,u()(u()({},o),{},{editable:u()(u()({},o.editable),{},{form:D})}))})):(0,t.jsx)(c,u()({},o))}R.RecordCreator=d,U.Z=R},36325:function(re,U,e){e.d(U,{Z:function(){return P}});var Y=e(12436),E=e(84875),N=e.n(E),v=e(50959),X=e(21850),S=e(95229),z=e(18256);function x(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}var Q=e(83112),y=e(37528),f=e(51145),u=e(30825);const m=(n,l,s)=>{const t=x(s);return{[`${n.componentCls}-${l}`]:{color:n[`color${s}`],background:n[`color${t}Bg`],borderColor:n[`color${t}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},L=n=>(0,y.Z)(n,(l,s)=>{let{textColor:t,lightBorderColor:r,lightColor:a,darkColor:_}=s;return{[`${n.componentCls}-${l}`]:{color:t,background:a,borderColor:r,"&-inverse":{color:n.colorTextLightSolid,background:_,borderColor:_},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Z=n=>{const{paddingXXS:l,lineWidth:s,tagPaddingHorizontal:t,componentCls:r}=n,a=t-s,_=l-s;return{[r]:Object.assign(Object.assign({},(0,Q.Wf)(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:a,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${r}-close-icon`]:{marginInlineStart:_,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:a}}),[`${r}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}};var I=(0,f.Z)("Tag",n=>{const{lineWidth:l,fontSizeIcon:s}=n,t=n.fontSizeSM,r=`${n.lineHeightSM*t}px`,a=(0,u.TS)(n,{tagFontSize:t,tagLineHeight:r,tagIconSize:s-2*l,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary});return[Z(a),L(a),m(a,"success","Success"),m(a,"processing","Info"),m(a,"error","Error"),m(a,"warning","Warning")]},n=>({defaultBg:n.colorFillQuaternary,defaultColor:n.colorText})),W=function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(s[t[r]]=n[t[r]]);return s},g=n=>{const{prefixCls:l,className:s,checked:t,onChange:r,onClick:a}=n,_=W(n,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:d}=v.useContext(z.E_),c=K=>{r==null||r(!t),a==null||a(K)},R=d("tag",l),[o,D]=I(R),k=N()(R,{[`${R}-checkable`]:!0,[`${R}-checkable-checked`]:t},s,D);return o(v.createElement("span",Object.assign({},_,{className:k,onClick:c})))},p=function(n,l){var s={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&l.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(s[t[r]]=n[t[r]]);return s};const i=(n,l)=>{const{prefixCls:s,className:t,rootClassName:r,style:a,children:_,icon:d,color:c,onClose:R,closeIcon:o,closable:D=!1,bordered:k=!0}=n,K=p(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:H,direction:A}=v.useContext(z.E_),[B,J]=v.useState(!0);v.useEffect(()=>{"visible"in K&&J(K.visible)},[K.visible]);const T=(0,X.o2)(c)||(0,X.yT)(c),oe=Object.assign({backgroundColor:c&&!T?c:void 0},a),q=H("tag",s),[se,ue]=I(q),te=N()(q,{[`${q}-${c}`]:T,[`${q}-has-color`]:c&&!T,[`${q}-hidden`]:!B,[`${q}-rtl`]:A==="rtl",[`${q}-borderless`]:!k},t,r,ue),ee=de=>{de.stopPropagation(),R==null||R(de),!de.defaultPrevented&&J(!1)},ie=v.useMemo(()=>D?o?v.createElement("span",{className:`${q}-close-icon`,onClick:ee},o):v.createElement(Y.Z,{className:`${q}-close-icon`,onClick:ee}):null,[D,o,q,ee]),F=typeof K.onClick=="function"||_&&_.type==="a",me=d||null,ve=me?v.createElement(v.Fragment,null,me,v.createElement("span",null,_)):_,O=v.createElement("span",Object.assign({},K,{ref:l,className:te,style:oe}),ve,ie);return se(F?v.createElement(S.Z,null,O):O)},j=v.forwardRef(i);j.CheckableTag=g;var P=j}}]);
