"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{85466:function(q,v,e){e.d(v,{Z:function(){return C}});var B=e(24456),o=e(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"},b=U,L=e(38782),c=function(y,h){return o.createElement(L.Z,(0,B.Z)({},y,{ref:h,icon:b}))},C=o.forwardRef(c)},45338:function(q,v,e){e.d(v,{Z:function(){return C}});var B=e(24456),o=e(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"},b=U,L=e(38782),c=function(y,h){return o.createElement(L.Z,(0,B.Z)({},y,{ref:h,icon:b}))},C=o.forwardRef(c)},9041:function(q,v,e){e.d(v,{Z:function(){return C}});var B=e(24456),o=e(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"},b=U,L=e(38782),c=function(y,h){return o.createElement(L.Z,(0,B.Z)({},y,{ref:h,icon:b}))},C=o.forwardRef(c)},96213:function(q,v,e){e.d(v,{Z:function(){return C}});var B=e(24456),o=e(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},b=U,L=e(38782),c=function(y,h){return o.createElement(L.Z,(0,B.Z)({},y,{ref:h,icon:b}))},C=o.forwardRef(c)},22366:function(q,v,e){e.d(v,{Z:function(){return C}});var B=e(24456),o=e(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},b=U,L=e(38782),c=function(y,h){return o.createElement(L.Z,(0,B.Z)({},y,{ref:h,icon:b}))},C=o.forwardRef(c)},7678:function(q,v,e){e.d(v,{Z:function(){return C}});var B=e(24456),o=e(50959),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 474H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zm-353.6-74.7c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H550V104c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v156h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.6zm11.4 225.4a7.14 7.14 0 00-11.3 0L405.6 752.3a7.23 7.23 0 005.7 11.7H474v156c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V764h62.8c6 0 9.4-7 5.7-11.7L517.7 624.7z"}}]},name:"vertical-align-middle",theme:"outlined"},b=U,L=e(38782),c=function(y,h){return o.createElement(L.Z,(0,B.Z)({},y,{ref:h,icon:b}))},C=o.forwardRef(c)},10853:function(q,v,e){e.r(v);var B=e(13448),o=e.n(B),U=e(74815),b=e.n(U),L=e(28152),c=e.n(L),C=e(98573),R=e(73502),y=e(22795),h=e(35877),z=e(50959),r=e(11527),T=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(H){setTimeout(function(){H(!0)},f)})},N=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}];v.default=function(){var V=(0,z.useState)([]),f=c()(V,2),H=f[0],Y=f[1],x=(0,z.useState)([]),I=c()(x,2),u=I[0],Q=I[1],F=(0,z.useState)("bottom"),E=c()(F,2),d=E[0],s=E[1],l=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(a,_){var P=_.rowIndex;return{rules:P>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(a,_,P){return P!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(a,_){var P=_.rowKey,p=_.rowIndex;return a.getFieldValue([P||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:p>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,_,P,p){return[(0,r.jsx)("a",{onClick:function(){var $;p==null||($=p.startEditable)===null||$===void 0||$.call(p,_.id)},children:"\u7F16\u8F91"},"editable"),(0,r.jsx)("a",{onClick:function(){Q(u.filter(function($){return $.id!==_.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:d!=="hidden"?{position:d,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,r.jsx)(R.Z.Group,{fieldProps:{value:d,onChange:function(_){return s(_.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:l,request:b()(o()().mark(function n(){return o()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",{data:N,total:3,success:!0});case 1:case"end":return _.stop()}},n)})),value:u,onChange:Q,editable:{type:"multiple",editableKeys:H,onSave:function(){var n=b()(o()().mark(function _(P,p,X){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(P,p,X),t.next=3,T(2e3);case 3:case"end":return t.stop()}},_)}));function a(_,P,p){return n.apply(this,arguments)}return a}(),onChange:Y}}),(0,r.jsx)(y.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,r.jsx)(h.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(u)})})]})}},70714:function(q,v,e){e.r(v);var B=e(13448),o=e.n(B),U=e(74815),b=e.n(U),L=e(28152),c=e.n(L),C=e(77117),R=e.n(C),y=e(4169),h=e(98573),z=e(22795),r=e(35877),T=e(50959),N=e(11527),V=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(I){setTimeout(function(){I(!0)},x)})},f=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3,children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],H=function Y(x,I){return x.map(function(u){if(u.id!==I){if(u.children){var Q=Y(u.children,I);return R()(R()({},u),{},{children:Q.length>0?Q:void 0})}return u}return null}).filter(Boolean)};v.default=function(){var Y=(0,T.useState)([]),x=c()(Y,2),I=x[0],u=x[1],Q=(0,T.useState)(function(){return f}),F=c()(Q,2),E=F[0],d=F[1],s=(0,y.J)(function(n){d(H(E,n.id))}),l=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(a,_){var P=_.rowIndex;return{rules:P>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(a,_){var P=_.rowKey,p=_.rowIndex;return a.getFieldValue([P||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:p>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,_){return[(0,N.jsx)("a",{onClick:function(){s(_)},children:"\u5220\u9664"},"delete")]}}];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:l,value:E,onChange:d,editable:{type:"multiple",editableKeys:I,onSave:function(){var n=b()(o()().mark(function _(P,p,X){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(P,p,X),t.next=3,V(2e3);case 3:case"end":return t.stop()}},_)}));function a(_,P,p){return n.apply(this,arguments)}return a}(),onChange:u}}),(0,N.jsx)(z.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,N.jsx)(r.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(E)})})]})}},38816:function(q,v,e){e.r(v);var B=e(13448),o=e.n(B),U=e(74815),b=e.n(U),L=e(77117),c=e.n(L),C=e(67855),R=e.n(C),y=e(28152),h=e.n(y),z=e(38861),r=e(98573),T=e(22795),N=e(35877),V=e(80233),f=e(11999),H=e(96920),Y=e(22071),x=e(5619),I=e(50959),u=e(11527),Q=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},l)})},F=function(l){var n=l.value,a=l.onChange,_=(0,I.useRef)(null),P=(0,I.useState)([]),p=h()(P,2),X=p[0],$=p[1],t=(0,I.useState)(""),m=h()(t,2),O=m[0],j=m[1],W=function(w){j(w.target.value)},i=function(){var w=R()(n||[]);O&&w.filter(function(ee){return ee.label===O}).length===0&&(w=[].concat(R()(w),[{key:"new-".concat(w.length),label:O}])),a==null||a(w),$([]),j("")};return(0,u.jsxs)(V.Z,{children:[(n||[]).concat(X).map(function(G){return(0,u.jsx)(f.Z,{children:G.label},G.key)}),(0,u.jsx)(H.Z,{ref:_,type:"text",size:"small",style:{width:78},value:O,onChange:W,onBlur:i,onPressEnter:i})]})},E=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:1590481162e3}],d=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(l,n){var a=n.isEditable;return a?(0,u.jsx)(F,{}):(0,u.jsx)(H.Z,{})},render:function(l,n){var a;return n==null||(a=n.labels)===null||a===void 0?void 0:a.map(function(_){return(0,u.jsx)(f.Z,{children:_.label},_.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(l,n,a,_){return[(0,u.jsx)("a",{onClick:function(){var p;_==null||(p=_.startEditable)===null||p===void 0||p.call(_,n.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)(r.Z.RecordCreator,{record:c()(c()({},n),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,u.jsx)("a",{children:"\u590D\u5236\u6B64\u9879\u5230\u672B\u5C3E"})},"copy")]}}];v.default=function(){var s=(0,I.useRef)(),l=(0,I.useState)([]),n=h()(l,2),a=n[0],_=n[1],P=(0,I.useState)([]),p=h()(P,2),X=p[0],$=p[1],t=Y.Z.useForm(),m=h()(t,1),O=m[0];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(V.Z,{children:[(0,u.jsx)(x.ZP,{type:"primary",onClick:function(){var W,i;(W=s.current)===null||W===void 0||(i=W.addEditRecord)===null||i===void 0||i.call(W,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,u.jsx)(z.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,u.jsx)(x.ZP,{onClick:function(){O.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,u.jsx)(r.Z,{rowKey:"id",scroll:{x:960},actionRef:s,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:d,request:b()(o()().mark(function j(){return o()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{data:E,total:3,success:!0});case 1:case"end":return i.stop()}},j)})),value:X,onChange:$,editable:{form:O,editableKeys:a,onSave:function(){var j=b()(o()().mark(function i(){return o()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,Q(2e3);case 2:case"end":return w.stop()}},i)}));function W(){return j.apply(this,arguments)}return W}(),onChange:_,actionRender:function(W,i,G){return[G.save,G.cancel]}}}),(0,u.jsx)(T.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(N.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(X)})})]})}},29583:function(q,v,e){e.r(v);var B=e(13448),o=e.n(B),U=e(74815),b=e.n(U),L=e(28152),c=e.n(L),C=e(58787),R=e(98573),y=e(42129),h=e(74880),z=e(22795),r=e(2425),T=e(35877),N=e(5619),V=e(50959),f=e(11527),H=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],Y=0;v.default=function(){var x=(0,V.useState)(function(){return[]}),I=c()(x,2),u=I[0],Q=I[1],F=(0,V.useState)("bottom"),E=c()(F,2),d=E[0],s=E[1],l=(0,V.useState)(!1),n=c()(l,2),a=n[0],_=n[1],P=(0,V.useRef)(),p=(0,V.useRef)(),X=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(t,m,O,j){return[(0,f.jsx)("a",{onClick:function(){var i;j==null||(i=j.startEditable)===null||i===void 0||i.call(j,m.id)},children:"\u7F16\u8F91"},"editable"),(0,f.jsx)("a",{onClick:function(){var i,G,w=(i=P.current)===null||i===void 0?void 0:i.getFieldValue("table");(G=P.current)===null||G===void 0||G.setFieldsValue({table:w.filter(function(ee){return ee.id!==m.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,f.jsxs)(C.A,{formRef:P,initialValues:{table:H},validateTrigger:"onBlur",children:[(0,f.jsx)(R.Z,{rowKey:"id",scroll:{x:960},editableFormRef:p,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",controlled:a,recordCreatorProps:d!=="hidden"?{position:d,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,f.jsx)(y.Z,{fieldProps:{style:{marginBlockEnd:0},checked:a,onChange:function(m){_(m)}},checkedChildren:"\u6570\u636E\u66F4\u65B0\u901A\u77E5 Form",unCheckedChildren:"\u4FDD\u5B58\u540E\u901A\u77E5 Form",noStyle:!0},"render"),(0,f.jsx)(h.Z,{fieldProps:{style:{marginBlockEnd:0},value:d,onChange:function(m){s(m)}},noStyle:!0,request:b()(o()().mark(function t(){return o()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]);case 1:case"end":return O.stop()}},t)}))},"render"),(0,f.jsx)(N.ZP,{onClick:function(){var m,O,j=(m=p.current)===null||m===void 0||(O=m.getRowsData)===null||O===void 0?void 0:O.call(m);console.log(j)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:X,editable:{type:"multiple",editableKeys:u,onChange:Q,actionRender:function(t,m,O){return[O.save,O.delete||O.cancel,(0,f.jsx)("a",{onClick:function(){var W,i;console.log(m.index),Y++,(W=p.current)===null||W===void 0||(i=W.setRowData)===null||i===void 0||i.call(W,m.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+Y})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u9879"},"set")]}}}),(0,f.jsx)(C.A.Item,{children:(0,f.jsx)(z.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,f.jsx)(r.Z,{name:["table"],children:function(t){var m=t.table;return(0,f.jsx)(T.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(m)})}})})})]})}},73356:function(q,v,e){e.r(v);var B=e(13448),o=e.n(B),U=e(74815),b=e.n(U),L=e(28152),c=e.n(L),C=e(22795),R=e(58787),y=e(2425),h=e(91403),z=e(98573),r=e(50959),T=e(11527),N=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];v.default=function(){var V=(0,r.useState)(function(){return[]}),f=c()(V,2),H=f[0],Y=f[1],x=(0,r.useRef)(),I=(0,r.useRef)(),u=(0,r.useRef)(),Q=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var F=b()(o()().mark(function d(){return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return l.stop()}},d)}));function E(){return F.apply(this,arguments)}return E}(),fieldProps:function(E,d){var s=d.rowIndex;return{onSelect:function(){var n,a;(n=u.current)===null||n===void 0||(a=n.setRowData)===null||a===void 0||a.call(n,s,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(E){var d=E==null?void 0:E.scoringMethod;return d==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var F=b()(o()().mark(function d(){return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",["A","B","D","E","F"].map(function(n,a){return{label:n,value:a}}));case 1:case"end":return l.stop()}},d)}));function E(){return F.apply(this,arguments)}return E}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(E,d){return[(0,T.jsx)("a",{onClick:function(){var l,n,a=(l=x.current)===null||l===void 0?void 0:l.getFieldValue("table");(n=x.current)===null||n===void 0||n.setFieldsValue({table:a.filter(function(_){return _.id!==(d==null?void 0:d.id)})})},children:"\u79FB\u9664"},"delete"),(0,T.jsx)("a",{onClick:function(){var l;(l=I.current)===null||l===void 0||l.startEditable(d.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,T.jsx)(C.Z,{children:(0,T.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,T.jsxs)(R.A,{formRef:x,initialValues:{table:N},children:[(0,T.jsx)(y.Z,{name:["table"],children:function(E){var d=E.table,s=d.reduce(function(l,n){return{totalScore:l.totalScore+parseInt(((n==null?void 0:n.fraction)||0).toString(),10),questions:l.questions+parseInt(((n==null?void 0:n.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,T.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",s.totalScore]}),(0,T.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",s.questions]}),(0,T.jsx)("div",{style:{flex:2},children:(0,T.jsx)(h.Z,{label:"\u53CA\u683C\u5206"})}),(0,T.jsx)("div",{style:{flex:2},children:(0,T.jsx)(h.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,T.jsx)(z.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:u,controlled:!0,actionRef:I,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var F=b()(o()().mark(function d(s,l){return o()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(l.length<1)){a.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(l.length>5)){a.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return a.stop()}},d)}));function E(d,s){return F.apply(this,arguments)}return E}()}]},maxLength:10,name:"table",columns:Q,recordCreatorProps:{record:function(E){return{id:E+1}}},editable:{type:"multiple",editableKeys:H,onChange:Y}})]})})})}},78794:function(q,v,e){e.r(v);var B=e(28152),o=e.n(B),U=e(98573),b=e(22795),L=e(35877),c=e(5619),C=e(50959),R=e(11527),y=new Array(20).fill(1).map(function(h,z){return{id:(Date.now()+z).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(z),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3}});v.default=function(){var h=(0,C.useState)(function(){return y.map(function(x){return x.id})}),z=o()(h,2),r=z[0],T=z[1],N=(0,C.useState)(function(){return y}),V=o()(N,2),f=V[0],H=V[1],Y=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(U.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:Y,rowKey:"id",scroll:{x:960},value:f,onChange:H,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,R.jsx)(c.ZP,{type:"primary",onClick:function(){console.log(f)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:r,actionRender:function(I,u,Q){return[Q.delete]},onValuesChange:function(I,u){H(u)},onChange:T}}),(0,R.jsx)(b.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,R.jsx)(L.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(f)})})]})}},98573:function(q,v,e){var B=e(21320),o=e.n(B),U=e(28152),b=e.n(U),L=e(95530),c=e.n(L),C=e(13448),R=e.n(C),y=e(74815),h=e.n(y),z=e(77117),r=e.n(z),T=e(38861),N=e(2425),V=e(27346),f=e(75579),H=e(4169),Y=e(95353),x=e(57247),I=e(87125),u=e(5619),Q=e(22071),F=e(96096),E=e(62034),d=e(9288),s=e(50959),l=e(93910),n=e(11527),a=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],_=["record","position","creatorButtonText","newRecordType","parentKey","style"],P=s.createContext(void 0);function p(t){var m=t.children,O=t.record,j=t.position,W=t.newRecordType,i=t.parentKey,G=(0,s.useContext)(P);return s.cloneElement(m,r()(r()({},m.props),{},{onClick:function(){var w=h()(R()().mark(function de(ce){var se,ie,ne,re;return R()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(se=(ie=m.props).onClick)===null||se===void 0?void 0:se.call(ie,ce);case 2:if(re=J.sent,re!==!1){J.next=5;break}return J.abrupt("return");case 5:G==null||(ne=G.current)===null||ne===void 0||ne.addEditRecord(O,{position:j,newRecordType:W,parentKey:i});case 6:case"end":return J.stop()}},de)}));function ee(de){return w.apply(this,arguments)}return ee}()}))}function X(t){var m,O,j=(0,f.YB)(),W=t.onTableChange,i=t.maxLength,G=t.formItemProps,w=t.recordCreatorProps,ee=t.rowKey,de=t.controlled,ce=t.defaultValue,se=t.onChange,ie=t.editableFormRef,ne=c()(t,a),re=(0,s.useRef)(void 0),oe=(0,s.useRef)(),J=(0,s.useRef)();(0,s.useImperativeHandle)(ne.actionRef,function(){return oe.current},[oe.current]);var pe=(0,F.Z)(function(){return t.value||ce||[]},{value:t.value,onChange:t.onChange}),fe=b()(pe,2),K=fe[0],ge=fe[1],ae=s.useMemo(function(){return typeof ee=="function"?ee:function(g,Z){return g[ee]||Z}},[ee]),me=(0,H.J)(function(g){if(typeof g=="number"&&!t.name){if(g>=K.length)return g;var Z=K&&K[g];return ae==null?void 0:ae(Z,g)}if((typeof g=="string"||g>=K.length)&&t.name){var D=K.findIndex(function(M,A){var S;return(ae==null||(S=ae(M,A))===null||S===void 0?void 0:S.toString())===(g==null?void 0:g.toString())});if(D!==-1)return D}return g});(0,s.useImperativeHandle)(ie,function(){var g=function(M){var A,S;if(M==null)throw new Error("rowIndex is required");var k=me(M),te=[t.name,(A=k==null?void 0:k.toString())!==null&&A!==void 0?A:""].flat(1).filter(Boolean);return(S=J.current)===null||S===void 0?void 0:S.getFieldValue(te)},Z=function(){var M,A=[t.name].flat(1).filter(Boolean);if(Array.isArray(A)&&A.length===0){var S,k=(S=J.current)===null||S===void 0?void 0:S.getFieldsValue();return Array.isArray(k)?k:Object.keys(k).map(function(te){return k[te]})}return(M=J.current)===null||M===void 0?void 0:M.getFieldValue(A)};return r()(r()({},J.current),{},{getRowData:g,getRowsData:Z,setRowData:function(M,A){var S,k;if(M==null)throw new Error("rowIndex is required");var te=me(M),ue=[t.name,(S=te==null?void 0:te.toString())!==null&&S!==void 0?S:""].flat(1).filter(Boolean),xe=Object.assign({},r()(r()({},g(M)),A||{})),Ie=(0,d.ZP)({},ue,xe);return(k=J.current)===null||k===void 0||k.setFieldsValue(Ie),!0}})},[me,t.name,J.current]),(0,s.useEffect)(function(){t.controlled&&(K||[]).forEach(function(g,Z){var D;(D=J.current)===null||D===void 0||D.setFieldsValue(o()({},"".concat(ae(g,Z)),g))},{})},[(0,Y.ZP)(K),t.controlled]),(0,s.useEffect)(function(){if(t.name){var g;J.current=t==null||(g=t.editable)===null||g===void 0?void 0:g.form}},[(m=t.editable)===null||m===void 0?void 0:m.form,t.name]);var _e=w||{},De=_e.record,ve=_e.position,be=_e.creatorButtonText,Pe=_e.newRecordType,Oe=_e.parentKey,Me=_e.style,Ce=c()(_e,_),Ee=ve==="top",le=(0,s.useMemo)(function(){return typeof i=="number"&&i<=(K==null?void 0:K.length)?!1:w!==!1&&(0,n.jsx)(p,{record:(0,x.h)(De,K==null?void 0:K.length,K)||{},position:ve,parentKey:(0,x.h)(Oe,K==null?void 0:K.length,K),newRecordType:Pe,children:(0,n.jsx)(u.ZP,r()(r()({type:"dashed",style:r()({display:"block",margin:"10px 0",width:"100%"},Me),icon:(0,n.jsx)(T.Z,{})},Ce),{},{children:be||j.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[w==!1,i,K==null?void 0:K.length]),Re=(0,s.useMemo)(function(){return le?Ee?{components:{header:{wrapper:function(Z){var D,M=Z.className,A=Z.children;return(0,n.jsxs)("thead",{className:M,children:[A,(0,n.jsxs)("tr",{style:{position:"relative"},children:[(0,n.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:le}),(0,n.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(D=ne.columns)===null||D===void 0?void 0:D.length,children:le})]})]})}}}}:{tableViewRender:function(Z,D){var M,A;return(0,n.jsxs)(n.Fragment,{children:[(M=(A=t.tableViewRender)===null||A===void 0?void 0:A.call(t,Z,D))!==null&&M!==void 0?M:D,le]})}}:{}},[Ee,le]),he=r()({},t.editable),Te=(0,H.J)(function(g,Z){var D,M,A;if((D=t.editable)===null||D===void 0||(M=D.onValuesChange)===null||M===void 0||M.call(D,g,Z),(A=t.onValuesChange)===null||A===void 0||A.call(t,Z,g),t.controlled){var S;t==null||(S=t.onChange)===null||S===void 0||S.call(t,Z)}});return(t!=null&&t.onValuesChange||(O=t.editable)!==null&&O!==void 0&&O.onValuesChange||t.controlled&&t!==null&&t!==void 0&&t.onChange)&&(he.onValuesChange=Te),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.Provider,{value:oe,children:(0,n.jsx)(l.Z,r()(r()(r()({search:!1,options:!1,pagination:!1,rowKey:ee,revalidateOnFocus:!1},ne),Re),{},{tableLayout:"fixed",actionRef:oe,onChange:W,editable:r()(r()({},he),{},{formProps:r()({formRef:J},he.formProps)}),dataSource:K,onDataSourceChange:function(Z){if(ge(Z),t.name&&ve==="top"){var D,M=(0,d.ZP)({},[t.name].flat(1).filter(Boolean),Z);(D=J.current)===null||D===void 0||D.setFieldsValue(M)}}}))}),t.name?(0,n.jsx)(N.Z,{name:[t.name],children:function(Z){var D,M;if(!re.current)return re.current=K,null;var A=(0,E.default)(Z,[t.name].flat(1)),S=A==null?void 0:A.find(function(k,te){var ue;return!(0,I.A)(k,(ue=re.current)===null||ue===void 0?void 0:ue[te])});return re.current=K,S&&(t==null||(D=t.editable)===null||D===void 0||(M=D.onValuesChange)===null||M===void 0||M.call(D,S,A)),null}}):null]})}function $(t){var m=V.ZP.useFormInstance();return t.name?(0,n.jsx)(Q.Z.Item,r()(r()({style:{maxWidth:"100%"}},t==null?void 0:t.formItemProps),{},{name:t.name,shouldUpdate:function(j,W){var i=[t.name].flat(1);try{return JSON.stringify((0,E.default)(j,i))!==JSON.stringify((0,E.default)(W,i))}catch(G){return!0}},children:(0,n.jsx)(X,r()(r()({},t),{},{editable:r()(r()({},t.editable),{},{form:m})}))})):(0,n.jsx)(X,r()({},t))}$.RecordCreator=p,v.Z=$}}]);
