"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{48419:function(oe,L,e){e.r(L);var Q=e(25359),b=e.n(Q),X=e(49811),w=e.n(X),k=e(54306),B=e.n(k),J=e(65555),I=e(64535),z=e(60763),W=e(91154),S=e(50959),_=e(11527),P=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(Z){setTimeout(function(){Z(!0)},c)})},F=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}];L.default=function(){var K=(0,S.useState)([]),c=B()(K,2),Z=c[0],N=c[1],g=(0,S.useState)([]),M=B()(g,2),u=M[0],G=M[1],x=(0,S.useState)("bottom"),m=B()(x,2),i=m[0],l=m[1],a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(r,o){var E=o.rowIndex;return{rules:E>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(r,o,E){return E!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(r,o){var E=o.rowKey,v=o.rowIndex;return r.getFieldValue([E||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:v>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(r,o,E,v){return[(0,_.jsx)("a",{onClick:function(){var j;v==null||(j=v.startEditable)===null||j===void 0||j.call(v,o.id)},children:"\u7F16\u8F91"},"editable"),(0,_.jsx)("a",{onClick:function(){G(u.filter(function(j){return j.id!==o.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(J.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:i!=="hidden"?{position:i,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,_.jsx)(I.Z.Group,{fieldProps:{value:i,onChange:function(o){return l(o.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:a,request:w()(b()().mark(function n(){return b()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:F,total:3,success:!0});case 1:case"end":return o.stop()}},n)})),value:u,onChange:G,editable:{type:"multiple",editableKeys:Z,onSave:function(){var n=w()(b()().mark(function o(E,v,H){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(E,v,H),t.next=3,P(2e3);case 3:case"end":return t.stop()}},o)}));function r(o,E,v){return n.apply(this,arguments)}return r}(),onChange:N}}),(0,_.jsx)(z.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,_.jsx)(W.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(u)})})]})}},8325:function(oe,L,e){e.r(L);var Q=e(25359),b=e.n(Q),X=e(49811),w=e.n(X),k=e(54306),B=e.n(k),J=e(57213),I=e.n(J),z=e(4911),W=e(65555),S=e(60763),_=e(91154),P=e(50959),F=e(11527),K=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(M){setTimeout(function(){M(!0)},g)})},c=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3,children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],Z=function N(g,M){return g.map(function(u){if(u.id!==M){if(u.children){var G=N(u.children,M);return I()(I()({},u),{},{children:G.length>0?G:void 0})}return u}return null}).filter(Boolean)};L.default=function(){var N=(0,P.useState)([]),g=B()(N,2),M=g[0],u=g[1],G=(0,P.useState)(function(){return c}),x=B()(G,2),m=x[0],i=x[1],l=(0,z.J)(function(n){i(Z(m,n.id))}),a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(r,o){var E=o.rowIndex;return{rules:E>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(r,o){var E=o.rowKey,v=o.rowIndex;return r.getFieldValue([E||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:v>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(r,o){return[(0,F.jsx)("a",{onClick:function(){l(o)},children:"\u5220\u9664"},"delete")]}}];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(W.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:a,value:m,onChange:i,editable:{type:"multiple",editableKeys:M,onSave:function(){var n=w()(b()().mark(function o(E,v,H){return b()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(E,v,H),t.next=3,K(2e3);case 3:case"end":return t.stop()}},o)}));function r(o,E,v){return n.apply(this,arguments)}return r}(),onChange:u}}),(0,F.jsx)(S.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,F.jsx)(_.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(m)})})]})}},58595:function(oe,L,e){e.r(L);var Q=e(25359),b=e.n(Q),X=e(49811),w=e.n(X),k=e(57213),B=e.n(k),J=e(93525),I=e.n(J),z=e(54306),W=e.n(z),S=e(73863),_=e(65555),P=e(60763),F=e(91154),K=e(70270),c=e(30422),Z=e(63573),N=e(44764),g=e(68848),M=e(50959),u=e(11527),G=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},a)})},x=function(a){var n=a.value,r=a.onChange,o=(0,M.useRef)(null),E=(0,M.useState)([]),v=W()(E,2),H=v[0],j=v[1],t=(0,M.useState)(""),d=W()(t,2),p=d[0],R=d[1],T=function(A){R(A.target.value)},s=function(){var A=I()(n||[]);p&&A.filter(function(q){return q.label===p}).length===0&&(A=[].concat(I()(A),[{key:"new-".concat(A.length),label:p}])),r==null||r(A),j([]),R("")};return(0,u.jsxs)(K.Z,{children:[(n||[]).concat(H).map(function($){return(0,u.jsx)(c.Z,{children:$.label},$.key)}),(0,u.jsx)(Z.Z,{ref:o,type:"text",size:"small",style:{width:78},value:p,onChange:T,onBlur:s,onPressEnter:s})]})},m=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:1590481162e3}],i=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(a,n){var r=n.isEditable;return r?(0,u.jsx)(x,{}):(0,u.jsx)(Z.Z,{})},render:function(a,n){var r;return n==null||(r=n.labels)===null||r===void 0?void 0:r.map(function(o){return(0,u.jsx)(c.Z,{children:o.label},o.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(a,n,r,o){return[(0,u.jsx)("a",{onClick:function(){var v;o==null||(v=o.startEditable)===null||v===void 0||v.call(o,n.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)(_.Z.RecordCreator,{record:B()(B()({},n),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,u.jsx)("a",{children:"\u590D\u5236\u6B64\u9879\u5230\u672B\u5C3E"})},"copy")]}}];L.default=function(){var l=(0,M.useRef)(),a=(0,M.useState)([]),n=W()(a,2),r=n[0],o=n[1],E=(0,M.useState)([]),v=W()(E,2),H=v[0],j=v[1],t=N.Z.useForm(),d=W()(t,1),p=d[0];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(K.Z,{children:[(0,u.jsx)(g.ZP,{type:"primary",onClick:function(){var T,s;(T=l.current)===null||T===void 0||(s=T.addEditRecord)===null||s===void 0||s.call(T,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,u.jsx)(S.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,u.jsx)(g.ZP,{onClick:function(){p.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,u.jsx)(_.Z,{rowKey:"id",scroll:{x:960},actionRef:l,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:i,request:w()(b()().mark(function R(){return b()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",{data:m,total:3,success:!0});case 1:case"end":return s.stop()}},R)})),value:H,onChange:j,editable:{form:p,editableKeys:r,onSave:function(){var R=w()(b()().mark(function s(){return b()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,G(2e3);case 2:case"end":return A.stop()}},s)}));function T(){return R.apply(this,arguments)}return T}(),onChange:o,actionRender:function(T,s,$){return[$.save,$.cancel]}}}),(0,u.jsx)(P.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(F.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(H)})})]})}},10480:function(oe,L,e){e.r(L);var Q=e(25359),b=e.n(Q),X=e(49811),w=e.n(X),k=e(54306),B=e.n(k),J=e(54587),I=e(65555),z=e(68742),W=e(37880),S=e(60763),_=e(81760),P=e(91154),F=e(68848),K=e(50959),c=e(11527),Z=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],N=0;L.default=function(){var g=(0,K.useState)(function(){return[]}),M=B()(g,2),u=M[0],G=M[1],x=(0,K.useState)("bottom"),m=B()(x,2),i=m[0],l=m[1],a=(0,K.useState)(!1),n=B()(a,2),r=n[0],o=n[1],E=(0,K.useRef)(),v=(0,K.useRef)(),H=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(t,d,p,R){return[(0,c.jsx)("a",{onClick:function(){var s;R==null||(s=R.startEditable)===null||s===void 0||s.call(R,d.id)},children:"\u7F16\u8F91"},"editable"),(0,c.jsx)("a",{onClick:function(){var s,$,A=(s=E.current)===null||s===void 0?void 0:s.getFieldValue("table");($=E.current)===null||$===void 0||$.setFieldsValue({table:A.filter(function(q){return q.id!==d.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,c.jsxs)(J.A,{formRef:E,initialValues:{table:Z},validateTrigger:"onBlur",children:[(0,c.jsx)(I.Z,{rowKey:"id",scroll:{x:960},editableFormRef:v,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",controlled:r,recordCreatorProps:i!=="hidden"?{position:i,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,c.jsx)(z.Z,{fieldProps:{style:{marginBlockEnd:0},checked:r,onChange:function(d){o(d)}},checkedChildren:"\u6570\u636E\u66F4\u65B0\u901A\u77E5 Form",unCheckedChildren:"\u4FDD\u5B58\u540E\u901A\u77E5 Form",noStyle:!0},"render"),(0,c.jsx)(W.Z,{fieldProps:{style:{marginBlockEnd:0},value:i,onChange:function(d){l(d)}},noStyle:!0,request:w()(b()().mark(function t(){return b()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]);case 1:case"end":return p.stop()}},t)}))},"render"),(0,c.jsx)(F.ZP,{onClick:function(){var d,p,R=(d=v.current)===null||d===void 0||(p=d.getRowsData)===null||p===void 0?void 0:p.call(d);console.log(R)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:H,editable:{type:"multiple",editableKeys:u,onChange:G,actionRender:function(t,d,p){return[p.save,p.delete||p.cancel,(0,c.jsx)("a",{onClick:function(){var T,s;console.log(d.index),N++,(T=v.current)===null||T===void 0||(s=T.setRowData)===null||s===void 0||s.call(T,d.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+N})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u9879"},"set")]}}}),(0,c.jsx)(J.A.Item,{children:(0,c.jsx)(S.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,c.jsx)(_.Z,{name:["table"],children:function(t){var d=t.table;return(0,c.jsx)(P.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(d)})}})})})]})}},79267:function(oe,L,e){e.r(L);var Q=e(25359),b=e.n(Q),X=e(49811),w=e.n(X),k=e(54306),B=e.n(k),J=e(60763),I=e(54587),z=e(81760),W=e(5504),S=e(65555),_=e(50959),P=e(11527),F=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];L.default=function(){var K=(0,_.useState)(function(){return[]}),c=B()(K,2),Z=c[0],N=c[1],g=(0,_.useRef)(),M=(0,_.useRef)(),u=(0,_.useRef)(),G=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var x=w()(b()().mark(function i(){return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return a.stop()}},i)}));function m(){return x.apply(this,arguments)}return m}(),fieldProps:function(m,i){var l=i.rowIndex;return{onSelect:function(){var n,r;(n=u.current)===null||n===void 0||(r=n.setRowData)===null||r===void 0||r.call(n,l,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(m){var i=m==null?void 0:m.scoringMethod;return i==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var x=w()(b()().mark(function i(){return b()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",["A","B","D","E","F"].map(function(n,r){return{label:n,value:r}}));case 1:case"end":return a.stop()}},i)}));function m(){return x.apply(this,arguments)}return m}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(m,i){return[(0,P.jsx)("a",{onClick:function(){var a,n,r=(a=g.current)===null||a===void 0?void 0:a.getFieldValue("table");(n=g.current)===null||n===void 0||n.setFieldsValue({table:r.filter(function(o){return o.id!==(i==null?void 0:i.id)})})},children:"\u79FB\u9664"},"delete"),(0,P.jsx)("a",{onClick:function(){var a;(a=M.current)===null||a===void 0||a.startEditable(i.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,P.jsx)(J.Z,{children:(0,P.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,P.jsxs)(I.A,{formRef:g,initialValues:{table:F},children:[(0,P.jsx)(z.Z,{name:["table"],children:function(m){var i=m.table,l=i.reduce(function(a,n){return{totalScore:a.totalScore+parseInt(((n==null?void 0:n.fraction)||0).toString(),10),questions:a.questions+parseInt(((n==null?void 0:n.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,P.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",l.totalScore]}),(0,P.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",l.questions]}),(0,P.jsx)("div",{style:{flex:2},children:(0,P.jsx)(W.Z,{label:"\u53CA\u683C\u5206"})}),(0,P.jsx)("div",{style:{flex:2},children:(0,P.jsx)(W.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,P.jsx)(S.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:u,controlled:!0,actionRef:M,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var x=w()(b()().mark(function i(l,a){return b()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(a.length<1)){r.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(a.length>5)){r.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return r.stop()}},i)}));function m(i,l){return x.apply(this,arguments)}return m}()}]},maxLength:10,name:"table",columns:G,recordCreatorProps:{record:function(m){return{id:m+1}}},editable:{type:"multiple",editableKeys:Z,onChange:N}})]})})})}},90297:function(oe,L,e){e.r(L);var Q=e(54306),b=e.n(Q),X=e(65555),w=e(60763),k=e(91154),B=e(68848),J=e(50959),I=e(11527),z=new Array(20).fill(1).map(function(W,S){return{id:(Date.now()+S).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(S),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3}});L.default=function(){var W=(0,J.useState)(function(){return z.map(function(g){return g.id})}),S=b()(W,2),_=S[0],P=S[1],F=(0,J.useState)(function(){return z}),K=b()(F,2),c=K[0],Z=K[1],N=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(X.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:N,rowKey:"id",scroll:{x:960},value:c,onChange:Z,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,I.jsx)(B.ZP,{type:"primary",onClick:function(){console.log(c)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:_,actionRender:function(M,u,G){return[G.delete]},onValuesChange:function(M,u){Z(u)},onChange:P}}),(0,I.jsx)(w.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,I.jsx)(k.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(c)})})]})}},65555:function(oe,L,e){var Q=e(52510),b=e.n(Q),X=e(54306),w=e.n(X),k=e(12342),B=e.n(k),J=e(25359),I=e.n(J),z=e(49811),W=e.n(z),S=e(57213),_=e.n(S),P=e(73863),F=e(81760),K=e(22558),c=e(70661),Z=e(4911),N=e(89075),g=e(49429),M=e(20927),u=e(68848),G=e(44764),x=e(82526),m=e(42463),i=e(521),l=e(50959),a=e(26646),n=e(11527),r=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],o=["record","position","creatorButtonText","newRecordType","parentKey","style"],E=l.createContext(void 0);function v(t){var d=t.children,p=t.record,R=t.position,T=t.newRecordType,s=t.parentKey,$=(0,l.useContext)(E);return l.cloneElement(d,_()(_()({},d.props),{},{onClick:function(){var A=W()(I()().mark(function de(ce){var se,ie,te,ne;return I()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(se=(ie=d.props).onClick)===null||se===void 0?void 0:se.call(ie,ce);case 2:if(ne=V.sent,ne!==!1){V.next=5;break}return V.abrupt("return");case 5:$==null||(te=$.current)===null||te===void 0||te.addEditRecord(p,{position:R,newRecordType:T,parentKey:s});case 6:case"end":return V.stop()}},de)}));function q(de){return A.apply(this,arguments)}return q}()}))}function H(t){var d,p,R=(0,c.YB)(),T=t.onTableChange,s=t.maxLength,$=t.formItemProps,A=t.recordCreatorProps,q=t.rowKey,de=t.controlled,ce=t.defaultValue,se=t.onChange,ie=t.editableFormRef,te=B()(t,r),ne=(0,l.useRef)(void 0),ae=(0,l.useRef)(),V=(0,l.useRef)();(0,l.useImperativeHandle)(te.actionRef,function(){return ae.current},[ae.current]);var pe=(0,x.default)(function(){return t.value||ce||[]},{value:t.value,onChange:t.onChange}),fe=w()(pe,2),C=fe[0],De=fe[1],_e=l.useMemo(function(){return typeof q=="function"?q:function(h,U){return h[q]||U}},[q]),me=(0,Z.J)(function(h){if(typeof h=="number"&&!t.name){if(h>=C.length)return h;var U=C&&C[h];return _e==null?void 0:_e(U,h)}if((typeof h=="string"||h>=C.length)&&t.name){var f=C.findIndex(function(D,O){var y;return(_e==null||(y=_e(D,O))===null||y===void 0?void 0:y.toString())===(h==null?void 0:h.toString())});if(f!==-1)return f}return h});(0,l.useImperativeHandle)(ie,function(){var h=function(D){var O,y;if(D==null)throw new Error("rowIndex is required");var Y=me(D),ee=[t.name,(O=Y==null?void 0:Y.toString())!==null&&O!==void 0?O:""].flat(1).filter(Boolean);return(y=V.current)===null||y===void 0?void 0:y.getFieldValue(ee)},U=function(){var D,O=[t.name].flat(1).filter(Boolean);if(Array.isArray(O)&&O.length===0){var y,Y=(y=V.current)===null||y===void 0?void 0:y.getFieldsValue();return Array.isArray(Y)?Y:Object.keys(Y).map(function(ee){return Y[ee]})}return(D=V.current)===null||D===void 0?void 0:D.getFieldValue(O)};return _()(_()({},V.current),{},{getRowData:h,getRowsData:U,setRowData:function(D,O){var y,Y;if(D==null)throw new Error("rowIndex is required");var ee=me(D),le=[t.name,(y=ee==null?void 0:ee.toString())!==null&&y!==void 0?y:""].flat(1).filter(Boolean),ye=Object.assign({},_()(_()({},h(D)),O||{})),Ie=(0,i.default)({},le,ye);return(Y=V.current)===null||Y===void 0||Y.setFieldsValue(Ie),!0}})},[me,t.name,V.current]),(0,l.useEffect)(function(){t.controlled&&C.forEach(function(h,U){var f;(f=V.current)===null||f===void 0||f.setFieldsValue(b()({},"".concat(_e(h,U)),h))},{})},[(0,N.ZP)(C),t.controlled]),(0,l.useEffect)(function(){if(t.name){var h;V.current=t==null||(h=t.editable)===null||h===void 0?void 0:h.form}},[(d=t.editable)===null||d===void 0?void 0:d.form,t.name]);var re=A||{},be=re.record,ve=re.position,Pe=re.creatorButtonText,ge=re.newRecordType,Me=re.parentKey,Oe=re.style,Ce=B()(re,o),Ee=ve==="top",ue=(0,l.useMemo)(function(){return typeof s=="number"&&s<=(C==null?void 0:C.length)?!1:A!==!1&&(0,n.jsx)(v,{record:(0,g.h)(be,C==null?void 0:C.length,C)||{},position:ve,parentKey:(0,g.h)(Me,C==null?void 0:C.length,C),newRecordType:ge,children:(0,n.jsx)(u.ZP,_()(_()({type:"dashed",style:_()({display:"block",margin:"10px 0",width:"100%"},Oe),icon:(0,n.jsx)(P.Z,{})},Ce),{},{children:Pe||R.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[A,s,C==null?void 0:C.length]),Re=(0,l.useMemo)(function(){return ue?Ee?{components:{header:{wrapper:function(U){var f,D=U.className,O=U.children;return(0,n.jsxs)("thead",{className:D,children:[O,(0,n.jsxs)("tr",{style:{position:"relative"},children:[(0,n.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ue}),(0,n.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(f=te.columns)===null||f===void 0?void 0:f.length,children:ue})]})]})}}}}:{tableViewRender:function(U,f){var D,O;return(0,n.jsxs)(n.Fragment,{children:[(D=(O=t.tableViewRender)===null||O===void 0?void 0:O.call(t,U,f))!==null&&D!==void 0?D:f,ue]})}}:{}},[Ee,ue]),he=_()({},t.editable),Te=(0,Z.J)(function(h,U){var f,D,O;if((f=t.editable)===null||f===void 0||(D=f.onValuesChange)===null||D===void 0||D.call(f,h,U),(O=t.onValuesChange)===null||O===void 0||O.call(t,U,h),t.controlled){var y;t==null||(y=t.onChange)===null||y===void 0||y.call(t,U)}});return(t!=null&&t.onValuesChange||(p=t.editable)!==null&&p!==void 0&&p.onValuesChange||t.controlled&&t!==null&&t!==void 0&&t.onChange)&&(he.onValuesChange=Te),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.Provider,{value:ae,children:(0,n.jsx)(a.Z,_()(_()(_()({search:!1,options:!1,pagination:!1,rowKey:q,revalidateOnFocus:!1},te),Re),{},{tableLayout:"fixed",actionRef:ae,onChange:T,editable:_()(_()({},he),{},{formProps:_()({formRef:V},he.formProps)}),dataSource:C,onDataSourceChange:function(U){if(De(U),t.name&&ve==="top"){var f,D=(0,i.default)({},[t.name].flat(1).filter(Boolean),U);(f=V.current)===null||f===void 0||f.setFieldsValue(D)}}}))}),t.name?(0,n.jsx)(F.Z,{name:[t.name],children:function(U){var f,D;if(!ne.current)return ne.current=C,null;var O=(0,m.default)(U,[t.name].flat(1)),y=O==null?void 0:O.find(function(Y,ee){var le;return!(0,M.A)(Y,(le=ne.current)===null||le===void 0?void 0:le[ee])});return ne.current=C,y&&(t==null||(f=t.editable)===null||f===void 0||(D=f.onValuesChange)===null||D===void 0||D.call(f,y,O)),null}}):null]})}function j(t){var d=K.ZP.useFormInstance();return t.name?(0,n.jsx)(G.Z.Item,_()(_()({style:{maxWidth:"100%"}},t==null?void 0:t.formItemProps),{},{name:t.name,shouldUpdate:function(R,T){var s=[t.name].flat(1);try{return JSON.stringify((0,m.default)(R,s))!==JSON.stringify((0,m.default)(T,s))}catch($){return!0}},children:(0,n.jsx)(H,_()(_()({},t),{},{editable:_()(_()({},t.editable),{},{form:d})}))})):(0,n.jsx)(H,_()({},t))}j.RecordCreator=v,L.Z=j}}]);
