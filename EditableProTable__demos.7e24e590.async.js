"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{57964:function(oe,K,e){e.r(K);var k=e(25359),E=e.n(k),z=e(49811),v=e.n(z),Q=e(54306),A=e.n(Q),G=e(50916),T=e(66254),Y=e(7166),y=e(34103),h=e(50959),u=e(11527),m=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(L){setTimeout(function(){L(!0)},x)})},S=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}];K.default=function(){var $=(0,h.useState)([]),x=A()($,2),L=x[0],H=x[1],g=(0,h.useState)([]),p=A()(g,2),i=p[0],I=p[1],C=(0,h.useState)("bottom"),n=A()(C,2),l=n[0],s=n[1],r=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(a,_){var d=_.rowIndex;return{rules:d>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(a,_,d){return d!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(a,_){var d=_.rowKey,c=_.rowIndex;return a.getFieldValue([d||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,_,d,c){return[(0,u.jsx)("a",{onClick:function(){var j;c==null||(j=c.startEditable)===null||j===void 0||j.call(c,_.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)("a",{onClick:function(){I(i.filter(function(j){return j.id!==_.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:l!=="hidden"?{position:l,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,u.jsx)(T.Z.Group,{fieldProps:{value:l,onChange:function(_){return s(_.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:r,request:v()(E()().mark(function t(){return E()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",{data:S,total:3,success:!0});case 1:case"end":return _.stop()}},t)})),value:i,onChange:I,editable:{type:"multiple",editableKeys:L,onSave:function(){var t=v()(E()().mark(function _(d,c,R){return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(d,c,R),o.next=3,m(2e3);case 3:case"end":return o.stop()}},_)}));function a(_,d,c){return t.apply(this,arguments)}return a}(),onChange:H}}),(0,u.jsx)(Y.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(y.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(i)})})]})}},96464:function(oe,K,e){e.r(K);var k=e(25359),E=e.n(k),z=e(49811),v=e.n(z),Q=e(54306),A=e.n(Q),G=e(57213),T=e.n(G),Y=e(21885),y=e(50916),h=e(7166),u=e(34103),m=e(50959),S=e(11527),$=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(p){setTimeout(function(){p(!0)},g)})},x=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000",children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],L=function H(g,p){return g.map(function(i){if(i.id!==p){if(i.children){var I=H(i.children,p);return T()(T()({},i),{},{children:I.length>0?I:void 0})}return i}return null}).filter(Boolean)};K.default=function(){var H=(0,m.useState)([]),g=A()(H,2),p=g[0],i=g[1],I=(0,m.useState)(function(){return x}),C=A()(I,2),n=C[0],l=C[1],s=(0,Y.J)(function(t){l(L(n,t.id))}),r=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(a,_){var d=_.rowIndex;return{rules:d>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(a,_){var d=_.rowKey,c=_.rowIndex;return a.getFieldValue([d||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(a,_){return[(0,S.jsx)("a",{onClick:function(){s(_)},children:"\u5220\u9664"},"delete")]}}];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:r,value:n,onChange:l,editable:{type:"multiple",editableKeys:p,onSave:function(){var t=v()(E()().mark(function _(d,c,R){return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(d,c,R),o.next=3,$(2e3);case 3:case"end":return o.stop()}},_)}));function a(_,d,c){return t.apply(this,arguments)}return a}(),onChange:i}}),(0,S.jsx)(h.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,S.jsx)(u.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(n)})})]})}},87917:function(oe,K,e){e.r(K);var k=e(25359),E=e.n(k),z=e(49811),v=e.n(z),Q=e(57213),A=e.n(Q),G=e(93525),T=e.n(G),Y=e(54306),y=e.n(Y),h=e(81939),u=e(50916),m=e(7166),S=e(34103),$=e(40158),x=e(36325),L=e(87330),H=e(55061),g=e(60597),p=e(50959),i=e(11527),I=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(t){setTimeout(function(){t(!0)},r)})},C=function(r){var t=r.value,a=r.onChange,_=(0,p.useRef)(null),d=(0,p.useState)([]),c=y()(d,2),R=c[0],j=c[1],o=(0,p.useState)(""),V=y()(o,2),B=V[0],J=V[1],N=function(U){J(U.target.value)},M=function(){var U=T()(t||[]);B&&U.filter(function(ee){return ee.label===B}).length===0&&(U=[].concat(T()(U),[{key:"new-".concat(U.length),label:B}])),a==null||a(U),j([]),J("")};return(0,i.jsxs)($.Z,{children:[(t||[]).concat(R).map(function(X){return(0,i.jsx)(x.Z,{children:X.label},X.key)}),(0,i.jsx)(L.Z,{ref:_,type:"text",size:"small",style:{width:78},value:B,onChange:N,onBlur:M,onPressEnter:M})]})},n=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:"1590481162000"}],l=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(r,t){var a=t.isEditable;return a?(0,i.jsx)(C,{}):(0,i.jsx)(L.Z,{})},render:function(r,t){var a;return t==null||(a=t.labels)===null||a===void 0?void 0:a.map(function(_){return(0,i.jsx)(x.Z,{children:_.label},_.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(r,t,a,_){return[(0,i.jsx)("a",{onClick:function(){var c;_==null||(c=_.startEditable)===null||c===void 0||c.call(_,t.id)},children:"\u7F16\u8F91"},"editable"),(0,i.jsx)(u.Z.RecordCreator,{record:A()(A()({},t),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,i.jsx)("a",{children:"\u590D\u5236\u6B64\u884C\u5230\u672B\u5C3E"})},"copy")]}}];K.default=function(){var s=(0,p.useRef)(),r=(0,p.useState)([]),t=y()(r,2),a=t[0],_=t[1],d=(0,p.useState)([]),c=y()(d,2),R=c[0],j=c[1],o=H.Z.useForm(),V=y()(o,1),B=V[0];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)($.Z,{children:[(0,i.jsx)(g.ZP,{type:"primary",onClick:function(){var N,M;(N=s.current)===null||N===void 0||(M=N.addEditRecord)===null||M===void 0||M.call(N,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,i.jsx)(h.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,i.jsx)(g.ZP,{onClick:function(){B.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,i.jsx)(u.Z,{rowKey:"id",scroll:{x:960},actionRef:s,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:l,request:v()(E()().mark(function J(){return E()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",{data:n,total:3,success:!0});case 1:case"end":return M.stop()}},J)})),value:R,onChange:j,editable:{form:B,editableKeys:a,onSave:function(){var J=v()(E()().mark(function M(){return E()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,I(2e3);case 2:case"end":return U.stop()}},M)}));function N(){return J.apply(this,arguments)}return N}(),onChange:_,actionRender:function(N,M,X){return[X.save,X.cancel]}}}),(0,i.jsx)(m.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,i.jsx)(S.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(R)})})]})}},98510:function(oe,K,e){e.r(K);var k=e(54306),E=e.n(k),z=e(80704),v=e(50916),Q=e(66254),A=e(7166),G=e(28960),T=e(34103),Y=e(60597),y=e(50959),h=e(11527),u=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],m=0;K.default=function(){var S=(0,y.useState)(function(){return[]}),$=E()(S,2),x=$[0],L=$[1],H=(0,y.useState)("bottom"),g=E()(H,2),p=g[0],i=g[1],I=(0,y.useRef)(),C=(0,y.useRef)(),n=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(s,r,t,a){return[(0,h.jsx)("a",{onClick:function(){var d;a==null||(d=a.startEditable)===null||d===void 0||d.call(a,r.id)},children:"\u7F16\u8F91"},"editable"),(0,h.jsx)("a",{onClick:function(){var d,c,R=(d=I.current)===null||d===void 0?void 0:d.getFieldValue("table");(c=I.current)===null||c===void 0||c.setFieldsValue({table:R.filter(function(j){return j.id!==r.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,h.jsxs)(z.A,{formRef:I,initialValues:{table:u},validateTrigger:"onBlur",children:[(0,h.jsx)(v.Z,{rowKey:"id",scroll:{x:960},editableFormRef:C,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",recordCreatorProps:p!=="hidden"?{position:p,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,h.jsx)(Q.Z.Group,{fieldProps:{style:{marginBlockEnd:0},value:p,onChange:function(r){return i(r.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render"),(0,h.jsx)(Y.ZP,{type:"text",onClick:function(){var r,t,a=(r=C.current)===null||r===void 0||(t=r.getRowsData)===null||t===void 0?void 0:t.call(r);console.log(a)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:n,editable:{type:"multiple",editableKeys:x,onChange:L,actionRender:function(s,r,t){return[t.save,t.delete||t.cancel,(0,h.jsx)("a",{onClick:function(){var _,d;console.log(r.index),m++,(_=C.current)===null||_===void 0||(d=_.setRowData)===null||d===void 0||d.call(_,r.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+m})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u884C"},"set")]}}}),(0,h.jsx)(z.A.Item,{children:(0,h.jsx)(A.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,h.jsx)(G.Z,{name:["table"],children:function(s){var r=s.table;return(0,h.jsx)(T.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(r)})}})})})]})}},25613:function(oe,K,e){e.r(K);var k=e(25359),E=e.n(k),z=e(49811),v=e.n(z),Q=e(54306),A=e.n(Q),G=e(7166),T=e(80704),Y=e(28960),y=e(79544),h=e(50916),u=e(50959),m=e(11527),S=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];K.default=function(){var $=(0,u.useState)(function(){return[]}),x=A()($,2),L=x[0],H=x[1],g=(0,u.useRef)(),p=(0,u.useRef)(),i=(0,u.useRef)(),I=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var C=v()(E()().mark(function l(){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return r.stop()}},l)}));function n(){return C.apply(this,arguments)}return n}(),fieldProps:function(n,l){var s=l.rowIndex;return{onSelect:function(){var t,a;(t=i.current)===null||t===void 0||(a=t.setRowData)===null||a===void 0||a.call(t,s,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(n){var l=n==null?void 0:n.scoringMethod;return l==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var C=v()(E()().mark(function l(){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",["A","B","D","E","F"].map(function(t,a){return{label:t,value:a}}));case 1:case"end":return r.stop()}},l)}));function n(){return C.apply(this,arguments)}return n}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,l){return[(0,m.jsx)("a",{onClick:function(){var r,t,a=(r=g.current)===null||r===void 0?void 0:r.getFieldValue("table");(t=g.current)===null||t===void 0||t.setFieldsValue({table:a.filter(function(_){return _.id!==(l==null?void 0:l.id)})})},children:"\u79FB\u9664"},"delete"),(0,m.jsx)("a",{onClick:function(){var r;(r=p.current)===null||r===void 0||r.startEditable(l.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,m.jsx)(G.Z,{children:(0,m.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,m.jsxs)(T.A,{formRef:g,initialValues:{table:S},children:[(0,m.jsx)(Y.Z,{name:["table"],children:function(n){var l=n.table,s=l.reduce(function(r,t){return{totalScore:r.totalScore+parseInt(((t==null?void 0:t.fraction)||0).toString(),10),questions:r.questions+parseInt(((t==null?void 0:t.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,m.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",s.totalScore]}),(0,m.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",s.questions]}),(0,m.jsx)("div",{style:{flex:2},children:(0,m.jsx)(y.Z,{label:"\u53CA\u683C\u5206"})}),(0,m.jsx)("div",{style:{flex:2},children:(0,m.jsx)(y.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,m.jsx)(h.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:i,controlled:!0,actionRef:p,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var C=v()(E()().mark(function l(s,r){return E()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r.length<1)){a.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(r.length>5)){a.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return a.stop()}},l)}));function n(l,s){return C.apply(this,arguments)}return n}()}]},maxLength:10,name:"table",columns:I,recordCreatorProps:{record:function(n){return{id:n+1}}},editable:{type:"multiple",editableKeys:L,onChange:H}})]})})})}},97882:function(oe,K,e){e.r(K);var k=e(54306),E=e.n(k),z=e(50916),v=e(7166),Q=e(34103),A=e(60597),G=e(50959),T=e(11527),Y=new Array(20).fill(1).map(function(y,h){return{id:(Date.now()+h).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(h),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000"}});K.default=function(){var y=(0,G.useState)(function(){return Y.map(function(g){return g.id})}),h=E()(y,2),u=h[0],m=h[1],S=(0,G.useState)(function(){return Y}),$=E()(S,2),x=$[0],L=$[1],H=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(z.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:H,rowKey:"id",scroll:{x:960},value:x,onChange:L,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,T.jsx)(A.ZP,{type:"primary",onClick:function(){console.log(x)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:u,actionRender:function(p,i,I){return[I.delete]},onValuesChange:function(p,i){L(i)},onChange:m}}),(0,T.jsx)(v.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,T.jsx)(Q.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(x)})})]})}},50916:function(oe,K,e){var k=e(52510),E=e.n(k),z=e(54306),v=e.n(z),Q=e(12342),A=e.n(Q),G=e(25359),T=e.n(G),Y=e(49811),y=e.n(Y),h=e(57213),u=e.n(h),m=e(81939),S=e(28960),$=e(11287),x=e(53222),L=e(83540),H=e(21885),g=e(98744),p=e(60597),i=e(55061),I=e(2782),C=e(77200),n=e(23870),l=e(50959),s=e(37616),r=e(73011),t=e(11527),a=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],_=["record","position","creatorButtonText","newRecordType","parentKey","style"],d=l.createContext(void 0);function c(o){var V=o.children,B=o.record,J=o.position,N=o.newRecordType,M=o.parentKey,X=(0,l.useContext)(d);return l.cloneElement(V,u()(u()({},V.props),{},{onClick:function(){var U=y()(T()().mark(function q(ie){var _e,se,te,ne;return T()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(_e=(se=V.props).onClick)===null||_e===void 0?void 0:_e.call(se,ie);case 2:if(ne=W.sent,ne!==!1){W.next=5;break}return W.abrupt("return");case 5:X==null||(te=X.current)===null||te===void 0||te.addEditRecord(B,{position:J,newRecordType:N,parentKey:M});case 6:case"end":return W.stop()}},q)}));function ee(q){return U.apply(this,arguments)}return ee}()}))}function R(o){var V,B,J=(0,x.YB)(),N=o.onTableChange,M=o.maxLength,X=o.formItemProps,U=o.recordCreatorProps,ee=o.rowKey,q=o.controlled,ie=o.defaultValue,_e=o.onChange,se=o.editableFormRef,te=A()(o,a),ne=(0,l.useRef)(void 0),ue=(0,l.useRef)(),W=(0,l.useRef)();(0,l.useImperativeHandle)(te.actionRef,function(){return ue.current});var ve=(0,I.default)(function(){return o.value||ie||[]},{value:o.value,onChange:o.onChange}),de=v()(ve,2),P=de[0],ge=de[1],ae=l.useMemo(function(){return typeof ee=="function"?ee:function(Z,f){return Z[ee]||f}},[ee]),pe=function(f){if(typeof f=="number"&&!o.name){if(f>=P.length)return f;var b=P&&P[f];return ae==null?void 0:ae(b,f)}if((typeof f=="string"||f>=P.length)&&o.name){var D=P.findIndex(function(O,F){var w;return(ae==null||(w=ae(O,F))===null||w===void 0?void 0:w.toString())===(f==null?void 0:f.toString())});if(D!==-1)return D}return f};(0,l.useImperativeHandle)(se,function(){var Z=function(D){var O,F;if(D==null)throw new Error("rowIndex is required");var w=pe(D),re=[o.name,(O=w==null?void 0:w.toString())!==null&&O!==void 0?O:""].flat(1).filter(Boolean);return(F=W.current)===null||F===void 0?void 0:F.getFieldValue(re)},f=function(){var D,O=[o.name].flat(1).filter(Boolean);if(Array.isArray(O)&&O.length===0){var F,w=(F=W.current)===null||F===void 0?void 0:F.getFieldsValue();return Array.isArray(w)?w:Object.keys(w).map(function(re){return w[re]})}return(D=W.current)===null||D===void 0?void 0:D.getFieldValue(O)};return u()(u()({},W.current),{},{getRowData:Z,getRowsData:f,setRowData:function(D,O){var F,w;if(D==null)throw new Error("rowIndex is required");var re=pe(D),me=[o.name,(F=re==null?void 0:re.toString())!==null&&F!==void 0?F:""].flat(1).filter(Boolean),Te=Object.assign({},u()(u()({},Z(D)),O||{})),xe=(0,n.default)({},me,Te);return(w=W.current)===null||w===void 0||w.setFieldsValue(xe),!0}})},[o.name]),(0,l.useEffect)(function(){o.controlled&&P.forEach(function(Z,f){var b;(b=W.current)===null||b===void 0||b.setFieldsValue(E()({},ae(Z,f),Z))},{})},[(0,s.P)(P),o.controlled]),(0,l.useEffect)(function(){if(o.name){var Z;W.current=o==null||(Z=o.editable)===null||Z===void 0?void 0:Z.form}},[(V=o.editable)===null||V===void 0?void 0:V.form,o.name]);var le=U||{},be=le.record,he=le.position,De=le.creatorButtonText,Pe=le.newRecordType,Ce=le.parentKey,Oe=le.style,Me=A()(le,_),Ee=he==="top",ce=(0,l.useMemo)(function(){return typeof M=="number"&&M<=(P==null?void 0:P.length)?!1:U!==!1&&(0,t.jsx)(c,{record:(0,L.h)(be,P==null?void 0:P.length,P)||{},position:he,parentKey:(0,L.h)(Ce,P==null?void 0:P.length,P),newRecordType:Pe,children:(0,t.jsx)(p.ZP,u()(u()({type:"dashed",style:u()({display:"block",margin:"10px 0",width:"100%"},Oe),icon:(0,t.jsx)(m.Z,{})},Me),{},{children:De||J.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[U,M,P==null?void 0:P.length]),ye=(0,l.useMemo)(function(){return ce?Ee?{components:{header:{wrapper:function(f){var b,D=f.className,O=f.children;return(0,t.jsxs)("thead",{className:D,children:[O,(0,t.jsxs)("tr",{style:{position:"relative"},children:[(0,t.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ce}),(0,t.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(b=te.columns)===null||b===void 0?void 0:b.length,children:ce})]})]})}}}}:{tableViewRender:function(f,b){var D,O;return(0,t.jsxs)(t.Fragment,{children:[(D=(O=o.tableViewRender)===null||O===void 0?void 0:O.call(o,f,b))!==null&&D!==void 0?D:b,ce]})}}:{}},[Ee,ce]),fe=u()({},o.editable),Re=(0,H.J)(function(Z,f){var b,D,O;if((b=o.editable)===null||b===void 0||(D=b.onValuesChange)===null||D===void 0||D.call(b,Z,f),(O=o.onValuesChange)===null||O===void 0||O.call(o,f,Z),o.controlled){var F;o==null||(F=o.onChange)===null||F===void 0||F.call(o,f)}});return(o!=null&&o.onValuesChange||(B=o.editable)!==null&&B!==void 0&&B.onValuesChange||o.controlled&&o!==null&&o!==void 0&&o.onChange)&&(fe.onValuesChange=Re),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Provider,{value:ue,children:(0,t.jsx)(r.Z,u()(u()(u()({search:!1,options:!1,pagination:!1,rowKey:ee,revalidateOnFocus:!1},te),ye),{},{tableLayout:"fixed",actionRef:ue,onChange:N,editable:u()(u()({},fe),{},{formProps:u()({formRef:W},fe.formProps)}),dataSource:P,onDataSourceChange:function(f){if(ge(f),o.name&&he==="top"){var b,D=(0,n.default)({},[o.name].flat(1).filter(Boolean),f);(b=W.current)===null||b===void 0||b.setFieldsValue(D)}}}))}),o.name?(0,t.jsx)(S.Z,{name:[o.name],children:function(f){var b,D;if(!ne.current)return ne.current=P,null;var O=(0,C.default)(f,[o.name].flat(1)),F=O==null?void 0:O.find(function(w,re){var me;return!(0,g.A)(w,(me=ne.current)===null||me===void 0?void 0:me[re])});return ne.current=P,F&&(o==null||(b=o.editable)===null||b===void 0||(D=b.onValuesChange)===null||D===void 0||D.call(b,F,O)),null}}):null]})}function j(o){var V=$.ZP.useFormInstance();return o.name?(0,t.jsx)(i.Z.Item,u()(u()({style:{maxWidth:"100%"}},o==null?void 0:o.formItemProps),{},{name:o.name,shouldUpdate:function(J,N){var M=[o.name].flat(1);try{return JSON.stringify((0,C.default)(J,M))!==JSON.stringify((0,C.default)(N,M))}catch(X){return!0}},children:(0,t.jsx)(R,u()(u()({},o),{},{editable:u()(u()({},o.editable),{},{form:V})}))})):(0,t.jsx)(R,u()({},o))}j.RecordCreator=c,K.Z=j},36325:function(oe,K,e){e.d(K,{Z:function(){return C}});var k=e(12436),E=e(84875),z=e.n(E),v=e(50959),Q=e(21850),A=e(95229),G=e(18256);function T(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}var Y=e(83112),y=e(37528),h=e(51145),u=e(30825);const m=(n,l,s)=>{const r=T(s);return{[`${n.componentCls}-${l}`]:{color:n[`color${s}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`],[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}},S=n=>(0,y.Z)(n,(l,s)=>{let{textColor:r,lightBorderColor:t,lightColor:a,darkColor:_}=s;return{[`${n.componentCls}-${l}`]:{color:r,background:a,borderColor:t,"&-inverse":{color:n.colorTextLightSolid,background:_,borderColor:_},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),$=n=>{const{paddingXXS:l,lineWidth:s,tagPaddingHorizontal:r,componentCls:t}=n,a=r-s,_=l-s;return{[t]:Object.assign(Object.assign({},(0,Y.Wf)(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:a,fontSize:n.tagFontSize,lineHeight:n.tagLineHeight,whiteSpace:"nowrap",background:n.defaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",[`&${t}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.defaultColor},[`${t}-close-icon`]:{marginInlineStart:_,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${t}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${t}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:a}}),[`${t}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}};var x=(0,h.Z)("Tag",n=>{const{lineWidth:l,fontSizeIcon:s}=n,r=n.fontSizeSM,t=`${n.lineHeightSM*r}px`,a=(0,u.TS)(n,{tagFontSize:r,tagLineHeight:t,tagIconSize:s-2*l,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary});return[$(a),S(a),m(a,"success","Success"),m(a,"processing","Info"),m(a,"error","Error"),m(a,"warning","Warning")]},n=>({defaultBg:n.colorFillQuaternary,defaultColor:n.colorText})),L=function(n,l){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&l.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)l.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(s[r[t]]=n[r[t]]);return s},g=n=>{const{prefixCls:l,className:s,checked:r,onChange:t,onClick:a}=n,_=L(n,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:d}=v.useContext(G.E_),c=B=>{t==null||t(!r),a==null||a(B)},R=d("tag",l),[j,o]=x(R),V=z()(R,{[`${R}-checkable`]:!0,[`${R}-checkable-checked`]:r},s,o);return j(v.createElement("span",Object.assign({},_,{className:V,onClick:c})))},p=function(n,l){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&l.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)l.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(s[r[t]]=n[r[t]]);return s};const i=(n,l)=>{const{prefixCls:s,className:r,rootClassName:t,style:a,children:_,icon:d,color:c,onClose:R,closeIcon:j,closable:o=!1,bordered:V=!0}=n,B=p(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:J,direction:N}=v.useContext(G.E_),[M,X]=v.useState(!0);v.useEffect(()=>{"visible"in B&&X(B.visible)},[B.visible]);const U=(0,Q.o2)(c)||(0,Q.yT)(c),ee=Object.assign({backgroundColor:c&&!U?c:void 0},a),q=J("tag",s),[ie,_e]=x(q),se=z()(q,{[`${q}-${c}`]:U,[`${q}-has-color`]:c&&!U,[`${q}-hidden`]:!M,[`${q}-rtl`]:N==="rtl",[`${q}-borderless`]:!V},r,t,_e),te=P=>{P.stopPropagation(),R==null||R(P),!P.defaultPrevented&&X(!1)},ne=v.useMemo(()=>o?j?v.createElement("span",{className:`${q}-close-icon`,onClick:te},j):v.createElement(k.Z,{className:`${q}-close-icon`,onClick:te}):null,[o,j,q,te]),ue=typeof B.onClick=="function"||_&&_.type==="a",W=d||null,ve=W?v.createElement(v.Fragment,null,W,v.createElement("span",null,_)):_,de=v.createElement("span",Object.assign({},B,{ref:l,className:se,style:ee}),ve,ne);return ie(ue?v.createElement(A.Z,null,de):de)},I=v.forwardRef(i);I.CheckableTag=g;var C=I}}]);
