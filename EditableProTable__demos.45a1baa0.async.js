"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{27595:function(oe,U,e){e.r(U);var Y=e(25359),E=e.n(Y),z=e(49811),v=e.n(z),H=e(54306),S=e.n(H),G=e(16396),T=e(47239),J=e(27351),R=e(93043),h=e(50959),u=e(11527),m=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function($){setTimeout(function(){$(!0)},x)})},L=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}];U.default=function(){var F=(0,h.useState)([]),x=S()(F,2),$=x[0],N=x[1],g=(0,h.useState)([]),p=S()(g,2),d=p[0],I=p[1],y=(0,h.useState)("bottom"),n=S()(y,2),s=n[0],_=n[1],r=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(l,a){var i=a.rowIndex;return{rules:i>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(l,a,i){return i!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(l,a){var i=a.rowKey,c=a.rowIndex;return l.getFieldValue([i||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(l,a,i,c){return[(0,u.jsx)("a",{onClick:function(){var b;c==null||(b=c.startEditable)===null||b===void 0||b.call(c,a.id)},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)("a",{onClick:function(){I(d.filter(function(b){return b.id!==a.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:s!=="hidden"?{position:s,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,u.jsx)(T.Z.Group,{fieldProps:{value:s,onChange:function(a){return _(a.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:r,request:v()(E()().mark(function t(){return E()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:L,total:3,success:!0});case 1:case"end":return a.stop()}},t)})),value:d,onChange:I,editable:{type:"multiple",editableKeys:$,onSave:function(){var t=v()(E()().mark(function a(i,c,C){return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(i,c,C),o.next=3,m(2e3);case 3:case"end":return o.stop()}},a)}));function l(a,i,c){return t.apply(this,arguments)}return l}(),onChange:N}}),(0,u.jsx)(J.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,u.jsx)(R.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(d)})})]})}},78164:function(oe,U,e){e.r(U);var Y=e(25359),E=e.n(Y),z=e(49811),v=e.n(z),H=e(54306),S=e.n(H),G=e(57213),T=e.n(G),J=e(95852),R=e(16396),h=e(27351),u=e(93043),m=e(50959),L=e(11527),F=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(p){setTimeout(function(){p(!0)},g)})},x=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000",children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],$=function N(g,p){return g.map(function(d){if(d.id!==p){if(d.children){var I=N(d.children,p);return T()(T()({},d),{},{children:I.length>0?I:void 0})}return d}return null}).filter(Boolean)};U.default=function(){var N=(0,m.useState)([]),g=S()(N,2),p=g[0],d=g[1],I=(0,m.useState)(function(){return x}),y=S()(I,2),n=y[0],s=y[1],_=(0,J.J)(function(t){s($(n,t.id))}),r=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(l,a){var i=a.rowIndex;return{rules:i>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(l,a){var i=a.rowKey,c=a.rowIndex;return l.getFieldValue([i||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(l,a){return[(0,L.jsx)("a",{onClick:function(){_(a)},children:"\u5220\u9664"},"delete")]}}];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:r,value:n,onChange:s,editable:{type:"multiple",editableKeys:p,onSave:function(){var t=v()(E()().mark(function a(i,c,C){return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(i,c,C),o.next=3,F(2e3);case 3:case"end":return o.stop()}},a)}));function l(a,i,c){return t.apply(this,arguments)}return l}(),onChange:d}}),(0,L.jsx)(h.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,L.jsx)(u.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(n)})})]})}},34122:function(oe,U,e){e.r(U);var Y=e(25359),E=e.n(Y),z=e(49811),v=e.n(z),H=e(57213),S=e.n(H),G=e(93525),T=e.n(G),J=e(54306),R=e.n(J),h=e(79693),u=e(16396),m=e(27351),L=e(93043),F=e(47583),x=e(3324),$=e(65001),N=e(47215),g=e(8562),p=e(50959),d=e(11527),I=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(t){setTimeout(function(){t(!0)},r)})},y=function(r){var t=r.value,l=r.onChange,a=(0,p.useRef)(null),i=(0,p.useState)([]),c=R()(i,2),C=c[0],b=c[1],o=(0,p.useState)(""),w=R()(o,2),K=w[0],k=w[1],X=function(j){k(j.target.value)},B=function(){var j=T()(t||[]);K&&j.filter(function(ee){return ee.label===K}).length===0&&(j=[].concat(T()(j),[{key:"new-".concat(j.length),label:K}])),l==null||l(j),b([]),k("")};return(0,d.jsxs)(F.Z,{children:[(t||[]).concat(C).map(function(Q){return(0,d.jsx)(x.Z,{children:Q.label},Q.key)}),(0,d.jsx)($.Z,{ref:a,type:"text",size:"small",style:{width:78},value:K,onChange:X,onBlur:B,onPressEnter:B})]})},n=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:"1590486176000"},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:"1590481162000"}],s=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(r,t){var l=t.isEditable;return l?(0,d.jsx)(y,{}):(0,d.jsx)($.Z,{})},render:function(r,t){var l;return t==null||(l=t.labels)===null||l===void 0?void 0:l.map(function(a){return(0,d.jsx)(x.Z,{children:a.label},a.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(r,t,l,a){return[(0,d.jsx)("a",{onClick:function(){var c;a==null||(c=a.startEditable)===null||c===void 0||c.call(a,t.id)},children:"\u7F16\u8F91"},"editable"),(0,d.jsx)(u.Z.RecordCreator,{record:S()(S()({},t),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,d.jsx)("a",{children:"\u590D\u5236\u6B64\u884C\u5230\u672B\u5C3E"})},"copy")]}}];U.default=function(){var _=(0,p.useRef)(),r=(0,p.useState)([]),t=R()(r,2),l=t[0],a=t[1],i=(0,p.useState)([]),c=R()(i,2),C=c[0],b=c[1],o=N.Z.useForm(),w=R()(o,1),K=w[0];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(F.Z,{children:[(0,d.jsx)(g.ZP,{type:"primary",onClick:function(){var X,B;(X=_.current)===null||X===void 0||(B=X.addEditRecord)===null||B===void 0||B.call(X,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,d.jsx)(h.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,d.jsx)(g.ZP,{onClick:function(){K.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,d.jsx)(u.Z,{rowKey:"id",scroll:{x:960},actionRef:_,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:s,request:v()(E()().mark(function k(){return E()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",{data:n,total:3,success:!0});case 1:case"end":return B.stop()}},k)})),value:C,onChange:b,editable:{form:K,editableKeys:l,onSave:function(){var k=v()(E()().mark(function B(){return E()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,I(2e3);case 2:case"end":return j.stop()}},B)}));function X(){return k.apply(this,arguments)}return X}(),onChange:a,actionRender:function(X,B,Q){return[Q.save,Q.cancel]}}}),(0,d.jsx)(m.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,d.jsx)(L.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(C)})})]})}},60686:function(oe,U,e){e.r(U);var Y=e(54306),E=e.n(Y),z=e(5041),v=e(16396),H=e(47239),S=e(27351),G=e(21437),T=e(93043),J=e(8562),R=e(50959),h=e(11527),u=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000",update_at:"1590486176000"},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:"1590481162000",update_at:"1590481162000"}],m=0;U.default=function(){var L=(0,R.useState)(function(){return[]}),F=E()(L,2),x=F[0],$=F[1],N=(0,R.useState)("bottom"),g=E()(N,2),p=g[0],d=g[1],I=(0,R.useRef)(),y=(0,R.useRef)(),n=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(_,r,t,l){return[(0,h.jsx)("a",{onClick:function(){var i;l==null||(i=l.startEditable)===null||i===void 0||i.call(l,r.id)},children:"\u7F16\u8F91"},"editable"),(0,h.jsx)("a",{onClick:function(){var i,c,C=(i=I.current)===null||i===void 0?void 0:i.getFieldValue("table");(c=I.current)===null||c===void 0||c.setFieldsValue({table:C.filter(function(b){return b.id!==r.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,h.jsxs)(z.A,{formRef:I,initialValues:{table:u},validateTrigger:"onBlur",children:[(0,h.jsx)(v.Z,{rowKey:"id",scroll:{x:960},editableFormRef:y,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",recordCreatorProps:p!=="hidden"?{position:p,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,h.jsx)(H.Z.Group,{fieldProps:{style:{marginBlockEnd:0},value:p,onChange:function(r){return d(r.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render"),(0,h.jsx)(J.ZP,{type:"text",onClick:function(){var r,t,l=(r=y.current)===null||r===void 0||(t=r.getRowsData)===null||t===void 0?void 0:t.call(r);console.log(l)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:n,editable:{type:"multiple",editableKeys:x,onChange:$,actionRender:function(_,r,t){return[t.save,t.delete||t.cancel,(0,h.jsx)("a",{onClick:function(){var a,i;m++,(a=y.current)===null||a===void 0||(i=a.setRowData)===null||i===void 0||i.call(a,r.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+m})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u884C"},"set")]}}}),(0,h.jsx)(z.A.Item,{children:(0,h.jsx)(S.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,h.jsx)(G.Z,{name:["table"],children:function(_){var r=_.table;return(0,h.jsx)(T.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(r)})}})})})]})}},57770:function(oe,U,e){e.r(U);var Y=e(25359),E=e.n(Y),z=e(49811),v=e.n(z),H=e(54306),S=e.n(H),G=e(27351),T=e(5041),J=e(21437),R=e(57954),h=e(16396),u=e(50959),m=e(11527),L=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];U.default=function(){var F=(0,u.useState)(function(){return[]}),x=S()(F,2),$=x[0],N=x[1],g=(0,u.useRef)(),p=(0,u.useRef)(),d=(0,u.useRef)(),I=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var y=v()(E()().mark(function s(){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return r.stop()}},s)}));function n(){return y.apply(this,arguments)}return n}(),fieldProps:function(n,s){var _=s.rowIndex;return{onSelect:function(){var t,l;(t=d.current)===null||t===void 0||(l=t.setRowData)===null||l===void 0||l.call(t,_,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(n){var s=n==null?void 0:n.scoringMethod;return s==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var y=v()(E()().mark(function s(){return E()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",["A","B","D","E","F"].map(function(t,l){return{label:t,value:l}}));case 1:case"end":return r.stop()}},s)}));function n(){return y.apply(this,arguments)}return n}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,s){return[(0,m.jsx)("a",{onClick:function(){var r,t,l=(r=g.current)===null||r===void 0?void 0:r.getFieldValue("table");(t=g.current)===null||t===void 0||t.setFieldsValue({table:l.filter(function(a){return a.id!==(s==null?void 0:s.id)})})},children:"\u79FB\u9664"},"delete"),(0,m.jsx)("a",{onClick:function(){var r;(r=p.current)===null||r===void 0||r.startEditable(s.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,m.jsx)(G.Z,{children:(0,m.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,m.jsxs)(T.A,{formRef:g,initialValues:{table:L},children:[(0,m.jsx)(J.Z,{name:["table"],children:function(n){var s=n.table,_=s.reduce(function(r,t){return{totalScore:r.totalScore+parseInt(((t==null?void 0:t.fraction)||0).toString(),10),questions:r.questions+parseInt(((t==null?void 0:t.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,m.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",_.totalScore]}),(0,m.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",_.questions]}),(0,m.jsx)("div",{style:{flex:2},children:(0,m.jsx)(R.Z,{label:"\u53CA\u683C\u5206"})}),(0,m.jsx)("div",{style:{flex:2},children:(0,m.jsx)(R.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,m.jsx)(h.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:d,controlled:!0,actionRef:p,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var y=v()(E()().mark(function s(_,r){return E()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(r.length<1)){l.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(r.length>5)){l.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return l.stop()}},s)}));function n(s,_){return y.apply(this,arguments)}return n}()}]},maxLength:10,name:"table",columns:I,recordCreatorProps:{record:function(n){return{id:n+1}}},editable:{type:"multiple",editableKeys:$,onChange:N}})]})})})}},67914:function(oe,U,e){e.r(U);var Y=e(54306),E=e.n(Y),z=e(16396),v=e(27351),H=e(93043),S=e(8562),G=e(50959),T=e(11527),J=new Array(20).fill(1).map(function(R,h){return{id:(Date.now()+h).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(h),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:"1590486176000"}});U.default=function(){var R=(0,G.useState)(function(){return J.map(function(g){return g.id})}),h=E()(R,2),u=h[0],m=h[1],L=(0,G.useState)(function(){return J}),F=E()(L,2),x=F[0],$=F[1],N=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(z.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:N,rowKey:"id",scroll:{x:960},value:x,onChange:$,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,T.jsx)(S.ZP,{type:"primary",onClick:function(){console.log(x)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:u,actionRender:function(p,d,I){return[I.delete]},onValuesChange:function(p,d){$(d)},onChange:m}}),(0,T.jsx)(v.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,T.jsx)(H.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(x)})})]})}},16396:function(oe,U,e){var Y=e(52510),E=e.n(Y),z=e(54306),v=e.n(z),H=e(12342),S=e.n(H),G=e(25359),T=e.n(G),J=e(49811),R=e.n(J),h=e(57213),u=e.n(h),m=e(79693),L=e(21437),F=e(75192),x=e(43502),$=e(51999),N=e(32555),g=e(95852),p=e(19209),d=e(8562),I=e(47215),y=e(44797),n=e(5654),s=e(62203),_=e(50959),r=e(27668),t=e(11527),l=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],a=["record","position","creatorButtonText","newRecordType","parentKey","style"],i=_.createContext(void 0);function c(o){var w=o.children,K=o.record,k=o.position,X=o.newRecordType,B=o.parentKey,Q=(0,_.useContext)(i);return _.cloneElement(w,u()(u()({},w.props),{},{onClick:function(){var j=R()(T()().mark(function q(ie){var _e,se,te,ne;return T()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(_e=(se=w.props).onClick)===null||_e===void 0?void 0:_e.call(se,ie);case 2:if(ne=A.sent,ne!==!1){A.next=5;break}return A.abrupt("return");case 5:Q==null||(te=Q.current)===null||te===void 0||te.addEditRecord(K,{position:k,newRecordType:X,parentKey:B});case 6:case"end":return A.stop()}},q)}));function ee(q){return j.apply(this,arguments)}return ee}()}))}function C(o){var w,K,k=(0,x.YB)(),X=o.onTableChange,B=o.maxLength,Q=o.formItemProps,j=o.recordCreatorProps,ee=o.rowKey,q=o.controlled,ie=o.defaultValue,_e=o.onChange,se=o.editableFormRef,te=S()(o,l),ne=(0,$.D)(o.value),ue=(0,_.useRef)(),A=(0,_.useRef)();(0,_.useImperativeHandle)(te.actionRef,function(){return ue.current});var me=(0,y.default)(function(){return o.value||ie||[]},{value:o.value,onChange:o.onChange}),de=v()(me,2),O=de[0],be=de[1],ae=_.useMemo(function(){return typeof ee=="function"?ee:function(Z,f){return Z[ee]||f}},[ee]),Ee=function(f){if(typeof f=="number"&&!o.name){if(f>=O.length)return f;var D=O&&O[f];return ae==null?void 0:ae(D,f)}if((typeof f=="string"||f>=O.length)&&o.name){var P=O.findIndex(function(M,W){var V;return(ae==null||(V=ae(M,W))===null||V===void 0?void 0:V.toString())===(f==null?void 0:f.toString())});return P}return f};(0,_.useImperativeHandle)(se,function(){var Z=function(P){var M,W;if(P==null)throw new Error("rowIndex is required");var V=Ee(P),re=[o.name,(M=V==null?void 0:V.toString())!==null&&M!==void 0?M:""].flat(1).filter(Boolean);return(W=A.current)===null||W===void 0?void 0:W.getFieldValue(re)},f=function(){var P,M=[o.name].flat(1).filter(Boolean);if(Array.isArray(M)&&M.length===0){var W,V=(W=A.current)===null||W===void 0?void 0:W.getFieldsValue();return Array.isArray(V)?V:Object.keys(V).map(function(re){return V[re]})}return(P=A.current)===null||P===void 0?void 0:P.getFieldValue(M)};return u()(u()({},A.current),{},{getRowData:Z,getRowsData:f,setRowData:function(P,M){var W,V,re,fe;if(P==null)throw new Error("rowIndex is required");var pe=Ee(P),xe=[o.name,(W=pe==null?void 0:pe.toString())!==null&&W!==void 0?W:""].flat(1).filter(Boolean),Ie=((V=A.current)===null||V===void 0||(re=V.getFieldsValue)===null||re===void 0?void 0:re.call(V))||{},Be=(0,s.default)(Ie,xe,u()(u()({},Z(P)),M||{}));return(fe=A.current)===null||fe===void 0||fe.setFieldsValue(Be),!0}})}),(0,_.useEffect)(function(){o.controlled&&O.forEach(function(Z,f){var D;(D=A.current)===null||D===void 0||D.setFieldsValue(E()({},ae(Z,f),Z))},{})},[O,o.controlled]),(0,_.useEffect)(function(){if(o.name){var Z;A.current=o==null||(Z=o.editable)===null||Z===void 0?void 0:Z.form}},[(w=o.editable)===null||w===void 0?void 0:w.form,o.name]);var le=j||{},De=le.record,ve=le.position,Pe=le.creatorButtonText,Ce=le.newRecordType,Oe=le.parentKey,Me=le.style,ye=S()(le,a),ge=ve==="top",ce=(0,_.useMemo)(function(){return typeof B=="number"&&B<=(O==null?void 0:O.length)?!1:j!==!1&&(0,t.jsx)(c,{record:(0,N.h)(De,O==null?void 0:O.length,O)||{},position:ve,parentKey:(0,N.h)(Oe,O==null?void 0:O.length,O),newRecordType:Ce,children:(0,t.jsx)(d.ZP,u()(u()({type:"dashed",style:u()({display:"block",margin:"10px 0",width:"100%"},Me),icon:(0,t.jsx)(m.Z,{})},ye),{},{children:Pe||k.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[j,B,O==null?void 0:O.length]),Re=(0,_.useMemo)(function(){return ce?ge?{components:{header:{wrapper:function(f){var D,P=f.className,M=f.children;return(0,t.jsxs)("thead",{className:P,children:[M,(0,t.jsxs)("tr",{style:{position:"relative"},children:[(0,t.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ce}),(0,t.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(D=te.columns)===null||D===void 0?void 0:D.length,children:ce})]})]})}}}}:{tableViewRender:function(f,D){var P,M;return(0,t.jsxs)(t.Fragment,{children:[(P=(M=o.tableViewRender)===null||M===void 0?void 0:M.call(o,f,D))!==null&&P!==void 0?P:D,ce]})}}:{}},[ge,ce]),he=u()({},o.editable),Te=(0,g.J)(function(Z,f){var D,P,M;if((D=o.editable)===null||D===void 0||(P=D.onValuesChange)===null||P===void 0||P.call(D,Z,f),(M=o.onValuesChange)===null||M===void 0||M.call(o,f,Z),o.controlled){var W;o==null||(W=o.onChange)===null||W===void 0||W.call(o,f)}});return(o!=null&&o.onValuesChange||(K=o.editable)!==null&&K!==void 0&&K.onValuesChange||o.controlled&&o!==null&&o!==void 0&&o.onChange)&&(he.onValuesChange=Te),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Provider,{value:ue,children:(0,t.jsx)(r.Z,u()(u()(u()({search:!1,options:!1,pagination:!1,rowKey:ee,revalidateOnFocus:!1},te),Re),{},{tableLayout:"fixed",actionRef:ue,onChange:X,editable:u()(u()({},he),{},{formProps:u()({formRef:A},he.formProps)}),dataSource:O,onDataSourceChange:function(f){if(be(f),o.name&&ve==="top"){var D,P=(0,s.default)({},[o.name].flat(1).filter(Boolean),f);(D=A.current)===null||D===void 0||D.setFieldsValue(P)}}}))}),o.name?(0,t.jsx)(L.Z,{name:[o.name],children:function(f){var D,P,M=(0,n.default)(f,[o.name].flat(1)),W=M==null?void 0:M.find(function(V,re){return!(0,p.A)(V,ne==null?void 0:ne[re])});return W&&ne&&(o==null||(D=o.editable)===null||D===void 0||(P=D.onValuesChange)===null||P===void 0||P.call(D,W,M)),null}}):null]})}function b(o){var w=F.ZP.useFormInstance();return o.name?(0,t.jsx)(I.Z.Item,u()(u()({style:{maxWidth:"100%"}},o==null?void 0:o.formItemProps),{},{name:o.name,children:(0,t.jsx)(C,u()(u()({},o),{},{editable:u()(u()({},o.editable),{},{form:w})}))})):(0,t.jsx)(C,u()({},o))}b.RecordCreator=c,U.Z=b},3324:function(oe,U,e){e.d(U,{Z:function(){return y}});var Y=e(51498),E=e(97754),z=e.n(E),v=e(50959),H=e(75701),S=e(42919),G=e(29683);function T(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}var J=e(90355),R=e(53802),h=e(61017),u=e(66148);const m=(n,s,_)=>{const r=T(_);return{[`${n.componentCls}-${s}`]:{color:n[`color${_}`],background:n[`color${r}Bg`],borderColor:n[`color${r}Border`]}}},L=n=>(0,R.Z)(n,(s,_)=>{let{textColor:r,lightBorderColor:t,lightColor:l,darkColor:a}=_;return{[`${n.componentCls}-${s}`]:{color:r,background:l,borderColor:t,"&-inverse":{color:n.colorTextLightSolid,background:a,borderColor:a},[`&${n.componentCls}-borderless`]:{borderColor:"transparent"}}}}),F=n=>{const{paddingXXS:s,lineWidth:_,tagPaddingHorizontal:r,componentCls:t}=n,l=r-_,a=s-_;return{[t]:Object.assign(Object.assign({},(0,J.Wf)(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:l,fontSize:n.tagFontSize,lineHeight:`${n.tagLineHeight}px`,whiteSpace:"nowrap",background:n.tagDefaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",[`&${t}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.tagDefaultColor},[`${t}-close-icon`]:{marginInlineStart:a,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${t}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${t}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:l}}),[`${t}-borderless`]:{borderColor:"transparent",background:n.tagBorderlessBg}}};var x=(0,h.Z)("Tag",n=>{const{fontSize:s,lineHeight:_,lineWidth:r,fontSizeIcon:t}=n,l=Math.round(s*_),a=n.fontSizeSM,i=l-r*2,c=n.colorFillQuaternary,C=n.colorText,b=(0,u.TS)(n,{tagFontSize:a,tagLineHeight:i,tagDefaultBg:c,tagDefaultColor:C,tagIconSize:t-2*r,tagPaddingHorizontal:8,tagBorderlessBg:n.colorFillTertiary});return[F(b),L(b),m(b,"success","Success"),m(b,"processing","Info"),m(b,"error","Error"),m(b,"warning","Warning")]}),$=function(n,s){var _={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&s.indexOf(r)<0&&(_[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)s.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(_[r[t]]=n[r[t]]);return _},g=n=>{const{prefixCls:s,className:_,checked:r,onChange:t,onClick:l}=n,a=$(n,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:i}=v.useContext(G.E_),c=K=>{t==null||t(!r),l==null||l(K)},C=i("tag",s),[b,o]=x(C),w=z()(C,{[`${C}-checkable`]:!0,[`${C}-checkable-checked`]:r},_,o);return b(v.createElement("span",Object.assign({},a,{className:w,onClick:c})))},p=function(n,s){var _={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&s.indexOf(r)<0&&(_[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(n);t<r.length;t++)s.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(n,r[t])&&(_[r[t]]=n[r[t]]);return _};const d=(n,s)=>{const{prefixCls:_,className:r,rootClassName:t,style:l,children:a,icon:i,color:c,onClose:C,closeIcon:b,closable:o=!1,bordered:w=!0}=n,K=p(n,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:k,direction:X}=v.useContext(G.E_),[B,Q]=v.useState(!0);v.useEffect(()=>{"visible"in K&&Q(K.visible)},[K.visible]);const j=(0,H.o2)(c)||(0,H.yT)(c),ee=Object.assign({backgroundColor:c&&!j?c:void 0},l),q=k("tag",_),[ie,_e]=x(q),se=z()(q,{[`${q}-${c}`]:j,[`${q}-has-color`]:c&&!j,[`${q}-hidden`]:!B,[`${q}-rtl`]:X==="rtl",[`${q}-borderless`]:!w},r,t,_e),te=O=>{O.stopPropagation(),C==null||C(O),!O.defaultPrevented&&Q(!1)},ne=v.useMemo(()=>o?b?v.createElement("span",{className:`${q}-close-icon`,onClick:te},b):v.createElement(Y.Z,{className:`${q}-close-icon`,onClick:te}):null,[o,b,q,te]),ue=typeof K.onClick=="function"||a&&a.type==="a",A=i||null,me=A?v.createElement(v.Fragment,null,A,v.createElement("span",null,a)):a,de=v.createElement("span",Object.assign({},K,{ref:s,className:se,style:ee}),me,ne);return ie(ue?v.createElement(S.Z,null,de):de)},I=v.forwardRef(d);I.CheckableTag=g;var y=I}}]);
