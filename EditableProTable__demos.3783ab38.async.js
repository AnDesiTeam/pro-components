"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5569],{96006:function(oe,A,e){e.r(A);var Q=e(25359),D=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(92994),I=e(72460),Y=e(80762),L=e(87871),W=e(50959),_=e(11527),b=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function($){setTimeout(function(){$(!0)},d)})},F=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",readonly:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}];A.default=function(){var U=(0,W.useState)([]),d=x()(U,2),$=d[0],G=d[1],g=(0,W.useState)([]),P=x()(g,2),l=P[0],J=P[1],R=(0,W.useState)("bottom"),v=x()(R,2),a=v[0],M=v[1],u=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u83B7\u53D6\u4E0D\u5230\u503C",formItemProps:function(r,o){var h=o.rowIndex;return{rules:h>1?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},editable:function(r,o,h){return h!==0},width:"15%"},{title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",dataIndex:"readonly",tooltip:"\u53EA\u8BFB\uFF0C\u4F7F\u7528form.getFieldValue\u53EF\u4EE5\u83B7\u53D6\u5230\u503C",readonly:!0,width:"15%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(r,o){var h=o.rowKey,c=o.rowIndex;return r.getFieldValue([h||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(r,o,h,c){return[(0,_.jsx)("a",{onClick:function(){var B;c==null||(B=c.startEditable)===null||B===void 0||B.call(c,o.id)},children:"\u7F16\u8F91"},"editable"),(0,_.jsx)("a",{onClick:function(){J(l.filter(function(B){return B.id!==o.id}))},children:"\u5220\u9664"},"delete")]}}];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(H.Z,{rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,scroll:{x:960},recordCreatorProps:a!=="hidden"?{position:a,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,loading:!1,toolBarRender:function(){return[(0,_.jsx)(I.Z.Group,{fieldProps:{value:a,onChange:function(o){return M(o.target.value)}},options:[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]},"render")]},columns:u,request:N()(D()().mark(function n(){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:F,total:3,success:!0});case 1:case"end":return o.stop()}},n)})),value:l,onChange:J,editable:{type:"multiple",editableKeys:$,onSave:function(){var n=N()(D()().mark(function o(h,c,z){return D()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(h,c,z),t.next=3,b(2e3);case 3:case"end":return t.stop()}},o)}));function r(o,h,c){return n.apply(this,arguments)}return r}(),onChange:G}}),(0,_.jsx)(Y.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,_.jsx)(L.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(l)})})]})}},41453:function(oe,A,e){e.r(A);var Q=e(25359),D=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(57213),I=e.n(H),Y=e(45546),L=e(92994),W=e(80762),_=e(87871),b=e(50959),F=e(11527),U=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(P){setTimeout(function(){P(!0)},g)})},d=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3,children:[{id:6246912293,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}]},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],$=function G(g,P){return g.map(function(l){if(l.id!==P){if(l.children){var J=G(l.children,P);return I()(I()({},l),{},{children:J.length>0?J:void 0})}return l}return null}).filter(Boolean)};A.default=function(){var G=(0,b.useState)([]),g=x()(G,2),P=g[0],l=g[1],J=(0,b.useState)(function(){return d}),R=x()(J,2),v=R[0],a=R[1],M=(0,Y.J)(function(n){a($(v,n.id))}),u=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(r,o){var h=o.rowIndex;return{rules:h>2?[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]:[]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs",fieldProps:function(r,o){var h=o.rowKey,c=o.rowIndex;return r.getFieldValue([h||"","title"])==="\u4E0D\u597D\u73A9"?{disabled:!0}:c>9?{disabled:!0}:{}}},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(r,o){return[(0,F.jsx)("a",{onClick:function(){M(o)},children:"\u5220\u9664"},"delete")]}}];return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(L.Z,{expandable:{defaultExpandAllRows:!0},scroll:{x:960},rowKey:"id",headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:{position:"bottom",newRecordType:"dataSource",parentKey:function(){return 624748504},record:function(){return{id:(Math.random()*1e6).toFixed(0)}}},columns:u,value:v,onChange:a,editable:{type:"multiple",editableKeys:P,onSave:function(){var n=N()(D()().mark(function o(h,c,z){return D()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(h,c,z),t.next=3,U(2e3);case 3:case"end":return t.stop()}},o)}));function r(o,h,c){return n.apply(this,arguments)}return r}(),onChange:l}}),(0,F.jsx)(W.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,F.jsx)(_.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(v)})})]})}},90960:function(oe,A,e){e.r(A);var Q=e(25359),D=e.n(Q),X=e(49811),N=e.n(X),k=e(57213),x=e.n(k),H=e(93525),I=e.n(H),Y=e(54306),L=e.n(Y),W=e(95810),_=e(92994),b=e(80762),F=e(87871),U=e(97143),d=e(95234),$=e(76861),G=e(95598),g=e(24501),P=e(50959),l=e(11527),J=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},u)})},R=function(u){var n=u.value,r=u.onChange,o=(0,P.useRef)(null),h=(0,P.useState)([]),c=L()(h,2),z=c[0],B=c[1],t=(0,P.useState)(""),i=L()(t,2),p=i[0],T=i[1],y=function(K){T(K.target.value)},s=function(){var K=I()(n||[]);p&&K.filter(function(q){return q.label===p}).length===0&&(K=[].concat(I()(K),[{key:"new-".concat(K.length),label:p}])),r==null||r(K),B([]),T("")};return(0,l.jsxs)(U.Z,{children:[(n||[]).concat(z).map(function(Z){return(0,l.jsx)(d.Z,{children:Z.label},Z.key)}),(0,l.jsx)($.Z,{ref:o,type:"text",size:"small",style:{width:78},value:p,onChange:y,onBlur:s,onPressEnter:s})]})},v=[{id:624748504,title:"\u6D3B\u52A8\u540D\u79F0\u4E00",labels:[{key:"woman",label:"\u5DDD\u59B9\u5B50"}],state:"open",created_at:1590486176e3},{id:624691229,title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",labels:[{key:"man",label:"\u897F\u5317\u6C49\u5B50"}],state:"closed",created_at:1590481162e3}],a=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u6807\u7B7E",dataIndex:"labels",width:"20%",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]},renderFormItem:function(u,n){var r=n.isEditable;return r?(0,l.jsx)(R,{}):(0,l.jsx)($.Z,{})},render:function(u,n){var r;return n==null||(r=n.labels)===null||r===void 0?void 0:r.map(function(o){return(0,l.jsx)(d.Z,{children:o.label},o.key)})}},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(u,n,r,o){return[(0,l.jsx)("a",{onClick:function(){var c;o==null||(c=o.startEditable)===null||c===void 0||c.call(o,n.id)},children:"\u7F16\u8F91"},"editable"),(0,l.jsx)(_.Z.RecordCreator,{record:x()(x()({},n),{},{id:(Math.random()*1e6).toFixed(0)}),children:(0,l.jsx)("a",{children:"\u590D\u5236\u6B64\u9879\u5230\u672B\u5C3E"})},"copy")]}}];A.default=function(){var M=(0,P.useRef)(),u=(0,P.useState)([]),n=L()(u,2),r=n[0],o=n[1],h=(0,P.useState)([]),c=L()(h,2),z=c[0],B=c[1],t=G.Z.useForm(),i=L()(t,1),p=i[0];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(U.Z,{children:[(0,l.jsx)(g.ZP,{type:"primary",onClick:function(){var y,s;(y=M.current)===null||y===void 0||(s=y.addEditRecord)===null||s===void 0||s.call(y,{id:(Math.random()*1e6).toFixed(0),title:"\u65B0\u7684\u4E00\u884C"})},icon:(0,l.jsx)(W.Z,{}),children:"\u65B0\u5EFA\u4E00\u884C"}),(0,l.jsx)(g.ZP,{onClick:function(){p.resetFields()},children:"\u91CD\u7F6E\u8868\u5355"},"rest")]}),(0,l.jsx)(_.Z,{rowKey:"id",scroll:{x:960},actionRef:M,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,recordCreatorProps:!1,columns:a,request:N()(D()().mark(function T(){return D()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",{data:v,total:3,success:!0});case 1:case"end":return s.stop()}},T)})),value:z,onChange:B,editable:{form:p,editableKeys:r,onSave:function(){var T=N()(D()().mark(function s(){return D()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,J(2e3);case 2:case"end":return K.stop()}},s)}));function y(){return T.apply(this,arguments)}return y}(),onChange:o,actionRender:function(y,s,Z){return[Z.save,Z.cancel]}}}),(0,l.jsx)(b.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,l.jsx)(F.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(z)})})]})}},12424:function(oe,A,e){e.r(A);var Q=e(25359),D=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(49509),I=e(92994),Y=e(79628),L=e(4168),W=e(80762),_=e(93267),b=e(87871),F=e(24501),U=e(50959),d=e(11527),$=[{id:"624748504",title:"\u6D3B\u52A8\u540D\u79F0\u4E00",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3,update_at:1590486176e3},{id:"624691229",title:"\u6D3B\u52A8\u540D\u79F0\u4E8C",decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"closed",created_at:1590481162e3,update_at:1590481162e3}],G=0;A.default=function(){var g=(0,U.useState)(function(){return[]}),P=x()(g,2),l=P[0],J=P[1],R=(0,U.useState)("bottom"),v=x()(R,2),a=v[0],M=v[1],u=(0,U.useState)(!1),n=x()(u,2),r=n[0],o=n[1],h=(0,U.useRef)(),c=(0,U.useRef)(),z=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",formItemProps:function(){return{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},width:"30%"},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u6D3B\u52A8\u65F6\u95F4",dataIndex:"created_at",valueType:"date"},{title:"\u64CD\u4F5C",valueType:"option",width:200,render:function(t,i,p,T){return[(0,d.jsx)("a",{onClick:function(){var s;T==null||(s=T.startEditable)===null||s===void 0||s.call(T,i.id)},children:"\u7F16\u8F91"},"editable"),(0,d.jsx)("a",{onClick:function(){var s,Z,K=(s=h.current)===null||s===void 0?void 0:s.getFieldValue("table");(Z=h.current)===null||Z===void 0||Z.setFieldsValue({table:K.filter(function(q){return q.id!==i.id})})},children:"\u5220\u9664"},"delete")]}}];return(0,d.jsxs)(H.A,{formRef:h,initialValues:{table:$},validateTrigger:"onBlur",children:[(0,d.jsx)(I.Z,{rowKey:"id",scroll:{x:960},editableFormRef:c,headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",maxLength:5,name:"table",controlled:r,recordCreatorProps:a!=="hidden"?{position:a,record:function(){return{id:(Math.random()*1e6).toFixed(0)}}}:!1,toolBarRender:function(){return[(0,d.jsx)(Y.Z,{fieldProps:{style:{marginBlockEnd:0},checked:r,onChange:function(i){o(i)}},checkedChildren:"\u6570\u636E\u66F4\u65B0\u901A\u77E5 Form",unCheckedChildren:"\u4FDD\u5B58\u540E\u901A\u77E5 Form",noStyle:!0},"render"),(0,d.jsx)(L.Z,{fieldProps:{style:{marginBlockEnd:0},value:a,onChange:function(i){M(i)}},noStyle:!0,request:N()(D()().mark(function t(){return D()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",[{label:"\u6DFB\u52A0\u5230\u9876\u90E8",value:"top"},{label:"\u6DFB\u52A0\u5230\u5E95\u90E8",value:"bottom"},{label:"\u9690\u85CF",value:"hidden"}]);case 1:case"end":return p.stop()}},t)}))},"render"),(0,d.jsx)(F.ZP,{onClick:function(){var i,p,T=(i=c.current)===null||i===void 0||(p=i.getRowsData)===null||p===void 0?void 0:p.call(i);console.log(T)},children:"\u83B7\u53D6 table \u7684\u6570\u636E"},"rows")]},columns:z,editable:{type:"multiple",editableKeys:l,onChange:J,actionRender:function(t,i,p){return[p.save,p.delete||p.cancel,(0,d.jsx)("a",{onClick:function(){var y,s;console.log(i.index),G++,(y=c.current)===null||y===void 0||(s=y.setRowData)===null||s===void 0||s.call(y,i.index,{title:"\u52A8\u6001\u8BBE\u7F6E\u7684title"+G})},children:"\u52A8\u6001\u8BBE\u7F6E\u6B64\u9879"},"set")]}}}),(0,d.jsx)(H.A.Item,{children:(0,d.jsx)(W.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,d.jsx)(_.Z,{name:["table"],children:function(t){var i=t.table;return(0,d.jsx)(b.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(i)})}})})})]})}},73325:function(oe,A,e){e.r(A);var Q=e(25359),D=e.n(Q),X=e(49811),N=e.n(X),k=e(54306),x=e.n(k),H=e(80762),I=e(49509),Y=e(93267),L=e(979),W=e(92994),_=e(50959),b=e(11527),F=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];A.default=function(){var U=(0,_.useState)(function(){return[]}),d=x()(U,2),$=d[0],G=d[1],g=(0,_.useRef)(),P=(0,_.useRef)(),l=(0,_.useRef)(),J=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var R=N()(D()().mark(function a(){return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return u.stop()}},a)}));function v(){return R.apply(this,arguments)}return v}(),fieldProps:function(v,a){var M=a.rowIndex;return{onSelect:function(){var n,r;(n=l.current)===null||n===void 0||(r=n.setRowData)===null||r===void 0||r.call(n,M,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(v){var a=v==null?void 0:v.scoringMethod;return a==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var R=N()(D()().mark(function a(){return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",["A","B","D","E","F"].map(function(n,r){return{label:n,value:r}}));case 1:case"end":return u.stop()}},a)}));function v(){return R.apply(this,arguments)}return v}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(v,a){return[(0,b.jsx)("a",{onClick:function(){var u,n,r=(u=g.current)===null||u===void 0?void 0:u.getFieldValue("table");(n=g.current)===null||n===void 0||n.setFieldsValue({table:r.filter(function(o){return o.id!==(a==null?void 0:a.id)})})},children:"\u79FB\u9664"},"delete"),(0,b.jsx)("a",{onClick:function(){var u;(u=P.current)===null||u===void 0||u.startEditable(a.id)},children:"\u7F16\u8F91"},"edit")]}}];return(0,b.jsx)(H.Z,{children:(0,b.jsx)("div",{style:{maxWidth:800,margin:"auto"},children:(0,b.jsxs)(I.A,{formRef:g,initialValues:{table:F},children:[(0,b.jsx)(Y.Z,{name:["table"],children:function(v){var a=v.table,M=a.reduce(function(u,n){return{totalScore:u.totalScore+parseInt(((n==null?void 0:n.fraction)||0).toString(),10),questions:u.questions+parseInt(((n==null?void 0:n.questionsNum)||0).toString(),10)}},{totalScore:0,questions:0});return(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,paddingBlockEnd:16},children:[(0,b.jsxs)("div",{style:{flex:1},children:["\u603B\u5206\uFF1A",M.totalScore]}),(0,b.jsxs)("div",{style:{flex:1},children:["\u9898\u6570\uFF1A",M.questions]}),(0,b.jsx)("div",{style:{flex:2},children:(0,b.jsx)(L.Z,{label:"\u53CA\u683C\u5206"})}),(0,b.jsx)("div",{style:{flex:2},children:(0,b.jsx)(L.Z,{label:"\u8003\u8BD5\u65F6\u95F4(\u5206\u949F)"})})]})}}),(0,b.jsx)(W.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:l,controlled:!0,actionRef:P,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var R=N()(D()().mark(function a(M,u){return D()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(u.length<1)){r.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(u.length>5)){r.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return r.stop()}},a)}));function v(a,M){return R.apply(this,arguments)}return v}()}]},maxLength:10,name:"table",columns:J,recordCreatorProps:{record:function(v){return{id:v+1}}},editable:{type:"multiple",editableKeys:$,onChange:G}})]})})})}},52050:function(oe,A,e){e.r(A);var Q=e(54306),D=e.n(Q),X=e(92994),N=e(80762),k=e(87871),x=e(24501),H=e(50959),I=e(11527),Y=new Array(20).fill(1).map(function(L,W){return{id:(Date.now()+W).toString(),title:"\u6D3B\u52A8\u540D\u79F0".concat(W),decs:"\u8FD9\u4E2A\u6D3B\u52A8\u771F\u597D\u73A9",state:"open",created_at:1590486176e3}});A.default=function(){var L=(0,H.useState)(function(){return Y.map(function(g){return g.id})}),W=D()(L,2),_=W[0],b=W[1],F=(0,H.useState)(function(){return Y}),U=D()(F,2),d=U[0],$=U[1],G=[{title:"\u6D3B\u52A8\u540D\u79F0",dataIndex:"title",width:"30%",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"},{message:"\u5FC5\u987B\u5305\u542B\u6570\u5B57",pattern:/[0-9]/},{max:16,whitespace:!0,message:"\u6700\u957F\u4E3A 16 \u4F4D"},{min:6,whitespace:!0,message:"\u6700\u5C0F\u4E3A 6 \u4F4D"}]}},{title:"\u72B6\u6001",key:"state",dataIndex:"state",valueType:"select",valueEnum:{all:{text:"\u5168\u90E8",status:"Default"},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success"}}},{title:"\u63CF\u8FF0",dataIndex:"decs"},{title:"\u64CD\u4F5C",valueType:"option",width:250,render:function(){return null}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(X.Z,{headerTitle:"\u53EF\u7F16\u8F91\u8868\u683C",columns:G,rowKey:"id",scroll:{x:960},value:d,onChange:$,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now()}}},toolBarRender:function(){return[(0,I.jsx)(x.ZP,{type:"primary",onClick:function(){console.log(d)},children:"\u4FDD\u5B58\u6570\u636E"},"save")]},editable:{type:"multiple",editableKeys:_,actionRender:function(P,l,J){return[J.delete]},onValuesChange:function(P,l){$(l)},onChange:b}}),(0,I.jsx)(N.Z,{title:"\u8868\u683C\u6570\u636E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,I.jsx)(k.Z,{ignoreFormItem:!0,fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(d)})})]})}},92994:function(oe,A,e){var Q=e(52510),D=e.n(Q),X=e(54306),N=e.n(X),k=e(12342),x=e.n(k),H=e(25359),I=e.n(H),Y=e(49811),L=e.n(Y),W=e(57213),_=e.n(W),b=e(95810),F=e(93267),U=e(37397),d=e(83626),$=e(62357),G=e(45546),g=e(77337),P=e(24501),l=e(95598),J=e(96480),R=e(16781),v=e(50151),a=e(50959),M=e(37616),u=e(29544),n=e(11527),r=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],o=["record","position","creatorButtonText","newRecordType","parentKey","style"],h=a.createContext(void 0);function c(t){var i=t.children,p=t.record,T=t.position,y=t.newRecordType,s=t.parentKey,Z=(0,a.useContext)(h);return a.cloneElement(i,_()(_()({},i.props),{},{onClick:function(){var K=L()(I()().mark(function de(ce){var se,ie,te,ne;return I()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(se=(ie=i.props).onClick)===null||se===void 0?void 0:se.call(ie,ce);case 2:if(ne=V.sent,ne!==!1){V.next=5;break}return V.abrupt("return");case 5:Z==null||(te=Z.current)===null||te===void 0||te.addEditRecord(p,{position:T,newRecordType:y,parentKey:s});case 6:case"end":return V.stop()}},de)}));function q(de){return K.apply(this,arguments)}return q}()}))}function z(t){var i,p,T=(0,d.YB)(),y=t.onTableChange,s=t.maxLength,Z=t.formItemProps,K=t.recordCreatorProps,q=t.rowKey,de=t.controlled,ce=t.defaultValue,se=t.onChange,ie=t.editableFormRef,te=x()(t,r),ne=(0,a.useRef)(void 0),ae=(0,a.useRef)(),V=(0,a.useRef)();(0,a.useImperativeHandle)(te.actionRef,function(){return ae.current},[ae.current]);var pe=(0,J.default)(function(){return t.value||ce||[]},{value:t.value,onChange:t.onChange}),he=N()(pe,2),C=he[0],De=he[1],_e=a.useMemo(function(){return typeof q=="function"?q:function(S,m){return S[q]||m}},[q]),fe=function(m){if(typeof m=="number"&&!t.name){if(m>=C.length)return m;var f=C&&C[m];return _e==null?void 0:_e(f,m)}if((typeof m=="string"||m>=C.length)&&t.name){var E=C.findIndex(function(O,j){var w;return(_e==null||(w=_e(O,j))===null||w===void 0?void 0:w.toString())===(m==null?void 0:m.toString())});if(E!==-1)return E}return m};(0,a.useImperativeHandle)(ie,function(){var S=function(E){var O,j;if(E==null)throw new Error("rowIndex is required");var w=fe(E),ee=[t.name,(O=w==null?void 0:w.toString())!==null&&O!==void 0?O:""].flat(1).filter(Boolean);return(j=V.current)===null||j===void 0?void 0:j.getFieldValue(ee)},m=function(){var E,O=[t.name].flat(1).filter(Boolean);if(Array.isArray(O)&&O.length===0){var j,w=(j=V.current)===null||j===void 0?void 0:j.getFieldsValue();return Array.isArray(w)?w:Object.keys(w).map(function(ee){return w[ee]})}return(E=V.current)===null||E===void 0?void 0:E.getFieldValue(O)};return _()(_()({},V.current),{},{getRowData:S,getRowsData:m,setRowData:function(E,O){var j,w;if(E==null)throw new Error("rowIndex is required");var ee=fe(E),le=[t.name,(j=ee==null?void 0:ee.toString())!==null&&j!==void 0?j:""].flat(1).filter(Boolean),ye=Object.assign({},_()(_()({},S(E)),O||{})),Ie=(0,v.default)({},le,ye);return(w=V.current)===null||w===void 0||w.setFieldsValue(Ie),!0}})},[t.name,V.current]),(0,a.useEffect)(function(){t.controlled&&C.forEach(function(S,m){var f;(f=V.current)===null||f===void 0||f.setFieldsValue(D()({},_e(S,m),S))},{})},[(0,M.P)(C),t.controlled]),(0,a.useEffect)(function(){if(t.name){var S;V.current=t==null||(S=t.editable)===null||S===void 0?void 0:S.form}},[(i=t.editable)===null||i===void 0?void 0:i.form,t.name]);var re=K||{},be=re.record,me=re.position,Pe=re.creatorButtonText,ge=re.newRecordType,Me=re.parentKey,Oe=re.style,Ce=x()(re,o),Ee=me==="top",ue=(0,a.useMemo)(function(){return typeof s=="number"&&s<=(C==null?void 0:C.length)?!1:K!==!1&&(0,n.jsx)(c,{record:(0,$.h)(be,C==null?void 0:C.length,C)||{},position:me,parentKey:(0,$.h)(Me,C==null?void 0:C.length,C),newRecordType:ge,children:(0,n.jsx)(P.ZP,_()(_()({type:"dashed",style:_()({display:"block",margin:"10px 0",width:"100%"},Oe),icon:(0,n.jsx)(b.Z,{})},Ce),{},{children:Pe||T.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[K,s,C==null?void 0:C.length]),Re=(0,a.useMemo)(function(){return ue?Ee?{components:{header:{wrapper:function(m){var f,E=m.className,O=m.children;return(0,n.jsxs)("thead",{className:E,children:[O,(0,n.jsxs)("tr",{style:{position:"relative"},children:[(0,n.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:ue}),(0,n.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(f=te.columns)===null||f===void 0?void 0:f.length,children:ue})]})]})}}}}:{tableViewRender:function(m,f){var E,O;return(0,n.jsxs)(n.Fragment,{children:[(E=(O=t.tableViewRender)===null||O===void 0?void 0:O.call(t,m,f))!==null&&E!==void 0?E:f,ue]})}}:{}},[Ee,ue]),ve=_()({},t.editable),Te=(0,G.J)(function(S,m){var f,E,O;if((f=t.editable)===null||f===void 0||(E=f.onValuesChange)===null||E===void 0||E.call(f,S,m),(O=t.onValuesChange)===null||O===void 0||O.call(t,m,S),t.controlled){var j;t==null||(j=t.onChange)===null||j===void 0||j.call(t,m)}});return(t!=null&&t.onValuesChange||(p=t.editable)!==null&&p!==void 0&&p.onValuesChange||t.controlled&&t!==null&&t!==void 0&&t.onChange)&&(ve.onValuesChange=Te),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Provider,{value:ae,children:(0,n.jsx)(u.Z,_()(_()(_()({search:!1,options:!1,pagination:!1,rowKey:q,revalidateOnFocus:!1},te),Re),{},{tableLayout:"fixed",actionRef:ae,onChange:y,editable:_()(_()({},ve),{},{formProps:_()({formRef:V},ve.formProps)}),dataSource:C,onDataSourceChange:function(m){if(De(m),t.name&&me==="top"){var f,E=(0,v.default)({},[t.name].flat(1).filter(Boolean),m);(f=V.current)===null||f===void 0||f.setFieldsValue(E)}}}))}),t.name?(0,n.jsx)(F.Z,{name:[t.name],children:function(m){var f,E;if(!ne.current)return ne.current=C,null;var O=(0,R.default)(m,[t.name].flat(1)),j=O==null?void 0:O.find(function(w,ee){var le;return!(0,g.A)(w,(le=ne.current)===null||le===void 0?void 0:le[ee])});return ne.current=C,j&&(t==null||(f=t.editable)===null||f===void 0||(E=f.onValuesChange)===null||E===void 0||E.call(f,j,O)),null}}):null]})}function B(t){var i=U.ZP.useFormInstance();return t.name?(0,n.jsx)(l.Z.Item,_()(_()({style:{maxWidth:"100%"}},t==null?void 0:t.formItemProps),{},{name:t.name,shouldUpdate:function(T,y){var s=[t.name].flat(1);try{return JSON.stringify((0,R.default)(T,s))!==JSON.stringify((0,R.default)(y,s))}catch(Z){return!0}},children:(0,n.jsx)(z,_()(_()({},t),{},{editable:_()(_()({},t.editable),{},{form:i})}))})):(0,n.jsx)(z,_()({},t))}B.RecordCreator=c,A.Z=B}}]);
