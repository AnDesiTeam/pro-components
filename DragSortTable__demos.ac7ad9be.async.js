"use strict";(self.webpackChunkpro_components=self.webpackChunkpro_components||[]).push([[5353],{74725:function(ne,y,e){e.d(y,{Z:function(){return K}});var R=e(37469),S=e(50959),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},I=O,j=e(82579),n=function(A,v){return S.createElement(j.Z,(0,R.Z)({},A,{ref:v,icon:I}))},K=S.forwardRef(n)},85525:function(ne,y,e){e.r(y);var R=e(48305),S=e.n(R),O=e(26068),I=e.n(O),j=e(90228),n=e.n(j),K=e(87999),T=e.n(K),A=e(74725),v=e(98424),B=e(92583),L=e(50959),m=e(11527),_=[{key:"key1",name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:"key2",name:"Jim Green",age:42,address:"London No. 1 Lake Park"},{key:"key3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"}],q=function(){var h=T()(n()().mark(function i(){var P,c=arguments;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return P=c.length>0&&c[0]!==void 0?c[0]:1e3,t.abrupt("return",new Promise(function(w){return setTimeout(function(){return w(void 0)},P)}));case 2:case"end":return t.stop()}},i)}));return function(){return h.apply(this,arguments)}}(),F=_.map(function(h){return I()(I()({},h),{},{name:"[remote data] ".concat(h.name)})}),H=function(){var h=T()(n()().mark(function i(){return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,q(3e3);case 2:return c.abrupt("return",{data:F,total:F.length,success:!0});case 3:case"end":return c.stop()}},i)}));return function(){return h.apply(this,arguments)}}();y.default=function(){var h=[{title:"\u6392\u5E8F",dataIndex:"sort",render:function(U,M,D){return(0,m.jsx)("span",{className:"customRender",children:"\u81EA\u5B9A\u4E49Render[".concat(M.name,"-").concat(D,"]")})}},{title:"\u59D3\u540D",dataIndex:"name",className:"drag-visible"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5730\u5740",dataIndex:"address"}],i=[{title:"\u6392\u5E8F",dataIndex:"sort"},{title:"\u59D3\u540D",dataIndex:"name",className:"drag-visible"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5730\u5740",dataIndex:"address"}],P=(0,L.useRef)(),c=(0,L.useState)(_),Y=S()(c,2),t=Y[0],w=Y[1],re=(0,L.useState)(_),X=S()(re,2),ae=X[0],te=X[1],oe=function(U,M,D){console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",D),w(D),B.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")},de=function(U,M,D){console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",D),te(D),B.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")},se=function(U,M,D){var Q;console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",D),F=D,(Q=P.current)===null||Q===void 0||Q.reload(),B.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")},ue=function(U,M){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(A.Z,{style:{cursor:"grab",color:"gold"}}),"\xA0",M+1," - ",U.name]})};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v.Z,{headerTitle:"\u62D6\u62FD\u6392\u5E8F(\u9ED8\u8BA4\u628A\u624B)",columns:h,rowKey:"key",search:!1,pagination:!1,dataSource:t,dragSortKey:"sort",onDragSortEnd:oe}),(0,m.jsx)(v.Z,{headerTitle:"\u62D6\u62FD\u6392\u5E8F(\u81EA\u5B9A\u4E49\u628A\u624B)",columns:i,rowKey:"key",search:!1,pagination:!1,dataSource:ae,dragSortKey:"sort",dragSortHandlerRender:ue,onDragSortEnd:de}),(0,m.jsx)(v.Z,{actionRef:P,headerTitle:"\u4F7F\u7528 request \u83B7\u53D6\u6570\u636E\u6E90",columns:i,rowKey:"key",search:!1,pagination:!1,request:H,dragSortKey:"sort",onDragSortEnd:se})]})}},71226:function(ne,y,e){e.r(y);var R=e(48305),S=e.n(R),O=e(98424),I=e(92583),j=e(50959),n=e(11527),K=[{title:"\u6392\u5E8F",dataIndex:"sort",width:60,className:"drag-visible"},{title:"\u59D3\u540D",dataIndex:"name",className:"drag-visible"},{title:"\u5E74\u9F84",dataIndex:"age"},{title:"\u5730\u5740",dataIndex:"address"}],T=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"}];y.default=function(){var A=(0,j.useState)(T),v=S()(A,2),B=v[0],L=v[1],m=function(q,F,H){console.log("\u6392\u5E8F\u540E\u7684\u6570\u636E",H),L(H),I.ZP.success("\u4FEE\u6539\u5217\u8868\u6392\u5E8F\u6210\u529F")};return(0,n.jsx)(O.Z,{headerTitle:"\u62D6\u62FD\u6392\u5E8F(\u9ED8\u8BA4\u628A\u624B)",columns:K,rowKey:"key",search:!1,pagination:!1,dataSource:B,dragSortKey:"sort",onDragSortEnd:m})}},98424:function(ne,y,e){e.d(y,{Z:function(){return ve}});var R=e(90228),S=e.n(R),O=e(87999),I=e.n(O),j=e(26068),n=e.n(j),K=e(48305),T=e.n(K),A=e(67825),v=e.n(A),B=e(77520),L=e(8353),m=e(61657),_=e(50959),q=e(91860),F=e(36075),H=e.n(F),h=e(19548),i=e(85264),P=e(20058),c=e(87147),Y=e(47581),t=e(11527),w=["DragHandle","dragSortKey"],re=["dragSortKey"],X=(0,_.createContext)({handle:null}),ae=function(a){var d=(0,c.nB)({id:a.id}),g=d.attributes,E=d.listeners,p=d.setNodeRef,W=d.transform,G=d.transition,V=n()({transform:Y.ux.Transform.toString(W),transition:G},a==null?void 0:a.style),N=a.DragHandle,C=a.dragSortKey,x=v()(a,w);if(C){var b=[];return _.Children.forEach(x.children,function(o,f){if(o.key===C){var s,l;b.push((0,t.jsx)(X.Provider,{value:{handle:(0,t.jsx)(N,n()(n()({rowData:o==null||(s=o.props)===null||s===void 0?void 0:s.record,index:o==null||(l=o.props)===null||l===void 0?void 0:l.index},E),g))},children:o},o.key||f));return}b.push(o)}),(0,t.jsx)("tr",n()(n()({},x),{},{ref:p,style:V,children:b}))}return(0,t.jsx)("tr",n()(n()(n()({},x),{},{ref:p,style:V},g),E))},te=_.memo(function(r){var a=r.dragSortKey,d=v()(r,re),g=(0,_.useContext)(X),E=g.handle;return E?(0,t.jsx)("td",n()(n()({},d),{},{children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[E," ",d.children]})})):(0,t.jsx)("td",n()({},d))}),oe=function(a){return(0,t.jsx)("tbody",n()({},a))};function de(r){var a=r.dataSource,d=a===void 0?[]:a,g=r.onDragSortEnd,E=r.DragHandle,p=r.dragSortKey,W=(0,i.Dy)((0,i.VT)(i.we),(0,i.VT)(i.MA)),G=(0,_.useCallback)(function(o){var f,s=o.active,l=o.over;if(l!=null&&(f=l.id)!==null&&f!==void 0&&f.toString()&&s.id!==(l==null?void 0:l.id)){var z=(0,c.Rp)(d||[],parseInt(s.id),parseInt(l.id));g==null||g(parseInt(s.id),parseInt(l.id),z||[])}},[d,g]),V=(0,h.J)(function(o){return(0,t.jsx)(c.Fo,{items:d.map(function(f,s){return s==null?void 0:s.toString()}),strategy:c.qw,children:(0,t.jsx)(oe,n()({},o))})}),N=(0,h.J)(function(o){var f,s=Object.assign({},(H()(o),o)),l=(f=d.findIndex(function(z){var k;return z[(k=r.rowKey)!==null&&k!==void 0?k:"index"]===s["data-row-key"]}))===null||f===void 0?void 0:f.toString();return(0,t.jsx)(ae,n()({id:l,dragSortKey:p,DragHandle:E},s),l)}),C=r.components||{};if(p){var x;C.body=n()(n()({},((x=r.components)===null||x===void 0?void 0:x.body)||{}),{},{wrapper:V,row:N,cell:te})}var b=(0,_.useMemo)(function(){return function(o){return(0,t.jsx)(i.LB,{modifiers:[P.DL],sensors:W,collisionDetection:i.pE,onDragEnd:G,children:o.children})}},[G,W]);return{DndContext:b,components:C}}var se=e(82092),ue=e.n(se),J=e(99708),U=function(a){return ue()({},a.componentCls,{"&-icon":{marginInlineEnd:8,color:a.colorTextSecondary,cursor:"grab !important",padding:4,fontSize:12,borderRadius:a.borderRadius,"&:hover":{color:a.colorText,backgroundColor:a.colorInfoBg}}})};function M(r){return(0,J.Xj)("DragSortTable",function(a){var d=n()(n()({},a),{},{componentCls:".".concat(r)});return[U(d)]})}var D=["rowKey","dragSortKey","dragSortHandlerRender","onDragSortEnd","onDataSourceChange","defaultData","dataSource","onLoad"],Q=["rowData","index","className"];function ce(r){var a,d=r.rowKey,g=r.dragSortKey,E=r.dragSortHandlerRender,p=r.onDragSortEnd,W=r.onDataSourceChange,G=r.defaultData,V=r.dataSource,N=r.onLoad,C=v()(r,D),x=(0,_.useContext)(L.ZP.ConfigContext),b=x.getPrefixCls,o=(0,m.default)(function(){return G||[]},{value:V,onChange:W}),f=T()(o,2),s=f[0],l=f[1],z=M(b("pro-table-drag")),k=z.wrapSSR,me=z.hashId,_e=(0,_.useMemo)(function(){return function(u){var ee=u.rowData,$=u.index,ie=u.className,Z=v()(u,Q),he=(0,t.jsx)(B.Z,n()(n()({},Z),{},{className:"".concat(b("pro-table-drag-icon")," ").concat(ie||""," ").concat(me||"").trim()})),Se=E?E(u==null?void 0:u.rowData,u==null?void 0:u.index):he;return(0,t.jsx)("div",n()(n()({},Z),{},{children:Se}))}},[b]),le=de({dataSource:s==null?void 0:s.slice(),dragSortKey:g,onDragSortEnd:p,components:r.components,rowKey:d,DragHandle:_e}),ge=le.components,fe=le.DndContext,De=function(){var u=I()(S()().mark(function ee($){return S()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return l($),Z.abrupt("return",N==null?void 0:N($));case 2:case"end":return Z.stop()}},ee)}));return function($){return u.apply(this,arguments)}}();return k((0,t.jsx)(q.Z,n()(n()({},C),{},{columns:(a=C.columns)===null||a===void 0?void 0:a.map(function(u){return(u.dataIndex==g||u.key===g)&&(u.render||(u.render=function(){return null})),u}),onLoad:De,rowKey:d,tableViewRender:function(ee,$){return(0,t.jsx)(fe,{children:$})},dataSource:s,components:ge,onDataSourceChange:W})))}var ve=ce}}]);
